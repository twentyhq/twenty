// Jest Snapshot v1, https://jestjs.io/docs/snapshot-testing

exports[`Install application should fail should return true when feature flag is enabled 1`] = `
{
  "eventId": Any<String>,
  "extensions": {
    "action": {
      "metadataName": "skill",
      "type": "delete",
      "universalIdentifier": Any<String>,
    },
    "code": "APPLICATION_INSTALLATION_FAILED",
    "errors": {
      "metadata": {
        "message": "Could not find flat entity with universal identifier test-skill-id",
        "stack": "Error: Could not find flat entity with universal identifier test-skill-id
    at findFlatEntityByUniversalIdentifierOrThrow (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/metadata-modules/flat-entity/utils/find-flat-entity-by-universal-identifier-or-throw.util.ts:20:15)
    at DeleteSkillActionHandlerService.executeForMetadata (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/workspace-manager/workspace-migration/workspace-migration-runner/action-handlers/skill/services/delete-skill-action-handler.service.ts:31:122)
    at method (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/workspace-manager/workspace-migration/workspace-migration-runner/interfaces/workspace-migration-runner-action-handler-service.interface.ts:78:40)
    at DeleteSkillActionHandlerService.asyncMethodPerformanceMetricWrapper (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/workspace-manager/workspace-migration/workspace-migration-runner/interfaces/workspace-migration-runner-action-handler-service.interface.ts:111:15)
    at DeleteSkillActionHandlerService.execute (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/workspace-manager/workspace-migration/workspace-migration-runner/interfaces/workspace-migration-runner-action-handler-service.interface.ts:76:18)
    at WorkspaceMigrationRunnerActionHandlerRegistryService.executeActionHandler (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/workspace-manager/workspace-migration/workspace-migration-runner/registry/workspace-migration-runner-action-handler-registry.service.ts:60:30)
    at WorkspaceMigrationRunnerService.run (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/workspace-manager/workspace-migration/workspace-migration-runner/services/workspace-migration-runner.service.ts:138:89)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async ApplicationResolver.installApplication (/Users/paulrastoin/ws/twenty/packages/twenty-server/src/engine/core-modules/application/application.resolver.ts:138:9)",
      },
    },
    "exceptionEventId": Any<String>,
    "userFriendlyMessage": "Application installation failed",
  },
  "message": "Migration action 'delete' for 'skill' failed. Metadata: Could not find flat entity with universal identifier test-skill-id",
  "name": "GraphQLError",
}
`;
