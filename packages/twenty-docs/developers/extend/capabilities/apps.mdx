---
title: Twenty Apps
description: Build and manage Twenty customizations as code.
---

<Warning>
Apps are currently in alpha testing. The feature is functional but still evolving.
</Warning>

## What Are Apps?

Apps let you build and manage Twenty customizations **as code**. Instead of configuring everything through the UI, you define your data model and serverless functions in code — making it faster to build, maintain, and roll out to multiple workspaces.

**What you can do today:**
- Define custom objects and fields as code (managed data model)
- Build serverless functions with custom triggers
- Deploy the same app across multiple workspaces

**Coming soon:**
- Custom UI layouts and components

## Prerequisites

- Node.js 24+ and Yarn 4
- A Twenty workspace and an API key (create one at https://app.twenty.com/settings/api-webhooks)

## Getting Started

Create a new app using the official scaffolder, then authenticate and start developing:

```bash filename="Terminal"
# Scaffold a new app
npx create-twenty-app@latest my-twenty-app
cd my-twenty-app

# Authenticate using your API key (you'll be prompted)
yarn auth

# Start dev mode: automatically syncs local changes to your workspace
yarn dev
```

From here you can:

```bash filename="Terminal"
# Add a new entity to your application (guided)
yarn create-entity

# Generate a typed Twenty client and workspace entity types
yarn generate

# Run a one‑time sync (instead of watch mode)
yarn sync

# Watch your application's functions logs
yarn logs

# Uninstall the application from the current workspace
yarn uninstall

# Display commands' help
yarn help
```

See also: the CLI reference pages for [create-twenty-app](https://www.npmjs.com/package/create-twenty-app) and [twenty-sdk CLI](https://www.npmjs.com/package/twenty-sdk).

## Project structure (scaffolded)

When you run `npx create-twenty-app`, you get a minimal project with:

- TypeScript configured out of the box
- Scripts that wrap the `twenty` CLI from the locally installed `twenty-sdk`
- Example placeholders to help you add entities, actions, and sync logic

Open the README in your scaffolded project for a full tour. The most important scripts are listed above.

## Authentication

The first time you run `yarn auth`, you'll be prompted for:

- API URL (defaults to http://localhost:3000 or your current workspace profile)
- API key

Your credentials are stored per-user in `~/.twenty/config.json`. You can maintain multiple profiles and switch using `--workspace <name>`. See details in the [twenty-sdk CLI reference](https://www.npmjs.com/package/twenty-sdk).

Examples:

```bash filename="Terminal"
# Login interactively (recommended)
yarn auth

# Use a specific workspace profile
yarn auth --workspace my-custom-workspace
```

## Development workflow

1. Scaffold: `npx create-twenty-app@latest my-twenty-app`
2. Authenticate: `yarn auth`
3. Add entities and functions: `yarn create-entity`
4. Keep types updated: `yarn generate`
5. Iterate with instant sync: `yarn dev`
6. Inspect logs as you test: `yarn logs`
7. One-off syncs when needed: `yarn sync`
8. Clean up the workspace app: `yarn uninstall`

Tip: `yarn dev` performs an initial sync and watches for changes, syncing after a short debounce. Press Ctrl+C to stop.

## Use the SDK resources (types & config)

The twenty-sdk provides typed building blocks you use inside your app. Below are the key pieces you'll touch most often.

### Application config (application.config.ts)

Define global metadata and variables for your app using ApplicationConfig.

```
// application.config.ts
import { type ApplicationConfig } from 'twenty-sdk';

const config: ApplicationConfig = {
  universalIdentifier: '<your-app-uuid>',
  displayName: 'My App',
  description: 'What your app does',
  icon: 'IconWorld', // Choose an icon by name
  // Expose variables available to your serverless functions via process.env
  applicationVariables: {
    DEFAULT_RECIPIENT_NAME: {
      universalIdentifier: '<uuid>',
      description: 'Default recipient used by functions',
      value: 'Jane Doe',
      isSecret: false,
    },
  },
  // Role used by your functions (permissions in your workspace)
  functionRoleUniversalIdentifier: '<your-role-uuid>',
};

export default config;
```

Notes:
- applicationVariables become environment variables for your functions (e.g. process.env.DEFAULT_RECIPIENT_NAME).
- universalIdentifier fields are deterministic IDs you own; generate and keep them stable across syncs.

#### Roles and permissions

Applications can define roles that encapsulate permissions on your workspace’s objects and actions. The field `functionRoleUniversalIdentifier` in `application.config.ts` designates the default role used by your app’s serverless functions.

- The runtime API key injected as `TWENTY_API_KEY` is derived from this default function role.
- The typed client will be restricted to the permissions granted to that role.
- Follow least‑privilege: create a dedicated role with only the permissions your functions need, then reference its universal identifier.

##### Example: define a role

Create a role file that your application can use as its default function role. This example grants read/update on the `postCard` object, hides the `content` field, and allows the role to be assigned to applications.

```
// src/roles/function-role.ts
// Tip: In your project, import the proper types/enums:
// import { PermissionFlag, type RoleConfig } from 'twenty-sdk';

export const functionRole = {
  universalIdentifier: '<your-role-uuid>',
  label: 'Default function role',
  description: 'Default role for function Twenty client',
  canReadAllObjectRecords: false,
  canUpdateAllObjectRecords: false,
  canSoftDeleteAllObjectRecords: false,
  canDestroyAllObjectRecords: false,
  canUpdateAllSettings: false,
  canBeAssignedToAgents: false,
  canBeAssignedToUsers: false,
  canBeAssignedToApiKeys: false,
  objectPermissions: [
    {
      objectNameSingular: 'postCard',
      canReadObjectRecords: true,
      canUpdateObjectRecords: true,
      canSoftDeleteObjectRecords: false,
      canDestroyObjectRecords: false,
    },
  ],
  fieldPermissions: [
    {
      objectNameSingular: 'postCard',
      fieldName: 'content',
      canReadFieldValue: false,
      canUpdateFieldValue: false,
    },
  ],
  // If using the enum from 'twenty-sdk', this would be: [PermissionFlag.APPLICATIONS]
  permissionFlags: ['APPLICATIONS'],
} as const;
```

Then reference this role in your application config so your serverless functions use its permissions at runtime:

```ts filename="application.config.ts"
export default {
  // ...other config
  functionRoleUniversalIdentifier: '<your-role-uuid>',
};
```

Notes:
- Replace the `objectPermissions` and `fieldPermissions` with the objects/fields your functions need.
- `permissionFlags` control access to platform-level capabilities. Keep them minimal; add only what you need.
- See a working example in the Hello World app: `packages/twenty-apps/hello-world/src/roles/function-role.ts`.

### Serverless function config and entrypoint

Each function exports a main handler and a config describing its triggers. You can mix multiple trigger types.

```
// src/actions/create-new-post-card.ts
import type {
  FunctionConfig,
  DatabaseEventPayload,
  ObjectRecordCreateEvent,
  CronPayload,
} from 'twenty-sdk';
import Twenty, { type Person } from '../generated';

// main handler can accept parameters from route, cron, or database events
export const main = async (
  params:
    | { name?: string }
    | DatabaseEventPayload<ObjectRecordCreateEvent<Person>>
    | CronPayload,
) => {
  const client = new Twenty(); // generated typed client
  const name = 'name' in params
    ? params.name ?? process.env.DEFAULT_RECIPIENT_NAME ?? 'Hello world'
    : 'Hello world';

  const result = await client.mutation({
    createPostCard: {
      __args: { data: { name } },
      id: true,
      name: true,
    },
  });
  return result;
};

export const config: FunctionConfig = {
  universalIdentifier: '<function-uuid>',
  name: 'create-new-post-card',
  timeoutSeconds: 2,
  triggers: [
    // Public HTTP route trigger
    {
      universalIdentifier: '<route-trigger-uuid>',
      type: 'route',
      path: '/post-card/create',
      httpMethod: 'GET',
      isAuthRequired: false,
    },
    // Cron trigger (CRON pattern)
    {
      universalIdentifier: '<cron-trigger-uuid>',
      type: 'cron',
      pattern: '0 0 1 1 *',
    },
    // Database event trigger
    {
      universalIdentifier: '<db-trigger-uuid>',
      type: 'databaseEvent',
      eventName: 'person.created',
    },
  ],
};
```

Common trigger types:
- route: Exposes your function on an HTTP path and method.
- cron: Runs your function on a schedule using a CRON expression.
- databaseEvent: Runs on workspace object lifecycle events (e.g. person.created).

### Generated typed client

Run yarn generate to create a local typed client in generated/ based on your workspace schema. Use it in your functions:

```
import Twenty from './generated';

const client = new Twenty();
const { me } = await client.query({ me: { id: true, displayName: true } });
```

- The client is re-generated by yarn generate. Re-run after changing your objects or when onboarding to a new workspace.
- In some templates the client exports factory functions (e.g., createClient). Check your generated/index for the exact API.

#### Runtime credentials in serverless functions

When your function runs on Twenty, the platform injects credentials as environment variables before your code executes:

- TWENTY_API_URL: Base URL of the Twenty API your app targets.
- TWENTY_API_KEY: Short‑lived key scoped to your application’s default function role.

Notes:
- You do not need to pass URL or API key to the generated client. It reads TWENTY_API_URL and TWENTY_API_KEY from process.env at runtime.
- The API key’s permissions are determined by the role referenced in your application.config.ts via functionRoleUniversalIdentifier. This is the default role used by serverless functions of your application.
- Applications can define roles to follow least‑privilege. Grant only the permissions your functions need, then point functionRoleUniversalIdentifier to that role’s universal identifier.


### Hello World example

Explore a minimal, end-to-end example that demonstrates objects, functions, and multiple triggers:
- Repository path: packages/twenty-apps/hello-world
- GitHub: https://github.com/twentyhq/twenty/tree/main/packages/twenty-apps/hello-world

It shows: application.config.ts, a function with route/cron/databaseEvent triggers, and usage of the generated typed client.

## Manual setup (without the scaffolder)

While we recommend using `create-twenty-app` for the best getting-started experience, you can also set up a project manually. Do not install the CLI globally. Instead, add `twenty-sdk` as a local dependency and wire scripts in your package.json:

```bash filename="Terminal"
yarn add -D twenty-sdk
```

Then add scripts like these:

```json filename="package.json"
{
  "scripts": {
    "auth": "twenty auth login",
    "generate": "twenty app generate",
    "dev": "twenty app dev",
    "sync": "twenty app sync",
    "uninstall": "twenty app uninstall",
    "logs": "twenty app logs",
    "create-entity": "twenty app add",
    "help": "twenty --help"
  }
}
```

Now you can run the same commands via Yarn, e.g. `yarn dev`, `yarn sync`, etc.

## Troubleshooting

- Authentication errors: run `yarn auth` and ensure your API key has the required permissions.
- Cannot connect to server: verify the API URL and that the Twenty server is reachable.
- Types or client missing/outdated: run `yarn generate` and then `yarn dev`.
- Dev mode not syncing: ensure `yarn dev` is running and that changes are not ignored by your environment.

Discord Help Channel: https://discord.com/channels/1130383047699738754/1130386664812982322
