---
title: How to Authenticate with the API
info: "Set up authentication to access Twenty's REST and GraphQL APIs."
difficulty: "intermediate"
time: "15 minutes"
---

<Frame>
  <img src="/images/user-guide/api/api-authentication.png" alt="API Authentication" />
</Frame>

Twenty provides a powerful GraphQL API that allows you to integrate your CRM data with external systems, build custom applications, and automate complex workflows. This guide will walk you through the authentication process and help you make your first successful API calls.

## Understanding Twenty's API

### API Overview
Twenty uses a **GraphQL API** that provides:
- **Single endpoint** for all operations
- **Flexible queries** to get exactly the data you need
- **Real-time subscriptions** for live data updates
- **Type-safe operations** with built-in schema validation
- **Introspection capabilities** for exploring available operations

### API Capabilities
- **Read data**: Query objects, fields, and relationships
- **Write data**: Create, update, and delete records
- **Batch operations**: Handle multiple records efficiently
- **File uploads**: Manage attachments and documents
- **Webhook integration**: Receive real-time notifications

## Authentication Methods

### API Key Authentication (Recommended)

**What is an API Key?**
An API key is a secure token that identifies your application and grants access to your Twenty workspace. It's the primary method for authenticating API requests.

**Benefits of API Keys**:
- Simple to implement and manage
- Can be scoped to specific permissions
- Easy to rotate and revoke
- Suitable for server-to-server communication

### Creating an API Key

#### Step 1: Access API Settings
1. Log in to your Twenty workspace
2. Navigate to **Settings** â†’ **APIs & Webhooks**
3. You'll see the API Keys management interface

#### Step 2: Generate a New API Key
1. Click **+ Create Key** in the top right corner
2. **Name your key**: Choose a descriptive name (e.g., "Integration Server", "Mobile App", "Analytics Dashboard")
3. **Set expiration**: Choose when the key should expire (recommended: 1 year maximum)
4. **Configure permissions** (if available): Select what the key can access
5. Click **Create Key**

<img src="/images/user-guide/api/create-api-key.png" style={{width:'100%'}} alt="Create API Key" />

#### Step 3: Secure Your API Key
1. **Copy the key immediately**: It's only shown once for security
2. **Store securely**: Use environment variables or secure key management
3. **Never commit to code**: Keep keys out of version control
4. **Document the key**: Note what it's used for and when it expires

<Warning>
Your API key provides full access to your workspace data. Treat it like a password and never share it publicly or commit it to code repositories.
</Warning>

## Making Your First API Call

### API Endpoint
All Twenty API requests go to a single GraphQL endpoint:
```
https://your-workspace.twenty.com/graphql
```

Replace `your-workspace` with your actual workspace subdomain.

### Basic Authentication Header
Include your API key in the Authorization header:
```
Authorization: Bearer YOUR_API_KEY_HERE
```

### Example: Fetching Companies

**Using cURL**:
```bash
curl -X POST https://your-workspace.twenty.com/graphql \
  -H "Authorization: Bearer YOUR_API_KEY_HERE" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "query GetCompanies { companies { edges { node { id name domainName employees } } } }"
  }'
```

**Using JavaScript (fetch)**:
```javascript
const response = await fetch('https://your-workspace.twenty.com/graphql', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY_HERE',
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    query: `
      query GetCompanies {
        companies {
          edges {
            node {
              id
              name
              domainName
              employees
            }
          }
        }
      }
    `
  })
});

const data = await response.json();
console.log(data);
```

**Using Python (requests)**:
```python
import requests

url = 'https://your-workspace.twenty.com/graphql'
headers = {
    'Authorization': 'Bearer YOUR_API_KEY_HERE',
    'Content-Type': 'application/json'
}

query = """
query GetCompanies {
  companies {
    edges {
      node {
        id
        name
        domainName
        employees
      }
    }
  }
}
"""

response = requests.post(url, json={'query': query}, headers=headers)
data = response.json()
print(data)
```

## Understanding GraphQL Responses

### Response Structure
GraphQL responses follow a standard format:
```json
{
  "data": {
    // Your requested data here
  },
  "errors": [
    // Any errors that occurred
  ]
}
```

### Successful Response Example
```json
{
  "data": {
    "companies": {
      "edges": [
        {
          "node": {
            "id": "12345",
            "name": "Acme Corporation",
            "domainName": "acme.com",
            "employees": 150
          }
        }
      ]
    }
  }
}
```

### Error Response Example
```json
{
  "errors": [
    {
      "message": "Field 'invalidField' doesn't exist on type 'Company'",
      "locations": [{"line": 4, "column": 9}],
      "path": ["companies", 0, "invalidField"]
    }
  ]
}
```

## Common Authentication Issues

### Invalid API Key
**Error**: `"Unauthorized"` or `"Invalid token"`
**Solutions**:
- Verify the API key is correct and hasn't expired
- Check that you're using the right workspace URL
- Ensure the Authorization header format is correct: `Bearer YOUR_KEY`

### Missing Authorization Header
**Error**: `"Authorization header required"`
**Solutions**:
- Add the Authorization header to your request
- Verify the header name is exactly `Authorization`
- Check that your HTTP client is sending headers correctly

### Expired API Key
**Error**: `"Token expired"`
**Solutions**:
- Generate a new API key in the Twenty interface
- Update your application with the new key
- Set up key rotation processes for production applications

### Insufficient Permissions
**Error**: `"Access denied"` or `"Forbidden"`
**Solutions**:
- Check the permissions associated with your API key
- Verify you're accessing objects and fields you have permission for
- Contact your workspace administrator if you need additional permissions

## API Key Management Best Practices

### Security Best Practices

**Environment Variables**:
```bash
# .env file
TWENTY_API_KEY=your_api_key_here
TWENTY_WORKSPACE_URL=https://your-workspace.twenty.com/graphql
```

**Code Example**:
```javascript
// Good: Using environment variables
const apiKey = process.env.TWENTY_API_KEY;
const workspaceUrl = process.env.TWENTY_WORKSPACE_URL;

// Bad: Hardcoded in source code
const apiKey = 'sk_live_1234567890abcdef'; // Never do this!
```

### Key Rotation Strategy

**Regular Rotation**:
1. **Set expiration dates** on all API keys (recommended: 6-12 months)
2. **Create new keys** before old ones expire
3. **Update applications** with new keys
4. **Revoke old keys** after successful transition
5. **Monitor usage** to ensure smooth transitions

**Emergency Rotation**:
1. **Immediately revoke** compromised keys
2. **Generate replacement keys** quickly
3. **Update all affected systems** as soon as possible
4. **Monitor for unauthorized access** during the transition

### Monitoring and Auditing

**Track API Usage**:
- Monitor which keys are being used and how frequently
- Set up alerts for unusual usage patterns
- Review API access logs regularly
- Document which applications use which keys

**Key Lifecycle Management**:
- Maintain an inventory of all active API keys
- Document the purpose and owner of each key
- Set up automated reminders for key expiration
- Have a process for decommissioning unused keys

## Testing Your Authentication

### Quick Authentication Test

**Simple test query**:
```graphql
query TestAuth {
  currentUser {
    id
    email
    firstName
    lastName
  }
}
```

This query returns information about the user associated with your API key, confirming that authentication is working correctly.

### Using GraphQL Playground

**Access the playground**:
1. Navigate to `https://your-workspace.twenty.com/graphql` in your browser
2. Add your API key to the HTTP headers:
   ```json
   {
     "Authorization": "Bearer YOUR_API_KEY_HERE"
   }
   ```
3. Run test queries to explore your data model

### API Testing Tools

**Recommended tools**:
- **Postman**: Great for REST-style GraphQL testing
- **Insomnia**: Excellent GraphQL support with schema introspection
- **GraphQL Playground**: Built-in browser-based testing
- **curl**: Command-line testing for automation

## Next Steps

After setting up authentication:
- [Learn how to query data using GraphQL](/user-guide/How-To Tutorials/developers/api/how-to-query-data-using-graphql)
- [Explore creating and updating records](/user-guide/How-To Tutorials/developers/api/how-to-create-and-update-records-via-api)
- [Set up webhooks for real-time notifications](/user-guide/How-To Tutorials/developers/webhooks/how-to-set-up-webhooks)

### Additional Resources

**Documentation**:
- GraphQL schema documentation (available in your workspace)
- API reference guides
- Code examples and tutorials

**Community**:
- Twenty Discord community for developer support
- GitHub discussions for feature requests and bug reports
- Stack Overflow for general GraphQL questions

Proper authentication is the foundation of secure API integration. Take time to implement it correctly, and you'll have a solid base for building powerful integrations with Twenty.
