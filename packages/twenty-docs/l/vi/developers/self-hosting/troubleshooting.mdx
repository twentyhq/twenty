---
title: Xá»­ lÃ½ sá»± cá»‘
image: /images/user-guide/what-is-twenty/20.png
---

<Frame>
  <img src="/images/user-guide/what-is-twenty/20.png" alt="Header" />
</Frame>

## Xá»­ lÃ½ sá»± cá»‘

Náº¿u báº¡n gáº·p báº¥t ká»³ váº¥n Ä‘á» nÃ o trong quÃ¡ trÃ¬nh thiáº¿t láº­p mÃ´i trÆ°á»ng cho phÃ¡t triá»ƒn, nÃ¢ng cáº¥p phiÃªn báº£n hoáº·c tá»± lÆ°u trá»¯, Ä‘Ã¢y lÃ  má»™t sá»‘ giáº£i phÃ¡p cho cÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p.

### Tá»± lÆ°u trá»¯

#### CÃ i Ä‘áº·t Ä‘áº§u tiÃªn dáº«n Ä‘áº¿n lá»—i `password authentication failed for user "postgres"`

ğŸš¨ **QUAN TRá»ŒNG: Giáº£i phÃ¡p nÃ y CHá»ˆ dÃ nh cho cÃ¡c cÃ i Ä‘áº·t má»›i** ğŸš¨
Náº¿u báº¡n cÃ³ má»™t phiÃªn báº£n Twenty hiá»‡n cÃ³ vá»›i dá»¯ liá»‡u sáº£n xuáº¥t, **Äá»ªNG** thá»±c hiá»‡n cÃ¡c bÆ°á»›c nÃ y vÃ¬ chÃºng sáº½ xÃ³a vÄ©nh viá»…n cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»§a báº¡n!

Trong khi cÃ i Ä‘áº·t Twenty láº§n Ä‘áº§u tiÃªn, báº¡n cÃ³ thá»ƒ muá»‘n thay Ä‘á»•i máº­t kháº©u cÆ¡ sá»Ÿ dá»¯ liá»‡u máº·c Ä‘á»‹nh.
Máº­t kháº©u báº¡n Ä‘áº·t trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t Ä‘áº§u tiÃªn sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ vÄ©nh viá»…n trong khÃ´ng gian lÆ°u trá»¯ cÆ¡ sá»Ÿ dá»¯ liá»‡u. Náº¿u sau Ä‘Ã³ báº¡n cá»‘ gáº¯ng thay Ä‘á»•i máº­t kháº©u nÃ y trong cáº¥u hÃ¬nh mÃ  khÃ´ng xÃ³a khÃ´ng gian lÆ°u trá»¯ cÅ©, báº¡n sáº½ gáº·p lá»—i xÃ¡c thá»±c vÃ¬ cÆ¡ sá»Ÿ dá»¯ liá»‡u váº«n Ä‘ang sá»­ dá»¥ng máº­t kháº©u ban Ä‘áº§u.

âš ï¸ Cáº¢NH BÃO: CÃ¡c bÆ°á»›c sau sáº½ XÃ“A VÄ¨NH VIá»„N táº¥t cáº£ dá»¯ liá»‡u cá»§a cÆ¡ sá»Ÿ dá»¯ liá»‡u! âš ï¸
Chá»‰ thá»±c hiá»‡n náº¿u Ä‘Ã¢y lÃ  má»™t cuá»™c cÃ i Ä‘áº·t má»›i khÃ´ng cÃ³ dá»¯ liá»‡u quan trá»ng.

Äá»ƒ cáº­p nháº­t `PG_DATABASE_PASSWORD` báº¡n cáº§n:

```sh
# Update the PG_DATABASE_PASSWORD in .env
docker compose down --volumes
docker compose up -d
```

#### ÄÃ£ tÃ¬m tháº¥y ngáº¯t dÃ²ng CR [Windows]

Äiá»u nÃ y lÃ  do cÃ¡c kÃ½ tá»± ngáº¯t dÃ²ng cá»§a Windows vÃ  cáº¥u hÃ¬nh git. Thá»­ cháº¡y:

```
git config --global core.autocrlf false
```

Sau Ä‘Ã³ xÃ³a kho lÆ°u trá»¯ vÃ  sao chÃ©p láº¡i.

#### Missing metadata schema

Trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t Twenty, báº¡n cáº§n chuáº©n bá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u postgres vá»›i Ä‘Ãºng cÃ¡c sÆ¡ Ä‘á»“, pháº§n má»Ÿ rá»™ng vÃ  ngÆ°á»i dÃ¹ng.
Náº¿u báº¡n thÃ nh cÃ´ng trong viá»‡c cháº¡y pháº§n chuáº©n bá»‹ nÃ y, báº¡n nÃªn cÃ³ cÃ¡c sÆ¡ Ä‘á»“ `default` vÃ  `metadata` trong cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»§a mÃ¬nh.
Náº¿u khÃ´ng, hÃ£y Ä‘áº£m báº£o ráº±ng báº¡n khÃ´ng cÃ³ nhiá»u hÆ¡n má»™t phiÃªn báº£n postgres Ä‘ang cháº¡y trÃªn mÃ¡y tÃ­nh cá»§a báº¡n.

#### KhÃ´ng thá»ƒ tÃ¬m tháº¥y mÃ´-Ä‘un 'twenty-emails' hoáº·c cÃ¡c khai bÃ¡o kiá»ƒu tÆ°Æ¡ng á»©ng cá»§a nÃ³.

Báº¡n pháº£i xÃ¢y dá»±ng gÃ³i `twenty-emails` trÆ°á»›c khi cháº¡y khá»Ÿi táº¡o cÆ¡ sá»Ÿ dá»¯ liá»‡u vá»›i `npx nx run twenty-emails:build`

#### Thiáº¿u gÃ³i twenty-x

HÃ£y cháº¯c cháº¯n ráº±ng Ä‘Ã£ cháº¡y yarn trong thÆ° má»¥c gá»‘c vÃ  sau Ä‘Ã³ cháº¡y `npx nx server:dev twenty-server`. Náº¿u Ä‘iá»u nÃ y váº«n khÃ´ng hoáº¡t Ä‘á»™ng, hÃ£y thá»­ xÃ¢y dá»±ng gÃ³i bá»‹ thiáº¿u má»™t cÃ¡ch thá»§ cÃ´ng.

#### Lint trÃªn Save khÃ´ng hoáº¡t Ä‘á»™ng

Äiá»u nÃ y sáº½ hoáº¡t Ä‘á»™ng ngay láº­p tá»©c vá»›i tiá»‡n Ã­ch má»Ÿ rá»™ng eslint Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t. Náº¿u Ä‘iá»u nÃ y khÃ´ng hoáº¡t Ä‘á»™ng, hÃ£y thá»­ thÃªm vÃ o cÃ i Ä‘áº·t vscode cá»§a báº¡n (trong pháº¡m vi container phÃ¡t triá»ƒn):

```
"editor.codeActionsOnSave": {

  "source.fixAll.eslint": "explicit"

}
```

#### Trong khi cháº¡y `npx nx start` hoáº·c `npx nx start twenty-front`, lá»—i Out of memory Ä‘Æ°á»£c nÃ©m ra

Trong `packages/twenty-front/.env` bá» chÃº thÃ­ch `VITE_DISABLE_TYPESCRIPT_CHECKER=true` vÃ  `VITE_DISABLE_ESLINT_CHECKER=true` Ä‘á»ƒ vÃ´ hiá»‡u hoÃ¡ cÃ¡c kiá»ƒm tra ná»n, do Ä‘Ã³ giáº£m lÆ°á»£ng RAM cáº§n thiáº¿t.

**Náº¿u nÃ³ khÃ´ng hoáº¡t Ä‘á»™ng:**  
Chá»‰ cháº¡y cÃ¡c dá»‹ch vá»¥ báº¡n cáº§n, thay vÃ¬ `npx nx start`. VÃ­ dá»¥, náº¿u báº¡n lÃ m viá»‡c trÃªn mÃ¡y chá»§, chá»‰ cáº§n cháº¡y `npx nx worker twenty-server`

**Náº¿u nÃ³ khÃ´ng hoáº¡t Ä‘á»™ng:**  
Náº¿u báº¡n Ä‘Ã£ thá»­ chá»‰ cháº¡y `npx nx run twenty-server:start` trÃªn WSL vÃ  gáº·p lá»—i bá»™ nhá»› dÆ°á»›i Ä‘Ã¢y:

`FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory`

Giáº£i phÃ¡p lÃ  thá»±c hiá»‡n lá»‡nh dÆ°á»›i Ä‘Ã¢y trong terminal hoáº·c thÃªm vÃ o há»“ sÆ¡ .bashrc Ä‘á»ƒ tá»± Ä‘á»™ng thiáº¿t láº­p:

`export NODE_OPTIONS="--max-old-space-size=8192"`

Tham sá»‘ --max-old-space-size=8192 Ä‘áº·t giá»›i háº¡n trÃªn cá»§a bá»™ nhá»› heap Node.js lÃ  8GB; sá»­ dá»¥ng sáº½ tÄƒng theo nhu cáº§u á»©ng dá»¥ng.
Tham kháº£o: https://stackoverflow.com/questions/56982005/where-do-i-set-node-options-max-old-space-size-2048

**Náº¿u nÃ³ khÃ´ng hoáº¡t Ä‘á»™ng:**  
Äiá»u tra nhá»¯ng quy trÃ¬nh nÃ o Ä‘ang tiÃªu hao háº§u háº¿t RAM mÃ¡y cá»§a báº¡n. Táº¡i Twenty, chÃºng tÃ´i nháº­n tháº¥y ráº±ng má»™t sá»‘ tiá»‡n Ã­ch má»Ÿ rá»™ng VScode tiÃªu hao ráº¥t nhiá»u RAM, vÃ¬ váº­y chÃºng tÃ´i táº¡m thá»i vÃ´ hiá»‡u hÃ³a chÃºng.

**Náº¿u nÃ³ khÃ´ng hoáº¡t Ä‘á»™ng:**  
Khá»Ÿi Ä‘á»™ng láº¡i mÃ¡y cá»§a báº¡n giÃºp xÃ³a cÃ¡c quy trÃ¬nh ma.

#### Trong khi cháº¡y `npx nx start` cÃ³ nhá»¯ng [0] vÃ  [1] ká»³ láº¡ trong nháº­t kÃ½

Äiá»u nÃ y Ä‘Æ°á»£c dá»± Ä‘oÃ¡n trÆ°á»›c vÃ¬ lá»‡nh `npx nx start` Ä‘ang cháº¡y nhiá»u lá»‡nh khÃ¡c bÃªn dÆ°á»›i

#### KhÃ´ng cÃ³ email nÃ o Ä‘Æ°á»£c gá»­i

Pháº§n lá»›n thá»i gian, Ä‘iá»u nÃ y lÃ  do `worker` khÃ´ng cháº¡y á»Ÿ ná»n. Thá»­ cháº¡y

```
npx nx worker twenty-server
```

#### KhÃ´ng thá»ƒ káº¿t ná»‘i tÃ i khoáº£n Microsoft 365 cá»§a tÃ´i

Pháº§n lá»›n thá»i gian, Ä‘iá»u nÃ y lÃ  do quáº£n trá»‹ viÃªn cá»§a báº¡n chÆ°a cáº¥p phÃ©p Microsoft 365 cho tÃ i khoáº£n cá»§a báº¡n. Kiá»ƒm tra [https://admin.microsoft.com/](https://admin.microsoft.com/Adminportal/Home).

Náº¿u báº¡n cÃ³ mÃ£ lá»—i `AADSTS50020`, thÆ°á»ng lÃ  do báº¡n Ä‘ang sá»­ dá»¥ng tÃ i khoáº£n Microsoft cÃ¡ nhÃ¢n. Äiá»u nÃ y chÆ°a Ä‘Æ°á»£c há»— trá»£. ThÃªm thÃ´ng tin [táº¡i Ä‘Ã¢y](https://learn.microsoft.com/fr-fr/troubleshoot/entra/entra-id/app-integration/error-code-aadsts50020-user-account-identity-provider-does-not-exist)

#### Trong khi cháº¡y `yarn` cáº£nh bÃ¡o xuáº¥t hiá»‡n trong console

Cáº£nh bÃ¡o thÃ´ng bÃ¡o vá» viá»‡c kÃ©o thÃªm cÃ¡c phá»¥ thuá»™c khÃ´ng Ä‘Æ°á»£c nÃªu rÃµ trong `package.json`, miá»…n lÃ  khÃ´ng cÃ³ lá»—i gÃ¬ lá»›n xáº£y ra, má»i thá»© váº«n hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i.

#### Khi ngÆ°á»i dÃ¹ng truy cáº­p trang Ä‘Äƒng nháº­p, lá»—i vá» ngÆ°á»i dÃ¹ng khÃ´ng Ä‘Æ°á»£c á»§y quyá»n cá»‘ truy cáº­p khÃ´ng gian lÃ m viá»‡c xuáº¥t hiá»‡n trong nháº­t kÃ½

Äiá»u nÃ y lÃ  bÃ¬nh thÆ°á»ng vÃ¬ ngÆ°á»i dÃ¹ng khÃ´ng Ä‘Æ°á»£c á»§y quyá»n khi Ä‘Ã£ Ä‘Äƒng xuáº¥t vÃ¬ danh tÃ­nh cá»§a há» chÆ°a Ä‘Æ°á»£c xÃ¡c minh.

#### LÃ m tháº¿ nÃ o Ä‘á»ƒ kiá»ƒm tra xem worker cá»§a báº¡n cÃ³ Ä‘ang cháº¡y khÃ´ng?

- Truy cáº­p [webhook-test.com](https://webhook-test.com/) vÃ  sao chÃ©p **URL Webhook Duy Nháº¥t cá»§a Báº¡n**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test.jpg" alt="Webhook test" />
</div>
- Má»Ÿ á»©ng dá»¥ng Twenty cá»§a báº¡n, Ä‘iá»u hÆ°á»›ng tá»›i `/settings`, vÃ  báº­t cÃ´ng táº¯c **ÄÃ£ NÃ¢ng Cao** á»Ÿ dÆ°á»›i cÃ¹ng bÃªn trÃ¡i cá»§a mÃ n hÃ¬nh.
- Táº¡o má»™t webhook má»›i.
- DÃ¡n **URL Webhook Duy Nháº¥t cá»§a Báº¡n** vÃ o trÆ°á»ng **Endpoint Url** trong Twenty. Äáº·t **Bá»™ Lá»c** thÃ nh `CÃ´ng ty` vÃ  `ÄÃ£ Táº¡o`.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-settings.jpg" alt="Webhook settings" />
</div>
- Äi tá»›i `/objects/companies` vÃ  táº¡o má»™t báº£n ghi cÃ´ng ty má»›i.
- Quay láº¡i [webhook-test.com](https://webhook-test.com/) vÃ  kiá»ƒm tra náº¿u má»™t **yÃªu cáº§u POST** má»›i Ä‘Ã£ Ä‘Æ°á»£c nháº­n.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test-result.jpg" alt="Webhook test result" />
</div>
- Náº¿u má»™t **yÃªu cáº§u POST** Ä‘Æ°á»£c nháº­n, worker cá»§a báº¡n Ä‘ang cháº¡y thÃ nh cÃ´ng. Náº¿u khÃ´ng, báº¡n cáº§n kháº¯c phá»¥c sá»± cá»‘ worker cá»§a báº¡n.

#### Giao diá»‡n trÆ°á»›c khÃ´ng khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c vÃ  tráº£ vá» lá»—i TS5042: TÃ¹y chá»n 'project' khÃ´ng thá»ƒ káº¿t há»£p vá»›i tá»‡p nguá»“n trÃªn dÃ²ng lá»‡nh

Bá» chÃº thÃ­ch plugin checker trong `packages/twenty-ui/vite-config.ts` nhÆ° trong vÃ­ dá»¥ bÃªn dÆ°á»›i

```
plugins: [
      react({ jsxImportSource: '@emotion/react' }),
      tsconfigPaths(),
      svgr(),
      dts(dtsConfig),
      // checker(checkersConfig),
      wyw({
        include: [
          '**/OverflowingTextWithTooltip.tsx',
          '**/Chip.tsx',
          '**/Tag.tsx',
          '**/Avatar.tsx',
          '**/AvatarChip.tsx',
        ],
        babelOptions: {
          presets: ['@babel/preset-typescript', '@babel/preset-react'],
        },
      }),
    ],
```

#### Báº£ng Ä‘iá»u khiá»ƒn quáº£n trá»‹ khÃ´ng thá»ƒ truy cáº­p

Cháº¡y `UPDATE core."user" SET "canAccessFullAdminPanel" = TRUE WHERE email = 'you@yourdomain.com';` trong container cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘á»ƒ truy cáº­p báº£ng Ä‘iá»u khiá»ƒn quáº£n trá»‹.

### Docker compose 1 láº§n nháº¥p

#### KhÃ´ng thá»ƒ Ä‘Äƒng nháº­p

Náº¿u báº¡n khÃ´ng thá»ƒ Ä‘Äƒng nháº­p sau khi thiáº¿t láº­p:

1. Cháº¡y cÃ¡c lá»‡nh sau:
   ```bash
   docker exec -it twenty-server-1 yarn
   docker exec -it twenty-server-1 npx nx database:reset  --configuration=no-seed
   ```
2. Khá»Ÿi Ä‘á»™ng láº¡i cÃ¡c container Docker:
   ```bash
   docker compose down
   docker compose up -d
   ```

LÆ°u Ã½ ráº±ng lá»‡nh database:reset sáº½ xÃ³a hoÃ n toÃ n cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»§a báº¡n vÃ  táº¡o láº¡i tá»« Ä‘áº§u.

#### Váº¥n Ä‘á» káº¿t ná»‘i sau proxy ngÆ°á»£c

Náº¿u báº¡n Ä‘ang cháº¡y Twenty sau proxy ngÆ°á»£c vÃ  gáº·p váº¥n Ä‘á» káº¿t ná»‘i:

1. **XÃ¡c minh SERVER_URL:**

   Äáº£m báº£o `SERVER_URL` trong tá»‡p `.env` cá»§a báº¡n khá»›p vá»›i URL truy cáº­p bÃªn ngoÃ i cá»§a báº¡n, bao gá»“m cáº£ `https` náº¿u SSL Ä‘Æ°á»£c báº­t.

2. **Kiá»ƒm tra CÃ i Ä‘áº·t Proxy NgÆ°á»£c:**

   - XÃ¡c nháº­n ráº±ng proxy ngÆ°á»£c cá»§a báº¡n Ä‘ang chuyá»ƒn tiáº¿p Ä‘Ãºng yÃªu cáº§u Ä‘áº¿n mÃ¡y chá»§ Twenty.
   - Äáº£m báº£o ráº±ng cÃ¡c tiÃªu Ä‘á» nhÆ° `X-Forwarded-For` vÃ  `X-Forwarded-Proto` Ä‘Æ°á»£c Ä‘áº·t Ä‘Ãºng.

3. **Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:**

   Sau khi thá»±c hiá»‡n thay Ä‘á»•i, khá»Ÿi Ä‘á»™ng láº¡i cáº£ proxy ngÆ°á»£c vÃ  cÃ¡c container Twenty.

#### Lá»—i khi táº£i lÃªn hÃ¬nh áº£nh - bá»‹ tá»« chá»‘i quyá»n truy cáº­p

Äá»•i quyá»n sá»Ÿ há»¯u thÆ° má»¥c dá»¯ liá»‡u trÃªn mÃ¡y chá»§ tá»« root sang ngÆ°á»i dÃ¹ng vÃ  nhÃ³m khÃ¡c giáº£i quyáº¿t váº¥n Ä‘á» nÃ y.

## Nháº­n sá»± giÃºp Ä‘á»¡

Náº¿u báº¡n gáº·p váº¥n Ä‘á» khÃ´ng Ä‘Æ°á»£c Ä‘á» cáº­p trong hÆ°á»›ng dáº«n nÃ y:

- Kiá»ƒm tra Nháº­t kÃ½:

  Xem nháº­t kÃ½ container Ä‘á»ƒ biáº¿t thÃ´ng bÃ¡o lá»—i:

  ```bash
  docker compose logs
  ```

- Há»— trá»£ cá»™ng Ä‘á»“ng:

  LiÃªn há»‡ vá»›i [cá»™ng Ä‘á»“ng Twenty](https://github.com/twentyhq/twenty/issues) hoáº·c [cÃ¡c kÃªnh há»— trá»£](https://discord.gg/cx5n4Jzs57) Ä‘á»ƒ Ä‘Æ°á»£c trá»£ giÃºp.