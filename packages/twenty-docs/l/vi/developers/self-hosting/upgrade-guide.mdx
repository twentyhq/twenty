---
title: H∆∞·ªõng d·∫´n n√¢ng c·∫•p
image: /images/user-guide/notes/notes_header.png
---

<Frame>
  <img src="/images/user-guide/notes/notes_header.png" alt="Header" />
</Frame>

## H∆∞·ªõng d·∫´n chung

**Always make sure to back up your database before starting the upgrade process** by running `docker exec -it {db_container_name_or_id} pg_dumpall -U {postgres_user} > databases_backup.sql`.

To restore backup, run `cat databases_backup.sql | docker exec -i {db_container_name_or_id} psql -U {postgres_user}`.

N·∫øu b·∫°n ƒë√£ s·ª≠ d·ª•ng Docker Compose, th·ª±c hi·ªán c√°c b∆∞·ªõc sau:

1. Trong terminal, tr√™n m√°y ch·ªß n∆°i Twenty ƒëang ch·∫°y, t·∫Øt Twenty: `docker compose down`

2. N√¢ng c·∫•p phi√™n b·∫£n b·∫±ng c√°ch thay ƒë·ªïi gi√° tr·ªã `TAG` trong t·ªáp .env g·∫ßn docker-compose c·ªßa b·∫°n. (Ch√∫ng t√¥i khuy·∫øn ngh·ªã s·ª≠ d·ª•ng phi√™n b·∫£n `ch√≠nh.ph·ª•` nh∆∞ `v0.53`)

3. K√≠ch ho·∫°t l·∫°i Twenty v·ªõi `docker compose up -d`

N·∫øu b·∫°n mu·ªën n√¢ng c·∫•p phi√™n b·∫£n c·ªßa m√¨nh qua v√†i phi√™n b·∫£n, v√≠ d·ª• t·ª´ v0.33.0 l√™n v0.35.0, b·∫°n ph·∫£i n√¢ng c·∫•p phi√™n b·∫£n d·∫ßn d·∫ßn, v√≠ d·ª• t·ª´ v0.33.0 l√™n v0.34.0, sau ƒë√≥ t·ª´ v0.34.0 l√™n v0.35.0.

**ƒê·∫£m b·∫£o r·∫±ng sau m·ªói l·∫ßn n√¢ng c·∫•p ƒë·ªÅu c√≥ sao l∆∞u kh√¥ng b·ªã h·ªèng.**

## C√°c b∆∞·ªõc n√¢ng c·∫•p theo phi√™n b·∫£n c·ª• th·ªÉ

## v1.0

Ch√†o m·ª´ng Twenty v1.0! üéâ

## v0.60

### C·∫£i ti·∫øn hi·ªáu su·∫•t

M·ªçi t∆∞∆°ng t√°c v·ªõi API metadata ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a cho hi·ªáu su·∫•t t·ªët h∆°n, ƒë·∫∑c bi·ªát l√† qu·∫£n l√Ω metadata ƒë·ªëi t∆∞·ª£ng v√† c√°c thao t√°c t·∫°o kh√¥ng gian l√†m vi·ªác.

Ch√∫ng t√¥i ƒë√£ chuy·ªÉn ƒë·ªïi chi·∫øn l∆∞·ª£c l∆∞u tr·ªØ ƒë·ªám ƒë·ªÉ ∆∞u ti√™n l·∫•y d·ªØ li·ªáu t·ª´ l∆∞u tr·ªØ ƒë·ªám thay v√¨ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu khi c√≥ th·ªÉ, n√¢ng cao ƒë√°ng k·ªÉ hi·ªáu su·∫•t c·ªßa c√°c thao t√°c API metadata.

N·∫øu b·∫°n g·∫∑p b·∫•t k·ª≥ v·∫•n ƒë·ªÅ th·ªùi gian ch·∫°y n√†o sau khi n√¢ng c·∫•p, b·∫°n c√≥ th·ªÉ c·∫ßn l√†m tr·ªëng b·ªô nh·ªõ cache ƒë·ªÉ ƒë·∫£m b·∫£o n√≥ ƒë∆∞·ª£c ƒë·ªìng b·ªô h√≥a v·ªõi c√°c thay ƒë·ªïi m·ªõi nh·∫•t. Ch·∫°y l·ªánh n√†y trong container twenty-server c·ªßa b·∫°n:

```bash
yarn command:prod cache:flush
```

### v0.55

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.55

B·∫°n kh√¥ng c·∫ßn ph·∫£i ch·∫°y b·∫•t k·ª≥ l·ªánh n√†o n·ªØa, h√¨nh ·∫£nh m·ªõi s·∫Ω t·ª± ƒë·ªông x·ª≠ l√Ω vi·ªác ch·∫°y t·∫•t c·∫£ c√°c qu√° tr√¨nh di chuy·ªÉn c·∫ßn thi·∫øt.

### L·ªói: Ng∆∞·ªùi d√πng kh√¥ng c√≥ quy·ªÅn

N·∫øu b·∫°n g·∫∑p l·ªói ·ªßy quy·ªÅn tr√™n h·∫ßu h·∫øt c√°c y√™u c·∫ßu sau khi n√¢ng c·∫•p, b·∫°n c√≥ th·ªÉ c·∫ßn ph·∫£i x√≥a b·ªô nh·ªõ cache ƒë·ªÉ t√≠nh to√°n l·∫°i quy·ªÅn m·ªõi nh·∫•t.

Trong container `twenty-server` c·ªßa b·∫°n, ch·∫°y:

```bash
yarn command:prod cache:flush
```

V·∫•n ƒë·ªÅ n√†y ch·ªâ ƒë·∫∑c bi·ªát v·ªÅ phi√™n b·∫£n Twenty n√†y v√† kh√¥ng y√™u c·∫ßu cho c√°c n√¢ng c·∫•p trong t∆∞∆°ng lai.

### v0.54

T·ª´ phi√™n b·∫£n `0.53`, kh√¥ng c·∫ßn th·ª±c hi·ªán h√†nh ƒë·ªông th·ªß c√¥ng n√†o.

#### Ng·ª´ng s·ª≠ d·ª•ng schema metadata

Ch√∫ng t√¥i ƒë√£ h·ª£p nh·∫•t schema `metadata` v√†o `core` ƒë·ªÉ ƒë∆°n gi·∫£n h√≥a vi·ªác truy xu·∫•t d·ªØ li·ªáu t·ª´ `TypeORM`.
Ch√∫ng t√¥i ƒë√£ h·ª£p nh·∫•t b∆∞·ªõc l·ªánh `migrate` trong l·ªánh `upgrade`. Ch√∫ng t√¥i kh√¥ng khuy·∫øn ngh·ªã ch·∫°y `migrate` th·ªß c√¥ng trong b·∫•t k·ª≥ container m√°y ch·ªß/worker n√†o c·ªßa b·∫°n.

### T·ª´ v0.53

T·ª´ `0.53`, n√¢ng c·∫•p ƒë∆∞·ª£c th·ª±c hi·ªán qua m√£ trong `DockerFile`, ƒëi·ªÅu n√†y c√≥ nghƒ©a l√† t·ª´ b√¢y gi·ªù, b·∫°n kh√¥ng c·∫ßn ph·∫£i ch·∫°y b·∫•t k·ª≥ l·ªánh n√†o b·∫±ng tay n·ªØa.

H√£y ch·∫Øc ch·∫Øn n√¢ng c·∫•p phi√™n b·∫£n c·ªßa b·∫°n theo tu·∫ßn t·ª±, m√† kh√¥ng b·ªè qua b·∫•t k·ª≥ phi√™n b·∫£n l·ªõn n√†o (v√≠ d·ª• `0.43.3` l√™n `0.44.0` ƒë∆∞·ª£c ph√©p, nh∆∞ng `0.43.1` l√™n `0.45.0` th√¨ kh√¥ng), n·∫øu kh√¥ng c√≥ th·ªÉ d·∫´n ƒë·∫øn vi·ªác b·∫•t ƒë·ªìng phi√™n b·∫£n kh√¥ng gian l√†m vi·ªác c√≥ th·ªÉ d·∫´n ƒë·∫øn l·ªói th·ªùi gian ch·∫°y v√† thi·∫øu t√≠nh nƒÉng.

ƒê·ªÉ ki·ªÉm tra xem m·ªôt kh√¥ng gian l√†m vi·ªác c√≥ ƒë∆∞·ª£c di c∆∞ ƒë√∫ng c√°ch hay kh√¥ng, b·∫°n c√≥ th·ªÉ xem x√©t phi√™n b·∫£n c·ªßa n√≥ trong c∆° s·ªü d·ªØ li·ªáu trong b·∫£ng `core.workspace`.

N√≥ lu√¥n n√™n n·∫±m trong ph·∫°m vi c·ªßa phi√™n b·∫£n `ch√≠nh.ph·ª•` hi·ªán t·∫°i c·ªßa Twenty c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ xem phi√™n b·∫£n c·ªßa m√¨nh trong b·∫£ng qu·∫£n tr·ªã (t·∫°i `/settings/admin-panel`, truy c·∫≠p n·∫øu ng∆∞·ªùi d√πng c·ªßa b·∫°n c√≥ thu·ªôc t√≠nh `canAccessFullAdminPanel` ƒë∆∞·ª£c ƒë·∫∑t th√†nh true trong c∆° s·ªü d·ªØ li·ªáu) ho·∫∑c b·∫±ng c√°ch ch·∫°y `echo $APP_VERSION` trong container `twenty-server` c·ªßa b·∫°n.

ƒê·ªÉ s·ª≠a m·ªôt phi√™n b·∫£n kh√¥ng gian l√†m vi·ªác kh√¥ng ƒë·ªìng b·ªô, b·∫°n s·∫Ω ph·∫£i n√¢ng c·∫•p t·ª´ phi√™n b·∫£n twenty t∆∞∆°ng ·ª©ng theo h∆∞·ªõng d·∫´n n√¢ng c·∫•p li√™n quan theo tu·∫ßn t·ª± v√† c·ª© ti·∫øp t·ª•c ƒë·∫øn khi ƒë·∫°t ƒë·∫øn phi√™n b·∫£n mong mu·ªën.

#### Ng·ª´ng s·ª≠ d·ª•ng `auditLog`

Ch√∫ng t√¥i ƒë√£ lo·∫°i b·ªè ƒë·ªëi t∆∞·ª£ng ti√™u chu·∫©n auditLog, c√≥ nghƒ©a l√† k√≠ch th∆∞·ªõc sao l∆∞u c·ªßa b·∫°n c√≥ th·ªÉ s·∫Ω gi·∫£m ƒë√°ng k·ªÉ sau n√¢ng c·∫•p n√†y.

### v0.51 ƒë·∫øn v0.52

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.52

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### T√¥i c√≥ m·ªôt kh√¥ng gian l√†m vi·ªác b·ªã ch·∫∑n ·ªü phi√™n b·∫£n gi·ªØa `0.52.0` v√† `0.52.6`

ƒê√°ng ti·∫øc `0.52.0` v√† `0.52.6` ƒë√£ b·ªã x√≥a ho√†n to√†n kh·ªèi dockerHub.
B·∫°n s·∫Ω ph·∫£i c·∫≠p nh·∫≠t th·ªß c√¥ng phi√™n b·∫£n kh√¥ng gian l√†m vi·ªác c·ªßa m√¨nh l√™n `0.51.0` trong c∆° s·ªü d·ªØ li·ªáu v√† n√¢ng c·∫•p s·ª≠ d·ª•ng phi√™n b·∫£n twenty `0.52.11` theo h∆∞·ªõng d·∫´n n√¢ng c·∫•p v·ª´a tr√™n.

### v0.50 ƒë·∫øn v0.51

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.51

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.44.0 ƒë·∫øn v0.50.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.50.0

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### S·ª± thay ƒë·ªïi docker-compose.yml

Phi√™n b·∫£n n√†y bao g·ªìm m·ªôt s·ª± thay ƒë·ªïi trong `docker-compose.yml` ƒë·ªÉ cho ph√©p d·ªãch v·ª• `worker` truy c·∫≠p v√†o volume `server-local-data`.
Vui l√≤ng c·∫≠p nh·∫≠t `docker-compose.yml` c·ªßa b·∫°n v·ªõi [docker-compose.yml v0.50.0](https://github.com/twentyhq/twenty/blob/v0.50.0/packages/twenty-docker/docker-compose.yml)

### v0.43.0 ƒë·∫øn v0.44.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.44.0

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.42.0 ƒë·∫øn v0.43.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.43.0

```
yarn database:migrate:prod
yarn command:prod upgrade
```

Trong phi√™n b·∫£n n√†y, ch√∫ng t√¥i c≈©ng ƒë√£ chuy·ªÉn sang h√¨nh ·∫£nh postgres:16 trong docker-compose.yml.

#### (L·ª±a ch·ªçn 1) Di chuy·ªÉn c∆° s·ªü d·ªØ li·ªáu

Vi·ªác gi·ªØ nguy√™n h√¨nh ·∫£nh postgres-spilo hi·ªán c√≥ l√† t·ªët, nh∆∞ng b·∫°n ph·∫£i c·ªë ƒë·ªãnh phi√™n b·∫£n trong docker-compose.yml c·ªßa b·∫°n ·ªü m·ª©c 0.43.0.

#### (L·ª±a ch·ªçn 2) Di chuy·ªÉn c∆° s·ªü d·ªØ li·ªáu

N·∫øu b·∫°n mu·ªën di chuy·ªÉn c∆° s·ªü d·ªØ li·ªáu c·ªßa m√¨nh sang h√¨nh ·∫£nh postgres:16 m·ªõi, vui l√≤ng l√†m theo c√°c b∆∞·ªõc sau:

1. Sao l∆∞u c∆° s·ªü d·ªØ li·ªáu c·ªßa b·∫°n t·ª´ container postgres-spilo c≈©

```
docker exec -it twenty-db-1 sh
pg_dump -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} > databases_backup.sql
exit
docker cp twenty-db-1:/home/postgres/databases_backup.sql .
```

ƒê·∫£m b·∫£o t·ªáp sao l∆∞u c·ªßa b·∫°n kh√¥ng tr·ªëng.

2. N√¢ng c·∫•p docker-compose.yml c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh postgres:16 nh∆∞ trong t·ªáp [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml).

3. Kh√¥i ph·ª•c c∆° s·ªü d·ªØ li·ªáu v√†o container postgres:16 m·ªõi

```
docker cp databases_backup.sql twenty-db-1:/databases_backup.sql
docker exec -it twenty-db-1 sh
psql -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} -f databases_backup.sql
exit
```

### v0.41.0 ƒë·∫øn v0.42.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.42.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.42
```

**Bi·∫øn m√¥i tr∆∞·ªùng**

- B·ªã lo·∫°i b·ªè: `FRONT_PORT`, `FRONT_PROTOCOL`, `FRONT_DOMAIN`, `PORT`
- ƒê√£ th√™m: `FRONTEND_URL`, `NODE_PORT`, `MAX_NUMBER_OF_WORKSPACES_DELETED_PER_EXECUTION`, `MESSAGING_PROVIDER_MICROSOFT_ENABLED`, `CALENDAR_PROVIDER_MICROSOFT_ENABLED`, `IS_MICROSOFT_SYNC_ENABLED`

### v0.40.0 ƒë·∫øn v0.41.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.41.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.41
```

**Bi·∫øn m√¥i tr∆∞·ªùng**

- B·ªã lo·∫°i b·ªè: `AUTH_MICROSOFT_TENANT_ID`

### v0.35.0 ƒë·∫øn v0.40.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.40.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.40
```

**Bi·∫øn m√¥i tr∆∞·ªùng**

- ƒê√£ th√™m v√†o: `IS_EMAIL_VERIFICATION_REQUIRED`, `EMAIL_VERIFICATION_TOKEN_EXPIRES_IN`, `WORKFLOW_EXEC_THROTTLE_LIMIT`, `WORKFLOW_EXEC_THROTTLE_TTL`

### v0.34.0 ƒë·∫øn v0.35.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.35.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.35
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o c·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu (schemas core v√† metadata)
L·ªánh `yarn command:prod upgrade-0.35` chƒÉm s√≥c vi·ªác di chuy·ªÉn d·ªØ li·ªáu c·ªßa t·∫•t c·∫£ kh√¥ng gian l√†m vi·ªác.

**Bi·∫øn m√¥i tr∆∞·ªùng**

- Ch√∫ng t√¥i ƒë√£ thay th·∫ø `ENABLE_DB_MIGRATIONS` b·∫±ng `DISABLE_DB_MIGRATIONS` (gi√° tr·ªã m·∫∑c ƒë·ªãnh hi·ªán t·∫°i l√† `false`, c√≥ th·ªÉ b·∫°n s·∫Ω kh√¥ng c·∫ßn ƒë·∫∑t b·∫•t c·ª© ƒëi·ªÅu g√¨)

### v0.33.0 ƒë·∫øn v0.34.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.34.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.34
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o c·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu (schemas core v√† metadata)
L·ªánh `yarn command:prod upgrade-0.34` chƒÉm s√≥c vi·ªác di chuy·ªÉn d·ªØ li·ªáu c·ªßa t·∫•t c·∫£ kh√¥ng gian l√†m vi·ªác.

**Bi·∫øn m√¥i tr∆∞·ªùng**

- B·ªã lo·∫°i b·ªè: `FRONT_BASE_URL`
- ƒê√£ th√™m: `FRONT_DOMAIN`, `FRONT_PROTOCOL`, `FRONT_PORT`

Ch√∫ng t√¥i ƒë√£ c·∫≠p nh·∫≠t c√°ch x·ª≠ l√Ω URL frontend.
B√¢y gi·ªù b·∫°n c√≥ th·ªÉ ƒë·∫∑t URL frontend b·∫±ng c√°c bi·∫øn `FRONT_DOMAIN`, `FRONT_PROTOCOL` v√† `FRONT_PORT`.
N·∫øu FRONT_DOMAIN kh√¥ng ƒë∆∞·ª£c ƒë·∫∑t, URL frontend s·∫Ω t·ª± ƒë·ªông s·ª≠ d·ª•ng `SERVER_URL`.

### v0.32.0 ƒë·∫øn v0.33.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.33.0

```
yarn command:prod cache:flush
yarn database:migrate:prod
yarn command:prod upgrade-0.33
```

L·ªánh `yarn command:prod cache:flush` s·∫Ω x√≥a b·ªô nh·ªõ ƒë·ªám Redis.
L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o c·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu (schemas core v√† metadata)
L·ªánh `yarn command:prod upgrade-0.33` chƒÉm s√≥c vi·ªác di chuy·ªÉn d·ªØ li·ªáu c·ªßa t·∫•t c·∫£ kh√¥ng gian l√†m vi·ªác.

K·ªÉ t·ª´ phi√™n b·∫£n n√†y, h√¨nh ·∫£nh twenty-postgres cho DB ƒë√£ b·ªã ng·ª´ng s·ª≠ d·ª•ng v√† thay th·∫ø b·∫±ng twenty-postgres-spilo.
N·∫øu b·∫°n mu·ªën ti·∫øp t·ª•c s·ª≠ d·ª•ng h√¨nh ·∫£nh twenty-postgres, ch·ªâ c·∫ßn thay th·∫ø `twentycrm/twenty-postgres:${TAG}` b·∫±ng `twentycrm/twenty-postgres` trong docker-compose.yml.

### v0.31.0 ƒë·∫øn v0.32.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.32.0

**Di chuy·ªÉn schema v√† d·ªØ li·ªáu**

```
yarn database:migrate:prod
yarn command:prod upgrade-0.32
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o c·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu (schemas core v√† metadata)
L·ªánh `yarn command:prod upgrade-0.32` chƒÉm s√≥c vi·ªác di chuy·ªÉn d·ªØ li·ªáu c·ªßa t·∫•t c·∫£ kh√¥ng gian l√†m vi·ªác.

**Bi·∫øn m√¥i tr∆∞·ªùng**

Ch√∫ng t√¥i ƒë√£ c·∫≠p nh·∫≠t c√°ch x·ª≠ l√Ω k·∫øt n·ªëi Redis.

- B·ªã lo·∫°i b·ªè: `REDIS_HOST`, `REDIS_PORT`, `REDIS_USERNAME`, `REDIS_PASSWORD`
- ƒê√£ th√™m: `REDIS_URL`

C·∫≠p nh·∫≠t t·ªáp `.env` c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng bi·∫øn `REDIS_URL` m·ªõi thay v√¨ c√°c tham s·ªë k·∫øt n·ªëi Redis ri√™ng l·∫ª.

Ch√∫ng t√¥i c≈©ng ƒë√£ ƒë∆°n gi·∫£n h√≥a c√°ch x·ª≠ l√Ω c√°c token JWT.

- B·ªã lo·∫°i b·ªè: `ACCESS_TOKEN_SECRET`, `LOGIN_TOKEN_SECRET`, `REFRESH_TOKEN_SECRET`, `FILE_TOKEN_SECRET`
- ƒê√£ th√™m: `APP_SECRET`

C·∫≠p nh·∫≠t t·ªáp `.env` c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng bi·∫øn `APP_SECRET` m·ªõi thay v√¨ c√°c m·∫≠t kh·∫©u token ri√™ng l·∫ª (b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√πng m·ªôt m·∫≠t kh·∫©u nh∆∞ tr∆∞·ªõc ho·∫∑c t·∫°o m·ªôt chu·ªói ng·∫´u nhi√™n m·ªõi)

**T√†i kho·∫£n K·∫øt n·ªëi**

If you are using connected account to synchronize your Google emails and calendars, you will need to activate the [People API](https://developers.google.com/people) on your Google Admin console.

### v0.30.0 ƒë·∫øn v0.31.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.31.0

**Di chuy·ªÉn schema v√† d·ªØ li·ªáu**:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.31
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o c·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu (schemas core v√† metadata)
L·ªánh `yarn command:prod upgrade-0.31` chƒÉm s√≥c vi·ªác di chuy·ªÉn d·ªØ li·ªáu c·ªßa t·∫•t c·∫£ kh√¥ng gian l√†m vi·ªác.

### v0.24.0 ƒë·∫øn v0.30.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.30.0

**Breaking change**:
To enhance performances, Twenty now requires redis cache to be configured. Ch√∫ng t√¥i ƒë√£ c·∫≠p nh·∫≠t [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml) c·ªßa ch√∫ng t√¥i ƒë·ªÉ ph·∫£n √°nh ƒëi·ªÅu n√†y.
H√£y ch·∫Øc ch·∫Øn c·∫≠p nh·∫≠t c·∫•u h√¨nh c·ªßa b·∫°n v√† c·∫≠p nh·∫≠t c√°c bi·∫øn m√¥i tr∆∞·ªùng c·ªßa b·∫°n t∆∞∆°ng ·ª©ng:

```
REDIS_HOST={your-redis-host}
REDIS_PORT={your-redis-port}
CACHE_STORAGE_TYPE=redis
```

**Di chuy·ªÉn schema v√† d·ªØ li·ªáu**:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.30
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o c·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu (schemas core v√† metadata)
L·ªánh `yarn command:prod upgrade-0.30` chƒÉm s√≥c vi·ªác di chuy·ªÉn d·ªØ li·ªáu c·ªßa t·∫•t c·∫£ kh√¥ng gian l√†m vi·ªác.

### v0.23.0 ƒë·∫øn v0.24.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.24.0

Ch·∫°y c√°c l·ªánh sau:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.24
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o c·∫•u tr√∫c c∆° s·ªü d·ªØ li·ªáu (schemas core v√† metadata)
L·ªánh `yarn command:prod upgrade-0.24` chƒÉm s√≥c vi·ªác di chuy·ªÉn d·ªØ li·ªáu c·ªßa t·∫•t c·∫£ kh√¥ng gian l√†m vi·ªác.

### v0.22.0 ƒë·∫øn v0.23.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.23.0

Ch·∫°y c√°c l·ªánh sau:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.23
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o C∆° s·ªü D·ªØ li·ªáu.
L·ªánh `yarn command:prod upgrade-0.23` ƒë·∫£m nh·∫≠n vi·ªác di chuy·ªÉn d·ªØ li·ªáu, bao g·ªìm chuy·ªÉn ƒë·ªïi t·ª´ ho·∫°t ƒë·ªông sang nhi·ªám v·ª•/ghi ch√∫.

### v0.21.0 ƒë·∫øn v0.22.0

N√¢ng c·∫•p phi√™n b·∫£n Twenty c·ªßa b·∫°n ƒë·ªÉ s·ª≠ d·ª•ng h√¨nh ·∫£nh v0.22.0

Ch·∫°y c√°c l·ªánh sau:

```
yarn database:migrate:prod
yarn command:prod workspace:sync-metadata -f
yarn command:prod upgrade-0.22
```

L·ªánh `yarn database:migrate:prod` s·∫Ω √°p d·ª•ng c√°c di chuy·ªÉn v√†o C∆° s·ªü D·ªØ li·ªáu.
L·ªánh `yarn command:prod workspace:sync-metadata -f` s·∫Ω ƒë·ªìng b·ªô h√≥a ƒë·ªãnh nghƒ©a c·ªßa c√°c ƒë·ªëi t∆∞·ª£ng chu·∫©n v√†o c√°c b·∫£ng si√™u d·ªØ li·ªáu v√† √°p d·ª•ng c√°c di chuy·ªÉn c·∫ßn thi·∫øt cho c√°c kh√¥ng gian l√†m vi·ªác hi·ªán t·∫°i.
L·ªánh `yarn command:prod upgrade-0.22` s·∫Ω √°p d·ª•ng c√°c bi·∫øn ƒë·ªïi d·ªØ li·ªáu c·ª• th·ªÉ ƒë·ªÉ th√≠ch ·ª©ng v·ªõi c√°c tu·ª≥ ch·ªçn m·∫∑c ƒë·ªãnh m·ªõi c·ªßa object defaultRequestInstrumentationOptions.




