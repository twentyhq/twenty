---
title: ワークフローによるメール送信
description: ワークフローアクションを使用して、パーソナライズされたメールを自動送信します。
image: /images/user-guide/workflows/workflow.png
---

CRM で特定のイベントが発生したときにメールを自動送信します—新規連絡先を歓迎し、商談をフォローアップしたり、チームメンバーに通知したりします。

## 前提条件

ワークフローからメールを送信する前に:

1. **設定 → アカウント** でメールアカウントを接続する
2. そのアカウントで送信権限が有効になっていることを確認する

## 基本的なメールワークフロー

### 例：新規連絡先へのウェルカムメール

**目的**: 新しい連絡先が CRM に追加されたときにウェルカムメールを送信する。

**設定**:

1. **ワークフローを作成**: **設定 → ワークフロー** に移動し、**+ New Workflow** をクリック

2. **トリガーを追加**: **Record is Created** → **People** を選択

3. **Send Email アクションを追加**:
   * アクションを追加するには **+** をクリック
   * **Send Email** を選択
   * メールを設定:

| フィールド  | 値                                      |
| ------ | -------------------------------------- |
| **宛先** | `{{trigger.object.email}}`             |
| **件名** | `{{Your Company Name}}へようこそ`           |
| **本文** | `Hi {{trigger.object.firstName}}, ...` |

4. **テストして有効化**: サンプルレコードでテストし、その後有効化する

## メールで変数を使用する

`{{variable}}` 構文を使用して前のステップのデータを参照します:

```text
{{trigger.object.firstName}} 様、

ご連絡いただきありがとうございます！

御社 {{trigger.object.company.name}} は当社のシステムに登録されました。

よろしくお願いいたします。
チーム一同
```

### トリガーから利用できる変数

| トリガータイプ        | 一般的な変数                                 |
| -------------- | -------------------------------------- |
| **レコードの作成/更新** | `{{trigger.object.fieldName}}`         |
| **手動**         | `{{trigger.selectedRecord.fieldName}}` |
| **Webhook**    | `{{trigger.body.fieldName}}`           |

## 高度: 条件付きメール

### 例：リードのソースに基づいて異なるメール

**目的**: リードの流入元に応じて異なるウェルカムメールを送信する。

**設定**:

1. **トリガー**: レコードが作成される（People）

2. **フィルターアクションを追加**:
   * 条件: `{{trigger.object.source}}` が "Website" と等しい
   * 真の場合 → ウェブサイトのウェルカムメールに進む

3. **その他のソース用の分岐**:
   * ソースごとに並列の分岐を作成する
   * 各分岐にそれぞれの Send Email アクションを配置する

## 複数の受信者にメールを送信する

### 例：商談が成立したときにチームへ通知

**目的**: 商談が成約したときに担当営業とそのマネージャーへメールを送る。

**設定**:

1. **トリガー**: レコードが更新（Opportunities、Stage = "Closed Won"）

2. **Search Records**: 商談の所有者のマネージャーを見つける

3. **Send Email #1**: 商談の所有者宛て
   * 宛先: `{{trigger.object.owner.email}}`
   * 件名: `Congratulations on closing {{trigger.object.name}}!`

4. **Send Email #2**: マネージャー宛て
   * 宛先: `{{searchRecords.manager.email}}`
   * 件名: `Deal Won: {{trigger.object.name}}`

## フォローアップメールのスケジュール送信

### 例：会議の3日後にフォローアップ

**目的**: 会議が記録された3日後にフォローアップメールを送信する。

**設定**:

1. **トリガー**: レコードが作成（Activities、Type = "Meeting"）

2. **Delay アクション**: 3日待機

3. **Send Email**:
   * 宛先: 会議の参加者
   * 件名: 先日の会話のフォロー
   * 本文: トリガーから会議の詳細を参照

## メールの添付ファイル

ワークフローから送信されるメールにファイルを添付できます。 添付ファイルは、ワークフローを設定する際にアップロードする静的なファイルです。

### 添付ファイルを追加する方法

1. **メール送信** アクションで、**添付ファイル** ボタンをクリックします
2. クリックしてお使いのコンピューターからファイルをアップロードします
3. このアクションによって送信されるすべてのメールに、そのファイルが添付されます。

### 一般的な使用例

| ユースケース            | サンプルファイル        |
| ----------------- | --------------- |
| **ウェルカムメール**      | 会社案内（PDF）       |
| **オンボーディングシーケンス** | 導入ガイド           |
| **営業のフォローアップ**    | 製品カタログまたは価格表    |
| **イベント確認メール**     | イベントの詳細またはアジェンダ |

<Note>
  添付ファイルは静的です—すべての受信者に同じファイルが送信されます。 動的ドキュメント（パーソナライズされた見積もりなど）の場合は、[サーバーレス関数](/l/ja/user-guide/workflows/how-tos/connect-to-other-tools/generate-pdf-from-twenty)を使ってファイルを生成し、添付します。
</Note>

## ベストプラクティス

### メールの内容

* 件名は簡潔かつ関連性の高い内容に保つ
* 受信者名でパーソナライズする
* 明確な行動喚起を含める
* 有効化前にメールをテストする

### 到達性

* 短時間に過度な数のメールを送信しない
* プロフェッショナルなメール署名を使用する
* スパム判定されやすい語句を避ける
* マーケティングメールに配信停止オプションを必ず用意する

### トラブルシューティング

* メールアカウントが接続され有効になっていることを確認する
* 受信者のメールアドレスが有効か確認する
* エラーメッセージがないかワークフローの実行履歴を確認する
* まず自分のメールアドレスでテストする

## 関連

* [ワークフローのトリガー](/l/ja/user-guide/workflows/capabilities/workflow-triggers)
* [ワークフローのアクション](/l/ja/user-guide/workflows/capabilities/workflow-actions)
