---
title: ワークフロートリガー
description: ワークフローを開始するさまざまなトリガーについて学びましょう。
---

## トリガーについて

ワークフローは、常に自動化をいつ実行するかを定義する単一のトリガーで開始されます。

<img src="/images/user-guide/workflows/workflow_triggers.png" style={{width:'100%'}} />

<Tip>
  **高度なオブジェクトにも対応しています！** 標準の CRM オブジェクト（People、Companies、Opportunities）に加えて、次のオブジェクトでもワークフローをトリガーし、アクションを実行できます:

  * ワークスペースメンバー
  * カレンダーイベント
  * メッセージ（メール）
  * タスク、ノート、その他多数のシステムオブジェクト

  これにより、カレンダーイベントが作成された際にチームメンバーに通知したり、受信メールを自動処理したりするなど、強力な自動化が可能になります。
</Tip>

## レコードの作成

新しいレコードが選択されたオブジェクト（人物、会社、機会、または任意のカスタムオブジェクト）で作成されるときに、ワークフローを開始します。

**設定**：新しいレコードを監視するオブジェクトタイプを選択します。

<Note>
  * このトリガーは、CSV、メールボックスおよびカレンダーの同期、API によって作成されたレコードに最適です。
  * **手動で作成されたレコードには推奨されません**: このトリガーでは、レコードが作成されるとすぐにワークフローが開始します。 Twenty UI はその場での自動保存を提供しているため（編集モードがあって検証して保存する方式ではありません）、ユーザーがすべてのフィールドを入力する前にワークフローがトリガーされます。
    手動で作成されたレコードでこのワークフローをトリガーするには、代わりにトリガー `Record is created or updated` を使用することを推奨します。
</Note>

## レコードの更新

既存のレコードに変更が加えられたときにワークフローを開始します。

**設定**：

* オブジェクトタイプを選択
* 変更を監視するフィールドをオプションで指定

## レコードの更新または作成

選択されたオブジェクトでレコードが作成または更新されたときに、ワークフローを開始します。

**なぜ重要か**：このトリガーが特に役立つのは、さまざまな方法で作成されたレコードが異なる動作をするためです。

* **API/CSV インポート**： レコードはすべてのフィールドが即座に入力されて作成されます。
* **手動作成**： レコードは最初に作成され、その後の更新でフィールドが追加されます。

**設定**：

* 監視するオブジェクトタイプを選択
* 変更を監視するフィールドをオプションで指定
* ワークフローは最初の作成時とその後のすべての更新時にトリガーされます。

## レコードの削除

オブジェクトからレコードが削除されたときにワークフローを開始します。

**設定**：削除を監視するオブジェクトタイプを選択します。

## 手動トリガー

ユーザーのアクションによってトリガーされたときにワークフローを開始します。 このトリガーには、`Cmd+K` メニューから、またはレコードを選択した後にトップナビバーに表示されるカスタムボタン経由でアクセスできます。

<img src="/images/user-guide/workflows/add_to_newsletter_button.png" style={{width:'100%'}} />

**可用性設定**: レコードの選択をワークフローでどのように扱うか選択します。

* **グローバル**： このワークフローをトリガーするためにレコードは必要ありません。 ワークフローは、どこからでも（任意のオブジェクトから）コマンドメニュー `Cmd + K` でトリガーされ、レコードを入力として使用しません。

* **シングル**：選択したレコードがワークフローに渡されます。 これは特定のオブジェクトに対して設定されています。 ワークフローを起動する前に複数のレコードを選択できます。 選択されたレコードの数だけ、ワークフローは最初から最後まで実行されます。

  <Note>
    **ソフト上限: 100回/分**。 これを超えると、ワークフローは "Not Started" ステータスのままになり、バックグラウンドジョブによって、または別のワークフローがキューに入ったときに段階的に処理されます。 つまり、単一のトリガーで100件を超えるレコードを選択できますが、実行は遅くなります。
  </Note>

* **一括**：選択されたレコードがワークフローに渡されます。 これは特定のオブジェクトに対して設定されています。 ワークフローを起動する前に複数のレコードを選択できます。 ワークフローは一度実行され、すべてのレコードリストを入力として提供します。 つまり、このワークフローには [イテレーターアクション](/l/ja/user-guide/workflows/capabilities/workflow-actions#iterator) を含める必要があります。

<Note>
  こちらはより高度で、ワークフローの実行回数を最適化したい人に最適です。
</Note>

<img src="/images/user-guide/workflows/manual_trigger.png" style={{width:'100%'}} />

**追加の設定**：

* 対象オブジェクトを選択（シングルと一括の可用性用）
* ワークフロートリガーのコマンドアイコンを選択
* ナビゲーションバープレースメントを設定（固定または未固定）

**アクセス方法**：

* `Cmd+K` メニューで手動ワークフローを見つけて起動
* トップナビゲーションバーのカスタムボタン（設定されている場合）

## 時間ベースのトリガー: スケジュール実行

指定された頻度でワークフローを開始します。

**設定**：

* 時間単位を選択（分、時間、日）
* 高度なスケジュール設定には、値を入力するか、カスタム cron 式を使用します

<Note>
  **タイムゾーン**: スケジュールされたワークフローは **UTC** で実行されます。 日次スケジュールの時間を設定する際は、ローカル時間を UTC に変換してください。
</Note>

## 外部トリガー: Webhook

外部サービスからのGETまたはPOSTリクエストを受信するとワークフローを開始します。

<img src="/images/user-guide/workflows/webhook_trigger.png" style={{width:'100%'}} />

**設定**：

* ワークフローは一意の Webhook URL を提供します—これをコピーして、呼び出し先エンドポイントとして外部システムに追加してください。
* POST リクエストの場合、Twenty が想定するデータを認識できるよう、期待されるボディ構造を定義してください。 ここに、ワークフロー内の後続の処理で必要となる、受信するフィールドを追加してください。
* 認証の設定（近日対応）。

## 適切なトリガーの選び方

| ユースケース          | 推奨トリガー              |
| --------------- | ------------------- |
| 新規リードの処理が必要     | レコードの作成             |
| データ変更の同期が必要     | レコードの更新             |
| インポート/手動でのデータ処理 | レコードの更新または作成        |
| 削除後のクリーンアップ     | レコードの削除             |
| ユーザー起点のアクション    | 手動で起動               |
| 定期レポート          | スケジュールで             |
| 外部統合            | Webhook またはスケジュール実行 |
