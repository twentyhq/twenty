---
title: インポートエラーの修正
description: CSV のインポートエラーを解決するための包括的なトラブルシューティングガイド。
---

## 概要

インポートがうまくいきませんか？ このガイドでは、一般的なインポートエラーを段階的に特定して修正する方法を説明します。

## インポート検証の仕組み

ファイルをアップロードして列をマッピングすると、Twenty がデータを検証します。

1. **検証の実行** — Twenty が各行にエラーがないか確認します
2. **エラーをハイライト** — 問題のある行は**黄色**で表示されます
3. **その場で修正可能** — インポート UI でセルを直接編集できます
4. **行を削除** — 問題のあるレコードをまるごとスキップします

<Note>**エラーは UI で修正できます。** スプレッドシートに戻る必要はありません。 インポート中にセルを直接編集して時間を節約しましょう。</Note>

## ステップごとのトラブルシューティング

### ステップ 1: エラーの種類を特定する

ハイライトされた行をクリックすると、具体的なエラーメッセージを確認できます。 よくあるエラーの種類：

| エラーメッセージ                                                            | 意味                                     |
| ------------------------------------------------------------------- | -------------------------------------- |
| 重複する値が黄色でハイライト                                                      | その値は Twenty に既に存在するか、ファイル内で 2 回出現しています |
| `{field} is not a valid {type}`（黄色のセルにカーソルを合わせる）                    | データが想定される形式と一致していません                   |
| 必須フィールドがハイライト表示                                                     | 必須フィールドが空です                            |
| `Can't connect to {object}. No unique record found...`（インポートは失敗します） | 参照されているレコードが存在しません                     |
| `Too many records. Up to 10000 allowed`（アップロードがブロックされます）            | ファイルのレコード数が 10,000 を超えています             |

### ステップ 2: エラーを修正する

各エラータイプに応じて、以下の手順に従ってください。

---

## エラー：重複する値

### あなたが見るもの

インポート開始前に、重複する値がある行はインポート UI で**黄色でハイライト表示**されます。

### 意味

一意のフィールド（email、domain）が次のいずれかに該当しています：

* Twenty に既に存在する
* ファイル内で 2 回出現している

### 解決方法

**オプション 1：重複している値を編集**

1. エラーのあるセルをクリック
2. 一意の値に変更
3. インポートを続行

**オプション 2：重複行を削除**

1. 行の横にある X をクリック
2. その行はインポート時にスキップされます

**オプション 3：Twenty に既存レコードの更新を任せる**

1. ファイルに一意の識別子（`email`、`domain`、または `id`）が含まれていることを確認する
2. 一意の識別子フィールドをマッピングする
3. Twenty は重複を作成せず、既存のレコードを更新します

<Note>
  一意のフィールドも更新できます。

  * `id` を保持して `email` を変更すると → メールアドレスが更新されます
  * `email` を保持して `id` を変更すると → ID が更新されます

  いずれか 1 つの一意の識別子が一致していれば、Twenty がレコードを更新します。
</Note>

### このエラーの防止策

インポート前：

1. スプレッドシートを一意のフィールドで並べ替える
2. 重複行を削除する
3. レコードが Twenty に既に存在するか確認する

<Warning>
  **論理削除されたレコードも一意性の判定に含まれます。**

  コマンドメニューを確認 → 削除済みレコードを表示。 そこにあるレコードにも一意性制約が適用されます。 完全に削除するか、復元して更新します。
</Warning>

詳細はこちら： [一意性制約](/l/ja/user-guide/data-migration/capabilities/uniqueness-constraints)

---

## エラー：無効な形式

### あなたが見るもの

セルの値が黄色でハイライト表示されます。 カーソルを合わせるとエラーメッセージが表示されます：

```
{field name} は有効な {field type} ではありません
```

### 意味

データがそのフィールドタイプの想定形式と一致していません。

### 解決方法 — フィールドタイプ別

#### メール

**問題:** 無効なメール形式
**解決策:** `name@domain.com` 形式を使用する

```
❌ john.smith@
❌ john smith@acme.com
✓ john.smith@acme.com
```

#### ドメイン

**問題:** 形式の不一致は重複の原因になります
**解決策:** `https://domain.com` 形式を使用（推奨）

```
⚠️ acme.com         （有効だが非推奨）
⚠️ www.acme.com     （有効だが非推奨）
✅ https://acme.com  （推奨）
```

<Note>すべての形式は有効ですが、メール/カレンダー同期で使用される形式と一致するため、`https://domain.com` を推奨します。 他の形式を使用すると、会社が重複して作成される場合があります。</Note>

#### 日付

**問題:** 認識できない日付形式
**解決策:** ファイル全体で形式を統一する

```
✓ 2024-03-15        (YYYY-MM-DD - recommended)
✓ 03/15/2024        (MM/DD/YYYY)
✓ 15/03/2024        (DD/MM/YYYY)
```

#### 電話

**問題:** 必須列が不足
**解決策:** すべての電話関連の列を含める

| 列                                       | 例            |
| --------------------------------------- | ------------ |
| **Phones / Primary Phone Number**       | `4159095555` |
| **Phones / Primary Phone Country Code** | `US`         |
| **Phones / Primary Phone Calling Code** | `+1`         |

#### ブール型

**問題:** 不正なブール値
**解決策:** 大文字の `TRUE` または `FALSE` を使用する

```
❌ true
❌ yes
❌ 1
✓ TRUE
✓ FALSE
```

#### セレクト／マルチセレクト

**問題:** 値が既存のオプションと一致しない
**解決策:** 表示ラベルではなく、**API 名**を使用する

API 名の確認方法:

1. **設定 → データモデル** に移動する
2. オブジェクトとフィールドを選択する
3. **詳細モード** を有効にする（右下のトグル）
4. API 名を使用する（例：`OPTION_1`。"Option 1" ではありません）

```
❌ High Priority
✓ HIGH_PRIORITY
```

#### 通貨

**問題:** 金額または通貨コードが欠落
**解決策:** 両方の列を入力する

| 列                     | 例         |
| --------------------- | --------- |
| **Amount / Amount**   | `1234.56` |
| **Amount / Currency** | `USD`     |

#### 数

**問題:** 数値以外の文字を含む
**解決策:** 数字のみを使用し、小数はピリオドを使用する

```
❌ $1,234.56
❌ 1,234.56
✓ 1234.56
```

完全な形式のリファレンス: [フィールドマッピング](/l/ja/user-guide/data-migration/capabilities/field-mapping)

---

## エラー：必須フィールドが未入力

### あなたが見るもの

必須フィールドのセルがマークされ、その行が黄色でハイライト表示されます。

### 意味

この行で必須フィールドが未入力です。

### 解決方法

**オプション 1：値を入力**

1. 空のセルをクリック
2. 値を入力する
3. インポートを続行

**オプション 2：行を削除**

1. データがない場合は、X をクリックしてその行をスキップ

### このエラーの防止策

インポート前に、必須フィールドを確認してください：

1. **設定 → データモデル** に移動する
2. 対象のオブジェクトを選択する
3. どのフィールドが必須としてマークされているか確認する

---

## エラー：リレーションが見つかりません

### あなたが見るもの

このエラーは**インポート開始後**に発生します — 次のようなメッセージとともにインポートが失敗します：

```
Can't connect to company. No unique record found with condition: id = 7776ee49-f608-4a77-8cc8-6fe96ae1e43f
```

これは、その特定の識別子を持つ会社が Twenty に存在しないことを意味します。

<Note>他のエラーと異なり、このエラーはデータレビューの段階では検出されません。 インポートは開始されますが、欠落しているリレーションに遭遇すると失敗します。</Note>

### 意味

Twenty に存在しないレコードへリンクしようとしています。

### 解決方法

**オプション 1：まず親レコードをインポート**

1. 現在のインポートをキャンセル
2. 親レコード（例：会社）をインポート
3. その後、子レコード（例：連絡先）をインポート

**オプション 2：参照値を修正**

1. ファイル内の参照値を確認
2. 既存のレコードと完全一致していることを確認
3. 形式を確認：ドメインは `https://domain.com` にする

**オプション 3：リレーションを削除**

1. セルを空にして、リレーションなしでインポート
2. 後で手動でリレーションを追加

### このエラーの防止策

1. **正しい順序でインポートする：**
   * まず会社
   * 次に連絡先（会社の参照付き）
   * 最後に商談

2. **参照値を検証する：**
   * 親レコードをエクスポートして正確な識別子を取得
   * ドメイン形式は `https://domain.com` を使用
   * 入力ミスや大文字・小文字の相違を確認

<Warning>
  **存在しないレコードを参照している場合、インポートは失敗します。**

  必ず子オブジェクトの前に親オブジェクトをインポートしてください。
</Warning>

詳細はこちら： [リレーションのインポート](/l/ja/user-guide/data-migration/capabilities/import-relations)

---

## エラー：ファイルが大きすぎます

### あなたが見るもの

このエラーは**ファイルのアップロード時**に表示され、アップロードは完全にブロックされます：

```
Too many records. Up to 10000 allowed
```

ファイルサイズを減らすまで、データレビューの段階に進むことはできません。

### 意味

ファイルのレコード数が 10,000 を超えています。

### 解決方法

**オプション 1：複数のファイルに分割**

1. データを 10,000 レコード以下のファイルに分割する
2. 各ファイルを個別にインポートする
3. インポートの順序を維持する（連絡先の前に会社）

**オプション 2：API インポートを使用**
非常に大きなデータセットには、レコード数の制限がない API を使用してください。
参照：[API でデータをインポートする方法](/l/ja/user-guide/data-migration/how-tos/import-data-via-api)

---

## エラー：フィールドが認識されません

### 意味

ファイル内の列をマッピングできません。該当フィールドが Twenty に存在しないためです。

### 解決方法

1. **設定 → データモデル** に移動する
2. インポート対象のオブジェクトを選択する
3. **+ Add field** をクリック
4. 適切なタイプでカスタムフィールドを作成する
5. ファイルを再アップロードする

<Note>CSV インポートで作成されるのはレコードであり、フィールドではありません。 すべてのフィールドは、インポート前に存在している必要があります。</Note>

---

## エラー：ユーザーのリレーションが空

### 意味

レコードをユーザー（所有者、担当者）に割り当てようとしていますが、そのリレーションがマッピングされていません。

### よくある原因

1. **ユーザーが招待を受諾していない** — そのユーザーはまだ Twenty に存在していません
2. **旧システムのユーザー ID を使用している** — Twenty は他システムの ID を照合できません
3. **メール形式が不正** — 入力されたメールがユーザーの Twenty アカウントと一致していません

### 解決方法

1. すべてのユーザーが Twenty ワークスペースへの**招待を受諾**していることを確認する
2. ユーザーの**メールアドレス**を使用する（名前や旧システムの ID ではなく）
3. Twenty に参加した際と同じメールアドレスを使用する

<Warning>
  **インポート前に、ユーザーは招待を受諾している必要があります。**

  ユーザーが招待を受諾していない場合、そのユーザーを参照するレコードのユーザーリレーションは空になります。
</Warning>

---

## インポート前チェックリスト

インポート前に次を確認し、エラーを回避してください：

### ファイル要件

<Check>ファイル形式が CSV、XLSX、または XLS</Check>
<Check>レコード数が 10,000 未満</Check>
<Check>UTF-8 エンコードを使用</Check>

### データ品質

<Check>メールの重複なし（連絡先）</Check>
<Check>ドメインの重複なし（会社）</Check>
<Check>すべての日付が一貫した形式</Check>
<Check>すべてのドメインが `https://domain.com` 形式</Check>

### フィールドの形式

<Check>ブール型フィールドは `TRUE` または `FALSE`（大文字）を使用</Check>
<Check>セレクト型フィールドは表示ラベルではなく API 名を使用</Check>
<Check>電話フィールドに必要な列がすべて揃っている</Check>
<Check>通貨フィールドに金額と通貨コードの両方がある</Check>

### 関連

<Check>親レコードを子レコードより先にインポート</Check>
<Check>リレーション列が既存レコードを参照している</Check>
<Check>ドメイン形式が Twenty の形式と完全一致</Check>

### データモデル

<Check>すべてのカスタムフィールドが 設定 → データモデル に存在</Check>
<Check>インポート前にセレクトの選択肢が作成済み</Check>

---

## まだ問題がありますか？

上記の解決策を試しても解決しない場合：

1. **サンプルファイルをダウンロード** — Twenty が想定する正確な形式を確認
2. **既存レコードをエクスポート** — ファイルを動作しているデータと比較
3. **少量でテスト** — まず 5〜10 行で試す
4. **参考記事を確認：**
   * [フィールドマッピング](/l/ja/user-guide/data-migration/capabilities/field-mapping)
   * [一意性制約](/l/ja/user-guide/data-migration/capabilities/uniqueness-constraints)
   * [リレーションのインポート](/l/ja/user-guide/data-migration/capabilities/import-relations)
   * [エラー処理](/l/ja/user-guide/data-migration/capabilities/error-handling)
