---
title: Resoluci贸 de problemes
image: /images/user-guide/what-is-twenty/20.png
---

<Frame>
  <img src="/images/user-guide/what-is-twenty/20.png" alt="Header" />
</Frame>

## Resoluci贸 de problemes

If you encounter any problem while setting up environment for development, upgrading your instance or self-hosting,
here are some solutions for common problems.

### Autohostatge

#### La primera instal路laci贸 resulta en `no ha estat possible autenticar la contrasenya per a l'usuari "postgres"`

 **IMPORTANT: Aquesta soluci贸 茅s NOMS per a instal路lacions noves** 
Si ja teniu una instncia de Twenty amb dades en producci贸, **NO** seguiu aquests passos ja que esborraran permanentment la vostra base de dades!

Durant la primera instal路laci贸 de Twenty, potser voldreu canviar la contrasenya de la base de dades per defecte.
La contrasenya establerta durant la primera instal路laci贸 queda emmagatzemada permanentment al volum de la base de dades. Si m茅s endavant intentes canviar aquesta contrasenya en la teva configuraci贸 sense eliminar el volum antic, et trobars amb errors d'autenticaci贸 perqu猫 la base de dades encara utilitza la contrasenya original.

锔 AVS: Seguint els passos seg眉ents ESBORRAR PERMANENTMENT totes les dades de la base de dades! 锔
Nom茅s continueu si aquesta 茅s una nova instal路laci贸 sense dades importants.

Per actualitzar el `PG_DATABASE_PASSWORD` necessites:

```sh
# Update the PG_DATABASE_PASSWORD in .env
docker compose down --volumes
docker compose up -d
```

#### CR line breaks found [Windows]

Aix貌 茅s causat pels carcters de salt de l铆nia de Windows i la configuraci贸 de git. Intenta executar:

```
git config --global core.autocrlf false
```

Despr茅s elimina el repositori i clona'l de nou.

#### Missing metadata schema

Durant la instal路laci贸 de Twenty, has de proveir la teva base de dades postgres amb els esquemes, extensions i usuaris adequats.
Si aconsegueixes executar aquest aprovisionament, haur铆eu de tenir els esquemes `default` i `metadata` a la teva base de dades.
Si no, assegura't de no tenir m茅s d'una instncia de postgres executant-se al teu ordinador.

#### No es pot trobar el m貌dul 'twenty-emails' o les seves declaracions de tipus corresponents.

Has de construir el paquet `twenty-emails` abans d'executar la inicialitzaci贸 de la base de dades amb `npx nx run twenty-emails:build`

#### Paquet twenty-x faltant

Assegureu-vos d'executar yarn en el directori arrel i despr茅s executar `npx nx server:dev twenty-server`. Si aix貌 encara no funciona, prova de construir manualment el paquet que falta.

#### El Lint al desar no funciona

Aix貌 hauria de funcionar de forma nativa amb l'extensi贸 d'eslint instal路lada. Si aix貌 no funciona, proveu d'afegir aix貌 a la configuraci贸 de vscode (en l'mbit del contenidor de desenvolupament):

```
"editor.codeActionsOnSave": {

  "source.fixAll.eslint": "explicit"

}
```

#### Mentre s'executa `npx nx start` o `npx nx start twenty-front`, es genera un error de falta de mem貌ria

A `packages/twenty-front/.env` descomenta `VITE_DISABLE_TYPESCRIPT_CHECKER=true` i `VITE_DISABLE_ESLINT_CHECKER=true` per desactivar les comprovacions en segon pla, reduint aix铆 la quantitat de RAM necessria.

**Si no funciona:**  
Executa nom茅s els serveis que necessites, en lloc de `npx nx start`. For instance, if you work on the server, run only `npx nx worker twenty-server`

**Si no funciona:**  
Si heu provat d'executar nom茅s `npx nx run twenty-server:start` en WSL i est fallant amb l'error de mem貌ria seg眉ent:

`FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory`

La soluci贸 alternativa 茅s executar la seg眉ent comanda al terminal o afegir-la al perfil .bashrc per configurar-la automticament:

`export NODE_OPTIONS="--max-old-space-size=8192"`

La bandera --max-old-space-size=8192 estableix un l铆mit superior de 8GB per a la heap de Node.js; l'煤s escala amb la demanda de l'aplicaci贸.
Refer猫ncia: https://stackoverflow.com/questions/56982005/where-do-i-set-node-options-max-old-space-size-2048

**Si no funciona:**  
Investiga quins processos estan ocupant m茅s la RAM de la teva mquina. A Twenty, vam notar que algunes extensions VScode ocupaven molta RAM, aix铆 que les deshabilitem temporalment.

**Si no funciona:**  
Reiniciar la teva mquina ajuda a netejar els processos fantasma.

#### Mentre s'executa `npx nx start` hi ha estranys [0] i [1] en els registres

Aix貌 s'espera ja que la comanda `npx nx start` est executant m茅s ordres sota el cap贸

#### No s'envien correus electr貌nics

La majoria de les vegades, 茅s perqu猫 el `worker` no s'est executant en segon pla. Prova d'executar

```
npx nx worker twenty-server
```

#### No puc connectar el meu compte de Microsoft 365

La majoria de les vegades, 茅s perqu猫 el teu administrador no ha habilitat la llic猫ncia de Microsoft 365 per al teu compte. Verifiqueu [https://admin.microsoft.com/](https://admin.microsoft.com/Adminportal/Home).

Si tens un codi d'error `AADSTS50020`, probablement vol dir que ests utilitzant un compte personal de Microsoft. Aix貌 encara no est suportat. M茅s informaci贸 [aqu铆](https://learn.microsoft.com/fr-fr/troubleshoot/entra/entra-id/app-integration/error-code-aadsts50020-user-account-identity-provider-does-not-exist)

#### Mentre s'executa `yarn` apareixen avisos a la consola

Els avisos estan informant sobre la descrrega de depend猫ncies addicionals que no estan expl铆citament indicades en `package.json`, per la qual cosa, sempre que no aparegui cap error irrecuperable, tot hauria de funcionar segons s'espera.

#### Quan l'usuari accedeix a la pgina de login, apareix un error sobre un usuari no autoritzat intentant accedir al espai de treball als registres

Aix貌 s'espera perqu猫 l'usuari no est autoritzat quan est desconnectat ja que la seva identitat no est verificada.

#### How to check if your worker is running?

- Ves a [webhook-test.com](https://webhook-test.com/) i copia **L'URL 煤nic del teu webhook**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test.jpg" alt="Webhook test" />
</div>
- Obre la teva aplicaci贸 Twenty, ves a `/settings` i activa l'interruptor **Avan莽at** a la part inferior esquerra de la pantalla.
- Crea un nou webhook.
- Enganxa **L'URL 煤nic del teu webhook** al camp **Endpoint Url** a Twenty. Defineix els **Filtres** a `Companies` i `Created`.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-settings.jpg" alt="Webhook settings" />
</div>
- Ves a `/objects/companies` i crea un nou registre d'empresa.
- Return to [webhook-test.com](https://webhook-test.com/) and check if a new **POST request** has been received.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test-result.jpg" alt="Webhook test result" />
</div>
- Si s'ha rebut una **sol路licitud POST**, el teu treballador est funcionant amb 猫xit. En cas contrari, necessites solucionar problemes del teu treballador.

#### La interf铆cie d'administraci贸 falla a l'inici i retorna l'error TS5042: L'opci贸 'project' no pot combinar-se amb fitxers font a la l铆nia d'ordres

Comenti el connector del verificador a `packages/twenty-ui/vite-config.ts` com en l'exemple seg眉ent

```
plugins: [
      react({ jsxImportSource: '@emotion/react' }),
      tsconfigPaths(),
      svgr(),
      dts(dtsConfig),
      // checker(checkersConfig),
      wyw({
        include: [
          '**/OverflowingTextWithTooltip.tsx',
          '**/Chip.tsx',
          '**/Tag.tsx',
          '**/Avatar.tsx',
          '**/AvatarChip.tsx',
        ],
        babelOptions: {
          presets: ['@babel/preset-typescript', '@babel/preset-react'],
        },
      }),
    ],
```

#### No es pot accedir al panell d'administraci贸

Executa `UPDATE core."user" SET "canAccessFullAdminPanel" = TRUE WHERE email = 'you@yourdomain.com';` al contenidor de la base de dades per obtenir acc茅s al panell d'administraci贸.

### Docker compose en 1 clic

#### No es pot iniciar la sessi贸

Si no pots iniciar la sessi贸 despr茅s de la configuraci贸:

1. Executeu les seg眉ents comandes:
   ```bash
   docker exec -it twenty-server-1 yarn
   docker exec -it twenty-server-1 npx nx database:reset  --configuration=no-seed
   ```
2. Reinicia els contenidors de Docker:
   ```bash
   docker compose down
   docker compose up -d
   ```

Nota que l'ordre database:reset esborrar completament la teva base de dades i la recrear des de zero.

#### Problemes de connexi贸 darrere d'un proxy invers

Si ests executant Twenty darrere d'un proxy invers i experimentant problemes de connexi贸:

1. **Verifica SERVER_URL:**

   Assegura't que `SERVER_URL` al teu fitxer `.env` coincideix amb la teva URL d'acc茅s externa, incloent `https` si SSL est habilitat.

2. **Check Reverse Proxy Settings:**

   - Confirm that your reverse proxy is correctly forwarding requests to the Twenty server.
   - Assegura't que les cap莽aleres com `X-Forwarded-For` i `X-Forwarded-Proto` estiguin configurades correctament.

3. **Reiniciar Serveis:**

   Despr茅s de fer canvis, reinicia tant el proxy invers com els contenidors de Twenty.

#### Error al penjar una imatge - perm铆s denegat

Canviar la propietat de la carpeta de dades a l'amfitri贸 d'arrel a un altre usuari i grup resol aquest problema.

## Obtenci贸 d'Ajuda

Si trobeu problemes no tractats en aquesta guia:

- Revisa els registres:

  Visualitza els registres dels contenidors per missatges d'error:

  ```bash
  docker compose logs
  ```

- Suport Comunitari:

  Contacta amb la [comunitat Twenty](https://github.com/twentyhq/twenty/issues) o els [canals de suport](https://discord.gg/cx5n4Jzs57) per obtenir ajuda.