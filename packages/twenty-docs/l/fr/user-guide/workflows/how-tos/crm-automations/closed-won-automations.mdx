---
title: Automatisations ¬´ Closed Won ¬ª
description: Automatisez les activit√©s post-gain lorsque des opportunit√©s sont cl√¥tur√©es.
---

Lorsqu'une affaire se cl√¥ture, plusieurs actions doivent avoir lieu : mettre √† jour le statut de l'entreprise, notifier les membres de l'√©quipe, cr√©er des t√¢ches d'int√©gration. Automatisez tout cela avec un seul flux de travail.

## Le probl√®me

Lorsqu'une opportunit√© passe √† "Closed Won":

* Le type d'entreprise doit passer de "Prospect" √† "Customer"
* Des t√¢ches d'int√©gration doivent √™tre cr√©√©es
* L'√©quipe Customer Success doit √™tre inform√©e
* Le commercial a besoin d'une confirmation

Faire cela manuellement est chronophage et sujet aux erreurs.

## La solution

Cr√©ez un flux de travail qui g√®re automatiquement toutes les activit√©s post-gain.

## Configuration compl√®te du flux de travail

### √âtape 1 : Cr√©er le flux de travail

1. Allez dans **Param√®tres ‚Üí Flux de travail**
2. Cliquez sur **+ Nouveau flux de travail**
3. Nommez-le "Affaire gagn√©e - Automatisation post-gain"

### √âtape 2 : Configurer le d√©clencheur

1. S√©lectionnez **L'enregistrement est mis √† jour**
2. Choisissez **Opportunit√©s**
3. Dans "Champs √† surveiller", s√©lectionnez **√âtape**

### √âtape 3 : Ajouter un filtre d'√©tape

1. Ajoutez l'action **Filtre**
2. Condition : `{{trigger.object.stage}}` est √©gal √† "Closed Won"

### √âtape 4 : Mettre √† jour le type d'entreprise

1. Ajoutez l'action **Mettre √† jour l'enregistrement**
2. Configurer:

| Champ                           | Valeur                          |
| ------------------------------- | ------------------------------- |
| **Objet**                       | Entreprises                     |
| **Enregistrement**              | `{{trigger.object.company.id}}` |
| **Type**                        | Client                          |
| **Date de la premi√®re affaire** | `{{trigger.object.closedAt}}`   |
| **Propri√©taire du compte**      | `{{trigger.object.owner.id}}`   |

### √âtape 5 : Cr√©er une t√¢che d'int√©gration

1. Ajoutez l'action **Cr√©er un enregistrement**
2. Configurer:

| Champ                    | Valeur                                                                                                                  |
| ------------------------ | ----------------------------------------------------------------------------------------------------------------------- |
| **Objet**                | T√¢ches                                                                                                                  |
| **Titre**                | `Onboarding: {{trigger.object.name}}`                                                                                   |
| **Assign√©(e)**           | Membre de l'√©quipe Customer Success                                                                                     |
| **Date d'√©ch√©ance**      | Dans 3 jours                                                                                                            |
| **Priorit√©**             | √âlev√©e                                                                                                                  |
| **Entreprise associ√©e**  | `{{trigger.object.company.id}}`                                                                                         |
| **Opportunit√© associ√©e** | `{{trigger.object.id}}`                                                                                                 |
| **Description**          | `Int√©gration d'un nouveau client pour {{trigger.object.company.name}}. Valeur de l'affaire : {{trigger.object.amount}}` |

### √âtape 6 : Informer Customer Success

1. Ajoutez l'action **Envoyer un e-mail**
2. Configurer:

| Champ                | Valeur                                             |
| -------------------- | -------------------------------------------------- |
| **√Ä**                | customer-success@yourcompany.com                   |
| **Objet**            | `üéâ New Customer: {{trigger.object.company.name}}` |
| **Corps du message** | Voir l'exemple ci-dessous                          |

**Exemple de corps de l'e-mail** :

```
Hi CS Team,

We have a new customer!

Company: {{trigger.object.company.name}}
Deal: {{trigger.object.name}}
Value: {{trigger.object.amount}}
Sales Rep: {{trigger.object.owner.name}}
Close Date: {{trigger.object.closedAt}}

An onboarding task has been created automatically.

Let's give them a great start!
```

### √âtape 7 : Confirmer au commercial

1. Ajoutez une autre action **Envoyer un e-mail**
2. Configurer:

| Champ                | Valeur                                                                                                             |
| -------------------- | ------------------------------------------------------------------------------------------------------------------ |
| **√Ä**                | `{{trigger.object.owner.email}}`                                                                                   |
| **Objet**            | `‚úÖ Deal Closed: {{trigger.object.name}}`                                                                           |
| **Corps du message** | F√©licitations ! Votre affaire a √©t√© trait√©e. L'√©quipe Customer Success a √©t√© inform√©e et l'int√©gration a commenc√©. |

### √âtape 8 : Tester et activer

1. Testez en d√©pla√ßant une opportunit√© de test vers "Closed Won"
2. V√©rifier:
   * Type d'entreprise modifi√© en "Customer"
   * T√¢che d'int√©gration cr√©√©e
   * L'√©quipe CS a re√ßu l'e-mail
   * Le commercial a re√ßu la confirmation
3. Activez lorsque vous √™tes pr√™t

## Gestion de "Closed Lost"

Cr√©ez un flux de travail similaire pour les affaires perdues :

### D√©clencheur

* Enregistrement mis √† jour (Opportunit√©s, √âtape = "Closed Lost")

### Actions

1. **Cr√©er un enregistrement** : T√¢che pour "Analyse d'affaire perdue"
2. **Mettre √† jour l'enregistrement** : Ajouter la raison de perte √† l'enregistrement de l'entreprise
3. **Envoyer un e-mail** : Informer le responsable de l'affaire perdue

## Avanc√© : int√©gration en plusieurs √©tapes

Pour une int√©gration complexe, cr√©ez plusieurs t√¢ches :

```javascript
export const main = async (params) => {
  const tasks = [
    { title: "Welcome call", daysFromNow: 1, assignee: "CS" },
    { title: "Send onboarding materials", daysFromNow: 2, assignee: "CS" },
    { title: "Technical setup", daysFromNow: 5, assignee: "Support" },
    { title: "30-day check-in", daysFromNow: 30, assignee: "CS" }
  ];

  return { tasks };
};
```

Utilisez **Iterator** pour cr√©er chaque t√¢che √† partir du tableau.

## Id√©es de personnalisation

### Maintenez vos autres outils √† jour

* Cr√©ez un client dans le syst√®me de facturation avec une action **HTTP Request**

### Actions conditionnelles

Utilisez des actions **Filtre** pour :

* Int√©gration diff√©rente pour entreprises vs PME
* Assign√©s diff√©rents selon la r√©gion
* Ignorer les notifications pour les petites affaires

### Inclure les d√©tails de l'affaire

Utilisez l'action **Code** pour formater :

* Documents de synth√®se de l'affaire
* Notes de passation pour l'√©quipe CS
* Listes de contr√¥le d'int√©gration personnalis√©es

## Articles connexes

* [Actions de flux de travail](/l/fr/user-guide/workflows/capabilities/workflow-actions)
* [Envoyer des e-mails depuis des flux de travail](/l/fr/user-guide/workflows/capabilities/send-emails-from-workflows)
