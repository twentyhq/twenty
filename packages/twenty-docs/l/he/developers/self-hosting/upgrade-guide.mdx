---
title: 专 砖专
image: /images/user-guide/notes/notes_header.png
---

<Frame>
  <img src="/images/user-guide/notes/notes_header.png" alt="Header" />
</Frame>

## 转 转

**Always make sure to back up your database before starting the upgrade process** by running `docker exec -it {db_container_name_or_id} pg_dumpall -U {postgres_user} > databases_backup.sql`.

To restore backup, run `cat databases_backup.sql | docker exec -i {db_container_name_or_id} psql -U {postgres_user}`.

 砖转砖转 -Docker Compose, 注拽 专 砖 :

1. 专, 注 砖 专  Twenty 驻注转,  转 Twenty: `docker compose down`

2. 砖专 转 专住 注  砖 注专 -`TAG` 拽抓 `.env`  拽抓 docker-compose 砖. ( 抓 爪专 专住转 `major.minor`  `v0.53` )

3. 注 转 Twenty 专 注 `docker compose up -d`

 专爪 砖专 转 驻注 砖  专住转, 砖 -v0.33.0 -v0.35.0, 注 砖专 转 驻注 砖 驻 专爪祝,   -v0.33.0 -v0.34.0, 专  -v0.34.0 -v0.35.0.

** 砖专  专住 砖专转 砖   转 驻.**

## 爪注 砖专 住驻爪驻 专住

## v1.0

砖 Twenty v1.0! 

## v0.60

### 砖专 爪注

All interactions with the metadata API have been optimized for better performance, particularly for object metadata manipulation and workspace creation operations.

We've refactored our caching strategy to prioritize cache hits over database queries when possible, significantly improving the performance of metadata API operations.

 转 转拽 注转  专爪 专 砖专, 转 砖转爪专 拽转 转  砖   砖 住专 注 砖 专. 专抓 转 驻拽  砖专转 砖 -Twenty:

```bash
yarn command:prod cache:flush
```

### v0.55

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.55

You don't need to run any command anymore, the new image will automatically care about running all required migrations.

### 砖: `砖转砖  专砖`

 转 转拽 注转 专砖 专 拽砖转 专 砖专, 转 砖 爪专 拽转 转   砖 砖 转 专砖转 专转.

 砖专转 砖 -Twenty, 专抓:

```bash
yarn command:prod cache:flush
```

注  住驻爪驻转 专住  砖 Twenty  专 专砖 砖专 注转.

### v0.54

 专住 `0.53`,  爪专 驻注转 转.

#### 转砖转 住转  转

 转 住转 `metadata` 注 `core`  驻砖 转 砖驻转 转 `TypeORM`.
 转 爪注 砖 `migrate` 转 爪 `upgrade`. We do not recommend running `migrate` manually within any of your server/worker containers.

###  v0.53

 专住 `0.53`, 砖专 爪注 转转转 转 `DockerFile`, 专 注转 ,  爪专 转专 专爪转 驻拽 转.

 砖转砖专 转 驻注 砖 驻 专爪祝,   注 砖 专住转 注拽专转 (砖 `0.43.3` `0.44.0` 转专,  `0.43.1` `0.45.0` ), 专转  注  转 专住 砖  砖 专 砖转  专爪 住专 驻注转转.

 拽  专 注 注专 专 转 拽 转 专住转 住住 转  `core.workspace`.

 转 爪专 转  砖 专住转 `major.minor` 转 砖 驻注 Twenty 砖, 转 拽 转 专住转 驻注 砖 驻  (`/settings/admin-panel`, 砖  专 `canAccessFullAdminPanel` 砖 砖转砖 砖 专转 -true 住住 转)  注  专爪转 `echo $APP_VERSION`  砖专转 砖.

 转拽 专住转 专 注 转驻转, 转爪专 砖专 专住 专转 砖 Twenty 注 驻 专 砖专 转 专爪驻转   注 砖转注 专住 专爪.

#### 住专转 `auditLog`

住专 转 拽 -standard 砖 auditLog, 专   砖 注砖 转 驻转 转 专 专 .

### v0.51 -v0.52

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.52

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### 砖  专 注 砖住  专住 `0.52.0`  `0.52.6`

爪注专 专住转 `0.52.0` -`0.52.6` 住专  -dockerHub.
 注 注 转 转 专住转 专 注 砖 -`0.51.0` 住住 转 砖专 砖砖 专住转 twenty `0.52.11` 驻 专 砖专 砖 爪 注.

### v0.50 -v0.51

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.51

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.44.0 -v0.50.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.50.0

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### 砖 -docker-compose.yml

专住  转 砖 `docker-compose.yml`  注拽 砖专转 `worker` 砖 驻 `server-local-data`.
 注 转 `docker-compose.yml` 拽 砖 注 [v0.50.0 docker-compose.yml](https://github.com/twentyhq/twenty/blob/v0.50.0/packages/twenty-docker/docker-compose.yml)

### v0.43.0 -v0.44.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.44.0

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.42.0 -v0.43.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.43.0

```
yarn database:migrate:prod
yarn command:prod upgrade
```

专住 , 注专 砖砖 转 postgres:16 转 docker-compose.yml.

#### (驻砖专转 1) 专转 住 转

砖专转 转 拽转 postgres-spilo  ,   注 拽驻 转 专住 -docker-compose.yml 砖 -0.43.0.

#### (驻砖专转 2) 专转 住 转

 转 注 专 转 住 转 砖 转 砖 postgres:16,  驻注 驻 砖 :

1.  转 住 转  砖 postgres-spilo

```
docker exec -it twenty-db-1 sh
pg_dump -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} > databases_backup.sql
exit
docker cp twenty-db-1:/home/postgres/databases_backup.sql .
```

 砖拽抓  砖  专拽.

2. 砖专 转 -docker-compose.yml 砖 砖砖 转转 postgres:16 驻 砖拽抓 [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml).

3. 砖专 转 住住 转  砖 postgres:16

```
docker cp databases_backup.sql twenty-db-1:/databases_backup.sql
docker exec -it twenty-db-1 sh
psql -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} -f databases_backup.sql
exit
```

### v0.41.0 -v0.42.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.42.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.42
```

**砖转 住**

- 住专: `FRONT_PORT`, `FRONT_PROTOCOL`, `FRONT_DOMAIN`, `PORT`
- 转住祝: `FRONTEND_URL`, `NODE_PORT`, `MAX_NUMBER_OF_WORKSPACES_DELETED_PER_EXECUTION`, `MESSAGING_PROVIDER_MICROSOFT_ENABLED`, `CALENDAR_PROVIDER_MICROSOFT_ENABLED`, `IS_MICROSOFT_SYNC_ENABLED`

### v0.40.0 -v0.41.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.41.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.41
```

**砖转 住**

- 住专: `AUTH_MICROSOFT_TENANT_ID`

### v0.35.0 -v0.40.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.40.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.40
```

**砖转 住**

- 转住祝: `IS_EMAIL_VERIFICATION_REQUIRED`, `EMAIL_VERIFICATION_TOKEN_EXPIRES_IN`, `WORKFLOW_EXEC_THROTTLE_LIMIT`, `WORKFLOW_EXEC_THROTTLE_TTL`

### v0.34.0 -v0.35.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.35.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.35
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转 (住转   转)
驻拽转 yarn command:prod upgrade-0.35 转 注专转 转 砖  专 注.

**砖转 住**

- 驻 转 `ENABLE_DB_MIGRATIONS` `DISABLE_DB_MIGRATIONS` (注转 注专  `false` 专专转 , 专 砖 转爪专 专 专)

### v0.33.0 -v0.34.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.34.0

```
yarn database:migrate:prod
yarn command:prod upgrade-0.34
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转 (住转   转)
驻拽转 yarn command:prod upgrade-0.34 转 注专转 转 砖  专 注.

**砖转 住**

- 住专: `FRONT_BASE_URL`
- 转住祝: `FRONT_DOMAIN`, `FRONT_PROTOCOL`, `FRONT_PORT`

注 转 专   驻 转转 -URL 砖 砖拽 专砖.
注转 转 专 转 转转 -URL 砖 砖拽 专砖 注  砖砖 砖转 `FRONT_DOMAIN`, `FRONT_PROTOCOL` -`FRONT_PORT`.
 -FRONT_DOMAIN  拽注, 转转 -URL 砖 砖拽 专砖 转专 -SERVER_URL.

### v0.32.0 -v0.33.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.33.0

```
yarn command:prod cache:flush
yarn database:migrate:prod
yarn command:prod upgrade-0.33
```

驻拽转 yarn command:prod cache:flush 转拽 转  -Redis.
驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转 (住转   转)
驻拽转 yarn command:prod upgrade-0.33 转 注专转 转 砖  专 注.

 专住 , 转 twenty-postgres 注专 住住 转 注砖转 砖转 砖 砖转砖 转 twenty-postgres-spilo 拽.
 转 注 砖 砖转砖 转 twenty-postgres, 驻砖 祝 转 `twentycrm/twenty-postgres:${TAG}` -twentycrm/twenty-postgres 转拽转 docker-compose.yml.

### v0.31.0 -v0.32.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.32.0

**专 住转转 转**

```
yarn database:migrate:prod
yarn command:prod upgrade-0.32
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转 (住转   转)
驻拽转 yarn command:prod upgrade-0.32 转 注专转 转 砖  专 注.

**砖转 住**

注 转 专   驻 专 Redis.

- 住专: `REDIS_HOST`, `REDIS_PORT`, `REDIS_USERNAME`, `REDIS_PASSWORD`
- 转住祝: `REDIS_URL`

注 转 拽抓 `.env` 砖 砖砖 砖转 砖 `REDIS_URL` 拽 驻专专 专  砖 Redis.

We have also simplified the way we handle the JWT tokens.

- 住专: `ACCESS_TOKEN_SECRET`, `LOGIN_TOKEN_SECRET`, `REFRESH_TOKEN_SECRET`, `FILE_TOKEN_SECRET`
- 转住祝: `APP_SECRET`

注 转 拽抓 `.env` 砖 砖砖 砖转 `APP_SECRET` 砖 拽 住转 拽  (转 砖转砖 转 住  拽  爪专 专转 拽专转 砖).

**砖 专**

 转 砖转砖 砖 专 住专 注转 " 转 砖 砖 , 转爪专 驻注 转 [API 砖](https://developers.google.com/people) 拽住转  砖  砖.

### v0.30.0 -v0.31.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.31.0

**专 住转转 转**:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.31
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转 (住转   转)
驻拽转 yarn command:prod upgrade-0.31 转 注专转 转 砖  专 注.

### v0.24.0 -v0.30.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.30.0

**Breaking change**:
To enhance performances, Twenty now requires redis cache to be configured. 注 转 [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml)  砖拽祝 转.
 注 转 转爪专转 注 转 砖转 住 砖 转:

```
REDIS_HOST={your-redis-host}
REDIS_PORT={your-redis-port}
CACHE_STORAGE_TYPE=redis
```

**专 住转转 转**:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.30
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转 (住转   转)
驻拽转 yarn command:prod upgrade-0.30 转 注专转 转 砖  专 注.

### v0.23.0 -v0.24.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.24.0

专抓 转 驻拽转 转:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.24
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转 (住转   转)
驻拽转 yarn command:prod upgrade-0.24 转 注专转 转 砖  专 注.

### v0.22.0 -v0.23.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.23.0

专抓 转 驻拽转 转:

```
yarn database:migrate:prod
yarn command:prod upgrade-0.23
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转.
驻拽转 yarn command:prod upgrade-0.23 转 注专转 转,  注专转 驻注转 砖转/注专转.

### v0.21.0 -v0.22.0

砖专 转 驻注 -Twenty 砖 砖砖 转转 v0.22.0

专抓 转 驻拽转 转:

```
yarn database:migrate:prod
yarn command:prod workspace:sync-metadata -f
yarn command:prod upgrade-0.22
```

驻拽转 yarn database:migrate:prod 转 转 专转  砖 住住 转.
The `yarn command:prod workspace:sync-metadata -f` command will sync the definition of standard objects to the metadata tables and apply to required migrations to existing workspaces.
The `yarn command:prod upgrade-0.22` command will apply specific data transformations to adapt to the new object defaultRequestInstrumentationOptions.




