---
title: Vianm√§√§ritys
image: /images/user-guide/what-is-twenty/20.png
---

<Frame>
  <img src="/images/user-guide/what-is-twenty/20.png" alt="Header" />
</Frame>

## Vianm√§√§ritys

If you encounter any problem while setting up environment for development, upgrading your instance or self-hosting,
here are some solutions for common problems.

### Oma is√§nn√∂inti

#### First install results in `password authentication failed for user "postgres"`

üö® **T√ÑRKE√Ñ√Ñ: T√§m√§ ratkaisu on VAIN uusille asennuksille** üö®
Jos sinulla on olemassa oleva Twenty-Instanssi tuotantodatalla, **√ÑL√Ñ** seuraa n√§it√§ ohjeita, koska ne poistavat pysyv√§sti tietokantasi!

Kun asennat Twenty√§ ensimm√§ist√§ kertaa, saatat haluta muuttaa oletustietokannan salasanaa.
Ensimm√§isen asennuksen aikana asettamasi salasana tallentuu pysyv√§sti tietokantalevyyn. Jos yrit√§t my√∂hemmin muuttaa t√§t√§ salasanaa kokoonpanossasi ilman vanhan levyn poistamista, saat todennusvirheit√§, koska tietokanta k√§ytt√§√§ yh√§ alkuper√§ist√§ salasanaa.

‚ö†Ô∏è VAROITUS: Seuraavat vaiheet POISTAVAT pysyv√§sti kaikki tietokantatiedot! ‚ö†Ô∏è
Jatka vain, jos t√§m√§ on uusi asennus ilman t√§rkeit√§ tietoja.

P√§ivitt√§√§ksesi `PG_DATABASE_PASSWORD` sinun on:

```sh
# Update the PG_DATABASE_PASSWORD in .env
docker compose down --volumes
docker compose up -d
```

#### CR rivinvaihto l√∂ytynyt [Windows]

T√§m√§ johtuu Windowsin rivinvaihtomerkkeist√§ ja git-asetuksista. Kokeile komennon suorittamista:

```
git config --global core.autocrlf false
```

Poista sitten arkisto ja kloonaa se uudelleen.

#### Puuttuva metadata-schema

Twenty-asennuksen aikana sinun on provisioitava postgres-tietokanta oikeilla schemoilla, laajennuksilla ja k√§ytt√§jill√§.
Jos onnistut t√§m√§n providisionnin suorittamisessa, tietokannassasi pit√§isi olla `oletus` ja `metadata`-schemat.
Jos ei, varmista, ettei koneellasi ole enemm√§n kuin yksi postgres-instaanssi k√§ynniss√§.

#### Moduulia 'twenty-emails' tai sen vastaavia tyypin ilmoituksia ei l√∂ydy.

Sinun on rakennettava paketti `twenty-emails` ennen tietokannan alustamisen suorittamista komennolla `npx nx run twenty-emails:build`

#### Puuttuva twenty-x-paketti

Varmista, ett√§ suoritat yarn juurihakemistossa ja sitten k√§ynnist√§t `npx nx server:dev twenty-server`. Jos t√§m√§ ei edelleenk√§√§n toimi, yrit√§ rakentaa puuttuva paketti manuaalisesti.

#### Lint tallentamisessa ei toimi

T√§m√§n pit√§isi toimia heti suorilta k√§sin, jos eslint-laajennus on asennettu. Jos t√§m√§ ei toimi, yrit√§ lis√§t√§ seuraavaa vscode-asetuksiin (dev-konttin√§kym√§ss√§):

```
"editor.codeActionsOnSave": {

  "source.fixAll.eslint": "explicit"

}
```

#### Kun `npx nx start` tai `npx nx start twenty-front` suoritetaan, muistivirhe ilmoitetaan

In `packages/twenty-front/.env` uncomment `VITE_DISABLE_TYPESCRIPT_CHECKER=true` and `VITE_DISABLE_ESLINT_CHECKER=true` to disable background checks thus reducing amount of needed RAM.

**Jos t√§m√§ ei toimi:**  
Suorita vain tarvitsemasi palvelut sen sijaan, ett√§ k√§ytt√§isit `npx nx start`. Esimerkiksi, jos ty√∂skentelet palvelimen kanssa, suorita vain `npx nx worker twenty-server`

**Jos t√§m√§ ei toimi:**  
Jos yritit ajaa vain `npx nx run twenty-server:start` WSL:ss√§ ja se ep√§onnistuu seuraavalla muistivirheell√§:

`FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory`

Kierr√§ ongelma suorittamalla alla oleva komento terminaalissa tai lis√§√§m√§ll√§ se .bashrc-profiiliin saadaksesi asennuksen automaattisesti:

`export NODE_OPTIONS="--max-old-space-size=8192"`

\--max-old-space-size=8192 asettaa 8GB:n yl√§rajan Node.js-heapille; k√§ytt√∂ kasvaa sovelluksen tarpeiden mukaan.
Viite: https://stackoverflow.com/questions/56982005/where-do-i-set-node-options-max-old-space-size-2048

**Jos t√§m√§ ei toimi:**  
Tutki, mitk√§ prosessit kuluttavat eniten koneesi RAM-muistia. Huomasimme Twentyss√§, ett√§ jotkut VScode-laajennukset kuluttivat paljon RAM-muistia, joten poistamme ne tilap√§isesti k√§yt√∂st√§.

**Jos t√§m√§ ei toimi:**  
Koneesi k√§ynnist√§minen uudelleen auttaa puhdistamaan haamuprosesseja.

#### Kun `npx nx start` suoritetaan, lokeissa n√§kyy outoja [0] ja [1]

Se on odotettavissa, sill√§ komento `npx nx start` suorittaa enemm√§n komentoja taustalla.

#### Ei s√§hk√∂posteja l√§hetet√§

Useimmiten kyse on siit√§, ett√§ `worker` ei ole k√§ynniss√§ taustalla. Yrit√§ suorittaa

```
npx nx worker twenty-server
```

#### En voi yhdist√§√§ Microsoft 365-tiliini

Useimmiten kyse on siit√§, ett√§ yll√§pit√§j√§ ei ole mahdollistanut Microsoft 365 Lisenssi√§ tilillesi. Tarkista [https://admin.microsoft.com/](https://admin.microsoft.com/Adminportal/Home).

Jos saat virhekoodin `AADSTS50020`, se todenn√§k√∂isesti tarkoittaa, ett√§ k√§yt√§t henkil√∂kohtaista Microsoft-tili√§. T√§t√§ ei ole viel√§ tuettu. Lis√§tietoa [t√§√§lt√§](https://learn.microsoft.com/fr-fr/troubleshoot/entra/entra-id/app-integration/error-code-aadsts50020-user-account-identity-provider-does-not-exist)

#### Kun suoritat `yarn`, konsolissa ilmestyy varoituksia

Varoitukset ilmoittavat lis√§riippuvuuksien vet√§misest√§, joita ei ole erikseen m√§√§ritetty `package.json`-tiedostossa, joten niin kauan kuin kriittisi√§ virheit√§ ei ilmene, kaiken pit√§isi toimia odotetusti.

#### Kun k√§ytt√§j√§ avaa kirjautumissivun, lokit n√§ytt√§v√§t virheen, joka koskee valtuuttamattoman k√§ytt√§j√§n yritt√§mist√§ p√§√§st√§ ty√∂tilaan

Se on odotettavissa, sill√§ k√§ytt√§j√§ ei ole valtuutettu kirjauduttuaan ulos, koska h√§nen henkil√∂llisyytt√§√§n ei ole vahvistettu.

#### Miten tarkistaa, onko ty√∂ntekij√§si k√§ynniss√§?

- Siirry osoitteeseen [webhook-test.com](https://webhook-test.com/) ja kopioi **Sinun ainutlaatuinen Webhook-URL**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test.jpg" alt="Webhook test" />
</div>
- Avaa Twenty-sovellus, siirry kohtaan `/settings`, ja ota **Edistynyt** kytkin k√§ytt√∂√∂n n√§yt√∂n vasemmasta alakulmasta.
- Luo uusi webhook.
- Liit√§ **Sinun ainutlaatuinen Webhook-URL** **Endpoint Url** -kentt√§√§n Twentyss√§. Aseta **Suodattimet** arvoiksi `Yritykset` ja `Luotu`.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-settings.jpg" alt="Webhook settings" />
</div>
- Siirry kohtaan `/objects/companies` ja luo uusi yritysrekisteri.
- Palaa [webhook-test.com](https://webhook-test.com/) ja tarkista, onko uusi **POST-pyynt√∂** vastaanotettu.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test-result.jpg" alt="Webhook test result" />
</div>
- Jos **POST-pyynt√∂** vastaanotetaan, ty√∂ntekij√§si toimii oikein. Muuten, sinun on selvitett√§v√§ ty√∂ntekij√§si ongelmat.

#### Etusivu ep√§onnistuu k√§ynnistyksess√§ ja palauttaa virheen TS5042: Option 'project' ei voi yhdist√§√§ l√§hdetiedostoihin komentorivill√§

Kommentoi checker-liitin tiedostossa `packages/twenty-ui/vite-config.ts` kuten alla olevassa esimerkiss√§

```
plugins: [
      react({ jsxImportSource: '@emotion/react' }),
      tsconfigPaths(),
      svgr(),
      dts(dtsConfig),
      // checker(checkersConfig),
      wyw({
        include: [
          '**/OverflowingTextWithTooltip.tsx',
          '**/Chip.tsx',
          '**/Tag.tsx',
          '**/Avatar.tsx',
          '**/AvatarChip.tsx',
        ],
        babelOptions: {
          presets: ['@babel/preset-typescript', '@babel/preset-react'],
        },
      }),
    ],
```

#### Yll√§pitopaneeli ei ole saatavilla

Suorita `UPDATE core."user" SET "canAccessFullAdminPanel" = TRUE WHERE email = 'etunimesi@sivicfler.com';` tietokantakontissa saadaksesi p√§√§syn yll√§pitopaneeliin.

### 1-click Docker compose

#### Kirjautuminen ei onnistu

Jos et voi kirjautua sis√§√§n asennuksen j√§lkeen:

1. Suorita seuraavat komennot:
   ```bash
   docker exec -it twenty-server-1 yarn
   docker exec -it twenty-server-1 npx nx database:reset  --configuration=no-seed
   ```
2. K√§ynnist√§ Docker-kontit uudelleen:
   ```bash
   docker compose down
   docker compose up -d
   ```

Huomioi, ett√§ database:reset-komento poistaa tietokannan kokonaan ja luo sen uudelleen alusta alkaen.

#### Yhteysongelmat k√§√§nteisen proxyn takana

Jos k√§yt√§t Twentya k√§√§nteisen proxyn takana ja kohtaat yhteysongelmia:

1. **Tarkista SERVER_URL:**

   Varmista, ett√§ `.env`-tiedostossasi oleva `SERVER_URL` vastaa ulkoista p√§√§sy URL-osoitettasi, mukaan lukien `https` mik√§li SSL on k√§yt√∂ss√§.

2. **Tarkista k√§√§nteisen proxyn asetukset:**

   - Varmista, ett√§ k√§√§nteinen proxy v√§litt√§√§ pyynn√∂t oikein Twenty-palvelimelle.
   - Varmista, ett√§ otsikot, kuten `X-Forwarded-For` ja `X-Forwarded-Proto`, ovat asetettu oikein.

3. **K√§ynnist√§ palvelut uudelleen:**

   Muokkausten j√§lkeen k√§ynnist√§ sek√§ k√§√§nteinen proxy ett√§ Twenty-kontit uudelleen.

#### Error when uploading an image - permission denied

Ratkaise t√§m√§ ongelma vaihtamalla is√§nt√§koneen tiedostokansion omistajuus rootista toiseen k√§ytt√§j√§√§n ja ryhm√§√§n.

## Avun saaminen

If you encounter issues not covered in this guide:

- Tarkista lokit:

  View container logs for error messages:

  ```bash
  docker compose logs
  ```

- Yhteis√∂n tuki:

  Ota yhteytt√§ [Twenty-yhteis√∂√∂n](https://github.com/twentyhq/twenty/issues) tai [tukikanaviin](https://discord.gg/cx5n4Jzs57) saadaksesi apua.