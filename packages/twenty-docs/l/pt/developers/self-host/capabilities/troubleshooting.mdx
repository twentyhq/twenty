---
title: Resolu√ß√£o de Problemas
---

## Resolu√ß√£o de Problemas

Se encontrar algum problema ao configurar o ambiente para desenvolvimento, atualizar sua inst√¢ncia ou auto-hospedagem, aqui est√£o algumas solu√ß√µes para problemas comuns.

### Auto-hospedagem

#### Primeira instala√ß√£o resulta em `falha na autentica√ß√£o de senha para o usu√°rio "postgres"`

üö® **IMPORTANTE: Esta solu√ß√£o √© APENAS para instala√ß√µes novas** üö®
Se voc√™ tiver uma inst√¢ncia existente do Twenty com dados em produ√ß√£o, **N√ÉO** siga estes passos, pois eles excluir√£o permanentemente seu banco de dados!

Ao instalar o Twenty pela primeira vez, voc√™ pode querer alterar a senha padr√£o do banco de dados.
A senha definida durante a primeira instala√ß√£o √© armazenada permanentemente no volume do banco de dados. Se posteriormente tentar alterar esta senha na sua configura√ß√£o sem remover o volume antigo, receber√° erros de autentica√ß√£o porque o banco de dados ainda est√° usando a senha original.

‚ö†Ô∏è AVISO: Seguir os pr√≥ximos passos ir√° EXCLUIR PERMANENTEMENTE todos os dados do banco de dados! ‚ö†Ô∏è
Prossiga apenas se esta for uma instala√ß√£o nova, sem dados importantes.

Para atualizar o `PG_DATABASE_PASSWORD` voc√™ precisa:

```sh
# Update the PG_DATABASE_PASSWORD in .env
docker compose down --volumes
docker compose up -d
```

#### Quebras de linha CR encontradas [Windows]

Isso se deve aos caracteres de quebra de linha do Windows e √† configura√ß√£o do git. Tente executar:

```
git config --global core.autocrlf false
```

Depois exclua o reposit√≥rio e clone novamente.

#### Esquema de metadados ausente

Durante a instala√ß√£o do Twenty, √© necess√°rio configurar seu banco de dados postgres com os esquemas, extens√µes e usu√°rios corretos.
Se conseguir executar esta configura√ß√£o, voc√™ deve ter os esquemas `default` e `metadata` no seu banco de dados.
Se n√£o, certifique-se de que n√£o possui mais de uma inst√¢ncia do postgres em execu√ß√£o no seu computador.

#### N√£o √© poss√≠vel encontrar o m√≥dulo 'twenty-emails' ou suas declara√ß√µes de tipo correspondentes.

√â preciso compilar o pacote `twenty-emails` antes de iniciar a inicializa√ß√£o do banco de dados com `npx nx run twenty-emails:build`

#### Pacote twenty-x ausente

Certifique-se de executar o yarn no diret√≥rio raiz e depois executar `npx nx server:dev twenty-server`. Se isso ainda n√£o funcionar, tente compilar manualmente o pacote ausente.

#### Lint no Save n√£o funcionando

Isso deve funcionar automaticamente com a extens√£o eslint instalada. Se isso n√£o funcionar, tente adicionar este trecho √†s suas configura√ß√µes do vscode (no escopo do cont√™iner de desenvolvimento):

```
"editor.codeActionsOnSave": {

  "source.fixAll.eslint": "explicit"

}
```

#### Ao executar `npx nx start` ou `npx nx start twenty-front`, √© lan√ßada uma mensagem de erro de falta de mem√≥ria

No `packages/twenty-front/.env` descomente `VITE_DISABLE_TYPESCRIPT_CHECKER=true` para desativar verifica√ß√µes em segundo plano, reduzindo assim a quantidade de RAM necess√°ria.

**Se n√£o funcionar:**
Execute apenas os servi√ßos que precisar, em vez de `npx nx start`. Por exemplo, se estiver trabalhando no servidor, execute apenas `npx nx worker twenty-server`

**Se n√£o funcionar:**
Se voc√™ tentou executar apenas `npx nx run twenty-server:start` no WSL e est√° falhando com o erro de mem√≥ria abaixo:

`ERRO FATAL: Marca√ß√£o ineficaz perto do limite de heap Aloca√ß√£o falhou - heap do JavaScript sem mem√≥ria`

A solu√ß√£o alternativa √© executar o comando abaixo no terminal ou adicion√°-lo no perfil .bashrc para ser configurado automaticamente:

`export NODE_OPTIONS="--max-old-space-size=8192"`

O par√¢metro --max-old-space-size=8192 define um limite superior de 8GB para o heap do Node.js; o uso escala conforme as demandas da aplica√ß√£o.
Refer√™ncia: https://stackoverflow.com/questions/56982005/where-do-i-set-node-options-max-old-space-size-2048

**Se n√£o funcionar:**
Investigue quais processos est√£o consumindo a maior parte da RAM do seu computador. No Twenty, percebemos que algumas extens√µes do VScode estavam consumindo muita RAM, ent√£o as desativamos temporariamente.

**Se n√£o funcionar:**
Reiniciar sua m√°quina ajuda a limpar processos fantasmas.

#### Ao executar `npx nx start`, h√° logs estranhos [0] e [1]

Isso √© esperado, pois o comando `npx nx start` est√° executando mais comandos por tr√°s dos bastidores

#### Nenhum email √© enviado

Na maioria das vezes, isso ocorre porque o `worker` n√£o est√° sendo executado em segundo plano. Tente executar

```
npx nx worker twenty-server
```

#### N√£o consigo conectar minha conta Microsoft 365

Na maioria das vezes, √© porque seu administrador n√£o ativou a Licen√ßa Microsoft 365 para sua conta. Verifique [https://admin.microsoft.com/](https://admin.microsoft.com/Adminportal/Home).

Se voc√™ tem um c√≥digo de erro `AADSTS50020`, provavelmente significa que voc√™ est√° usando uma conta pessoal da Microsoft. Isso ainda n√£o √© suportado. Mais informa√ß√µes [aqui](https://learn.microsoft.com/fr-fr/troubleshoot/entra/entra-id/app-integration/error-code-aadsts50020-user-account-identity-provider-does-not-exist)

#### Ao executar `yarn` avisos aparecem no console

Os avisos informam sobre a obten√ß√£o de depend√™ncias adicionais que n√£o est√£o explicitamente declaradas em `package.json`, portanto, desde que n√£o apare√ßa nenhum erro cr√≠tico, tudo deve funcionar como esperado.

#### Quando o usu√°rio acessa a p√°gina de login, aparece nos logs um erro sobre o usu√°rio n√£o autorizado tentando acessar o espa√ßo de trabalho

Isso √© esperado, pois o usu√°rio fica sem autoriza√ß√£o quando est√° desconectado, j√° que sua identidade n√£o est√° verificada.

#### Como verificar se seu worker est√° em execu√ß√£o?

* V√° para [webhook-test.com](https://webhook-test.com/) e copie **Sua URL de Webhook exclusiva**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test.jpg" alt="Teste de webhook" />
</div>

* Abra seu aplicativo Twenty, navegue at√© `/settings`, e ative a altern√¢ncia **Avan√ßado** na parte inferior esquerda da tela.
* Crie um novo webhook.
* Cole **Sua URL Webhook √önica** no campo **Endpoint Url** no Twenty. Defina os **Filtros** para `Companies` e `Created`.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-settings.jpg" alt="Configura√ß√µes de webhook" />
</div>

* V√° para `/objects/companies` e crie um novo registro de empresa.
* Retorne para [webhook-test.com](https://webhook-test.com/) e verifique se uma nova **solicita√ß√£o POST** foi recebida.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test-result.jpg" alt="Resultado do teste de webhook" />
</div>

* Se uma **solicita√ß√£o POST** for recebida, seu worker est√° funcionando com sucesso. Caso contr√°rio, voc√™ precisa solucionar problemas no seu worker.

#### Front-end n√£o inicia e retorna erro TS5042: A op√ß√£o 'project' n√£o pode ser misturada com arquivos de origem na linha de comando

Comente o plugin checker em `packages/twenty-ui/vite-config.ts` como no exemplo abaixo

```
plugins: [
      react({ jsxImportSource: '@emotion/react' }),
      tsconfigPaths(),
      svgr(),
      dts(dtsConfig),
      // checker(checkersConfig),
      wyw({
        include: [
          '**/OverflowingTextWithTooltip.tsx',
          '**/Chip.tsx',
          '**/Tag.tsx',
          '**/Avatar.tsx',
          '**/AvatarChip.tsx',
        ],
        babelOptions: {
          presets: ['@babel/preset-typescript', '@babel/preset-react'],
        },
      }),
    ],
```

#### Painel administrativo n√£o acess√≠vel

Execute `UPDATE core."user" SET "canAccessFullAdminPanel" = TRUE WHERE email = 'voc√™@seudominio.com';` no cont√™iner de banco de dados para obter acesso ao painel administrativo.

### Docker compose com um clique

#### Imposs√≠vel efetuar login

Se voc√™ n√£o consegue efetuar login ap√≥s a configura√ß√£o:

1. Execute os seguintes comandos:
   ```bash
   docker exec -it twenty-server-1 yarn
   docker exec -it twenty-server-1 npx nx database:reset  --configuration=no-seed
   ```
2. Reinicie os cont√™ineres Docker:
   ```bash
   docker compose down
   docker compose up -d
   ```

Observe que o comando database:reset ir√° apagar completamente seu banco de dados e recri√°-lo do zero.

#### Problemas de conex√£o por tr√°s de um proxy reverso

Se voc√™ est√° executando o Twenty por tr√°s de um proxy reverso e est√° enfrentando problemas de conex√£o:

1. **Verifique o SERVER_URL:**

   Certifique-se de que o `SERVER_URL` no seu arquivo `.env` corresponda √† sua URL de acesso externo, incluindo `https` se o SSL estiver habilitado.

2. **Verifique as configura√ß√µes do Proxy Reverso:**

   * Confirme que seu proxy reverso est√° encaminhando corretamente as solicita√ß√µes para o servidor Twenty.
   * Certifique-se de que cabe√ßalhos como `X-Forwarded-For` e `X-Forwarded-Proto` est√£o configurados corretamente.

3. **Reinicie os Servi√ßos:**

   Ap√≥s fazer as altera√ß√µes, reinicie tanto o proxy reverso quanto os cont√™ineres do Twenty.

#### Erro ao carregar uma imagem - permiss√£o negada

Alterar a propriedade do diret√≥rio de dados no host de root para outro usu√°rio e grupo resolve esse problema.

## Obtendo Ajuda

Se encontrar problemas n√£o abordados neste guia:

* Verifique os Logs:

  Veja os logs dos cont√™ineres para mensagens de erro:

  ```bash
  docker compose logs
  ```

* Suporte Comunit√°rio:

  Entre em contato com a [comunidade Twenty](https://github.com/twentyhq/twenty/issues) ou [canais de suporte](https://discord.gg/cx5n4Jzs57) para obter assist√™ncia.
