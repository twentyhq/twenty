---
title: Automatiza√ß√µes para Closed Won
description: Automatize as atividades p√≥s-ganho quando as oportunidades forem encerradas.
---

Quando um neg√≥cio √© encerrado, v√°rias coisas precisam acontecer: atualizar o status da empresa, notificar os membros da equipe, criar tarefas de onboarding. Automatize tudo isso com um √∫nico fluxo de trabalho.

## O Problema

Quando uma oportunidade passa para "Closed Won":

* O tipo de empresa precisa mudar de "Prospect" para "Customer"
* Tarefas de onboarding precisam ser criadas
* A equipe de Customer Success precisa ser notificada
* O representante de vendas precisa de confirma√ß√£o

Fazer isso manualmente consome tempo e √© suscet√≠vel a erros.

## A Solu√ß√£o

Crie um fluxo de trabalho que trate automaticamente todas as atividades p√≥s-ganho.

## Configura√ß√£o Completa do Fluxo de Trabalho

### Etapa 1: Criar o fluxo de trabalho

1. V√° para **Configura√ß√µes ‚Üí Fluxos de trabalho**
2. Clique em **+ Novo fluxo de trabalho**
3. Nomeie como "Deal Won - Post-Win Automation"

### Etapa 2: Configurar o gatilho

1. Selecione **Record is Updated**
2. Escolha **Oportunidades**
3. Em "Campos para monitorar", selecione **Est√°gio**

### Etapa 3: Adicionar filtro de est√°gio

1. Adicione a a√ß√£o **Filtro**
2. Condi√ß√£o: `{{trigger.object.stage}}` √© igual a "Closed Won"

### Etapa 4: Atualizar o tipo de empresa

1. Adicione a a√ß√£o **Atualizar registro**
2. Configurar:

| Campo                        | Valor                           |
| ---------------------------- | ------------------------------- |
| **Objeto**                   | Empresas                        |
| **Registro**                 | `{{trigger.object.company.id}}` |
| **Tipo**                     | Cliente                         |
| **Data do primeiro neg√≥cio** | `{{trigger.object.closedAt}}`   |
| **Propriet√°rio da Conta**    | `{{trigger.object.owner.id}}`   |

### Etapa 5: Criar tarefa de onboarding

1. Adicione a a√ß√£o **Criar registro**
2. Configurar:

| Campo                        | Valor                                                                                                          |
| ---------------------------- | -------------------------------------------------------------------------------------------------------------- |
| **Objeto**                   | Tarefas                                                                                                        |
| **T√≠tulo**                   | `Onboarding: {{trigger.object.name}}`                                                                          |
| **Respons√°vel**              | Membro da equipe de Customer Success                                                                           |
| **Data de vencimento**       | Daqui a 3 dias                                                                                                 |
| **Prioridade**               | Alta                                                                                                           |
| **Empresa relacionada**      | `{{trigger.object.company.id}}`                                                                                |
| **Oportunidade relacionada** | `{{trigger.object.id}}`                                                                                        |
| **Descri√ß√£o**                | `Onboarding de novo cliente para {{trigger.object.company.name}}. Valor do neg√≥cio: {{trigger.object.amount}}` |

### Etapa 6: Notificar Customer Success

1. Adicione a a√ß√£o **Enviar e-mail**
2. Configurar:

| Campo       | Valor                                              |
| ----------- | -------------------------------------------------- |
| **Para**    | customer-success@yourcompany.com                   |
| **Assunto** | `üéâ New Customer: {{trigger.object.company.name}}` |
| **Corpo**   | Veja o exemplo abaixo                              |

**Exemplo de corpo do e-mail**:

```
Hi CS Team,

We have a new customer!

Company: {{trigger.object.company.name}}
Deal: {{trigger.object.name}}
Value: {{trigger.object.amount}}
Sales Rep: {{trigger.object.owner.name}}
Close Date: {{trigger.object.closedAt}}

An onboarding task has been created automatically.

Let's give them a great start!
```

### Etapa 7: Confirmar para o representante de vendas

1. Adicione outra a√ß√£o **Enviar e-mail**
2. Configurar:

| Campo       | Valor                                                                                                          |
| ----------- | -------------------------------------------------------------------------------------------------------------- |
| **Para**    | `{{trigger.object.owner.email}}`                                                                               |
| **Assunto** | `‚úÖ Deal Closed: {{trigger.object.name}}`                                                                       |
| **Corpo**   | Parab√©ns! Seu neg√≥cio foi processado. A equipe de Customer Success foi notificada e o onboarding foi iniciado. |

### Etapa 8: Testar e ativar

1. Teste movendo uma oportunidade de teste para "Closed Won"
2. Verificar:
   * Tipo de empresa alterado para "Customer"
   * Tarefa de onboarding criada
   * A equipe de CS recebeu o e-mail
   * O representante de vendas recebeu a confirma√ß√£o
3. Ative quando estiver pronto

## Tratamento de Closed Lost

Crie um fluxo de trabalho semelhante para neg√≥cios perdidos:

### Disparador

* Registro √© atualizado (Oportunidades, Est√°gio = "Closed Lost")

### A√ß√µes

1. **Criar registro**: Tarefa para "An√°lise de neg√≥cio perdido"
2. **Atualizar registro**: Adicionar o motivo da perda ao registro da empresa
3. **Enviar e-mail**: Notificar o gerente sobre o neg√≥cio perdido

## Avan√ßado: Onboarding em v√°rias etapas

Para um onboarding complexo, crie v√°rias tarefas:

```javascript
export const main = async (params) => {
  const tasks = [
    { title: "Welcome call", daysFromNow: 1, assignee: "CS" },
    { title: "Send onboarding materials", daysFromNow: 2, assignee: "CS" },
    { title: "Technical setup", daysFromNow: 5, assignee: "Support" },
    { title: "30-day check-in", daysFromNow: 30, assignee: "CS" }
  ];

  return { tasks };
};
```

Use **Iterator** para criar cada tarefa a partir do array.

## Ideias de personaliza√ß√£o

### Mantenha suas outras ferramentas atualizadas

* Crie o cliente no sistema de faturamento com uma **Requisi√ß√£o HTTP**

### A√ß√µes condicionais

Use a√ß√µes **Filtro** para:

* Onboarding diferente para enterprise vs. SMB
* Respons√°veis diferentes com base na regi√£o
* Ignorar notifica√ß√µes para neg√≥cios pequenos

### Incluir detalhes do neg√≥cio

Use a a√ß√£o **C√≥digo** para formatar:

* Documentos de resumo do neg√≥cio
* Notas de repasse para a equipe de CS
* Checklists de onboarding personalizadas

## Relacionados

* [A√ß√µes de Fluxo de Trabalho](/l/pt/user-guide/workflows/capabilities/workflow-actions)
* [Enviar e-mails a partir de Fluxos de Trabalho](/l/pt/user-guide/workflows/capabilities/send-emails-from-workflows)
