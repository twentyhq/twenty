---
title: Å˜eÅ¡enÃ­ potÃ­Å¾Ã­
image: /images/user-guide/what-is-twenty/20.png
---

<Frame>
  <img src="/images/user-guide/what-is-twenty/20.png" alt="Header" />
</Frame>

## Å˜eÅ¡enÃ­ potÃ­Å¾Ã­

If you encounter any problem while setting up environment for development, upgrading your instance or self-hosting,
here are some solutions for common problems.

### VlastnÃ­ hosting

#### First install results in `password authentication failed for user "postgres"`

ğŸš¨ **DÅ®LEÅ½ITÃ‰: Toto Å™eÅ¡enÃ­ je POUZE pro novÃ© instalace** ğŸš¨
Pokud mÃ¡te existujÃ­cÃ­ instanci Twenty s produkÄnÃ­mi daty, **NEPROVÃDÄšJTE** tyto kroky, protoÅ¾e trvale smaÅ¾ou vaÅ¡i databÃ¡zi!

PÅ™i prvnÃ­ instalaci Twenty mÅ¯Å¾ete chtÃ­t zmÄ›nit vÃ½chozÃ­ heslo pro databÃ¡zi.
Heslo, kterÃ© nastavÃ­te bÄ›hem prvnÃ­ instalace, se stane trvale uloÅ¾enÃ½m v objemu databÃ¡ze. Pokud se pozdÄ›ji pokusÃ­te toto heslo zmÄ›nit v konfiguraci, aniÅ¾ byste odstranili starÃ½ objem, dojde k chybÃ¡m autentizace, protoÅ¾e databÃ¡ze stÃ¡le pouÅ¾Ã­vÃ¡ pÅ¯vodnÃ­ heslo.

âš ï¸ VAROVÃNÃ: NÃ¡sledujÃ­cÃ­ kroky trvale SMAÅ½Ã veÅ¡kerÃ¡ data z databÃ¡ze! âš ï¸
PokraÄujte pouze v pÅ™Ã­padÄ›, Å¾e se jednÃ¡ o novou instalaci bez dÅ¯leÅ¾itÃ½ch dat.

K aktualizaci `PG_DATABASE_PASSWORD` musÃ­te:

```sh
# Update the PG_DATABASE_PASSWORD in .env
docker compose down --volumes
docker compose up -d
```

#### CR line breaks found [Windows]

This is due to the line break characters of Windows and the git configuration. Zkuste spustit:

```
git config --global core.autocrlf false
```

Pak smaÅ¾te ÃºloÅ¾iÅ¡tÄ› a naklonujte jej znovu.

#### ChybÃ­ schÃ©ma metadat

BÄ›hem instalace Twenty musÃ­te nastavit svou postgres databÃ¡zi s sprÃ¡vnÃ½mi schÃ©maty, rozÅ¡Ã­Å™enÃ­mi a uÅ¾ivateli.
Pokud se vÃ¡m podaÅ™Ã­ spustit toto nastavovÃ¡nÃ­, mÄ›li byste mÃ­t ve svÃ© databÃ¡zi schÃ©mata `default` a `metadata`.
Pokud ne, ujistÄ›te se, Å¾e na vaÅ¡em poÄÃ­taÄi nebÄ›Å¾Ã­ vÃ­ce neÅ¾ jedna instance postgres.

#### Cannot find module 'twenty-emails' or its corresponding type declarations.

PÅ™ed spuÅ¡tÄ›nÃ­m inicializace databÃ¡ze musÃ­te sestavit balÃ­Äek `twenty-emails` s `npx nx run twenty-emails:build`

#### ChybÃ­ balÃ­Äek twenty-x

UjistÄ›te se, Å¾e v koÅ™enovÃ©m adresÃ¡Å™i spouÅ¡tÃ­te `yarn` a potÃ© spusÅ¥te `npx nx server:dev twenty-server`. Pokud stÃ¡le nefunguje, zkuste chybÄ›jÃ­cÃ­ balÃ­Äek sestavit ruÄnÄ›.

#### Lint pÅ™i uklÃ¡dÃ¡nÃ­ nefunguje

Toto by mÄ›lo fungovat pÅ™Ã­mo s nainstalovanÃ½m rozÅ¡Ã­Å™enÃ­m eslint. If this doesn't work try adding this to your vscode setting (on the dev container scope):

```
"editor.codeActionsOnSave": {

  "source.fixAll.eslint": "explicit"

}
```

#### PÅ™i spuÅ¡tÄ›nÃ­ `npx nx start` nebo `npx nx start twenty-front` doÅ¡lo k chybÄ› nedostatku pamÄ›ti

In `packages/twenty-front/.env` uncomment `VITE_DISABLE_TYPESCRIPT_CHECKER=true` and `VITE_DISABLE_ESLINT_CHECKER=true` to disable background checks thus reducing amount of needed RAM.

**Pokud to nefunguje:**  
SpusÅ¥te pouze sluÅ¾by, kterÃ© potÅ™ebujete, mÃ­sto `npx nx start`. NapÅ™Ã­klad pokud pracujete na serveru, spusÅ¥te pouze `npx nx worker twenty-server`

**Pokud to nefunguje:**  
Pokud jste se pokusili pouze spustit `npx nx run twenty-server:start` na WSL a doÅ¡lo k chybÄ› nÃ­zkÃ© pamÄ›ti:

`FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory`

Pro obejitÃ­ proveÄte nÃ­Å¾e uvedenÃ½ pÅ™Ã­kaz v terminÃ¡lu nebo jej pÅ™idejte do profilu .bashrc, aby se automatizovalo nastavenÃ­:

`export NODE_OPTIONS="--max-old-space-size=8192"`

PÅ™Ã­znak --max-old-space-size=8192 nastavuje hornÃ­ limit 8 GB pro hromadu v Node.js; vyuÅ¾itÃ­ se Å¡kÃ¡luje s poÅ¾adavkem aplikace.
Odkaz: https://stackoverflow.com/questions/56982005/where-do-i-set-node-options-max-old-space-size-2048

**Pokud to nefunguje:**  
Analyzujte, kterÃ© procesy vÃ¡m zabÃ­rajÃ­ vÄ›tÅ¡inu pamÄ›ti na stroji. V Twenty jsme si vÅ¡imli, Å¾e nÄ›kterÃ¡ rozÅ¡Ã­Å™enÃ­ VScode zabÃ­rala hodnÄ› pamÄ›ti RAM, takÅ¾e jsme je doÄasnÄ› deaktivovali.

**Pokud to nefunguje:**  
RestartovÃ¡nÃ­ stroje pomÃ¡hÃ¡ vyÄistit â€ghostâ€œ procesy.

#### PÅ™i bÄ›hu `npx nx start` se v protokolech objevujÃ­ podivnÃ© [0] a [1]

To je oÄekÃ¡vanÃ©, protoÅ¾e pÅ™Ã­kaz `npx nx start` spouÅ¡tÃ­ vÃ­ce pÅ™Ã­kazÅ¯ v pozadÃ­

#### E-maily nejsou odesÃ­lÃ¡ny

VÄ›tÅ¡inou je to proto, Å¾e `worker` nebÄ›Å¾Ã­ na pozadÃ­. Zkuste spustit

```
npx nx worker twenty-server
```

#### Nelze pÅ™ipojit mÅ¯j ÃºÄet Microsoft 365

VÄ›tÅ¡inou je to proto, Å¾e vÃ¡Å¡ administrÃ¡tor pro vÃ¡Å¡ ÃºÄet nepovolil licenci Microsoft 365. Zkontrolujte [https://admin.microsoft.com/](https://admin.microsoft.com/Adminportal/Home).

Pokud mÃ¡te chybovÃ½ kÃ³d `AADSTS50020`, pravdÄ›podobnÄ› pouÅ¾Ã­vÃ¡te osobnÃ­ ÃºÄet Microsoft. Tento pÅ™Ã­stup jeÅ¡tÄ› nenÃ­ podporovÃ¡n. VÃ­ce informacÃ­ [zde](https://learn.microsoft.com/fr-fr/troubleshoot/entra/entra-id/app-integration/error-code-aadsts50020-user-account-identity-provider-does-not-exist)

#### PÅ™i bÄ›hu `yarn` se v konzoli objevujÃ­ varovÃ¡nÃ­

VarovÃ¡nÃ­ informujÃ­ o naÄÃ­tÃ¡nÃ­ dalÅ¡Ã­ch zÃ¡vislostÃ­, kterÃ© nejsou explicitnÄ› uvedeny v `package.json`, takÅ¾e pokud se neobjevÃ­ Å¾Ã¡dnÃ¡ vÃ¡Å¾nÃ¡ chyba, vÅ¡e by mÄ›lo fungovat podle oÄekÃ¡vÃ¡nÃ­.

#### KdyÅ¾ uÅ¾ivatel pÅ™istoupÃ­ na pÅ™ihlaÅ¡ovacÃ­ strÃ¡nku, v protokolech se objevÃ­ chybovÃ¡ zprÃ¡va o neautorizovanÃ©m uÅ¾ivateli, kterÃ½ se snaÅ¾Ã­ pÅ™istoupit k pracovnÃ­mu prostoru

To je oÄekÃ¡vanÃ©, protoÅ¾e uÅ¾ivatel je neautorizovanÃ½, kdyÅ¾ je odhlÃ¡Å¡en, protoÅ¾e jeho identita nenÃ­ ovÄ›Å™ena.

#### Jak zkontrolovat, zda vÃ¡Å¡ worker bÄ›Å¾Ã­?

- JdÄ›te na [webhook-test.com](https://webhook-test.com/) a zkopÃ­rujte **Svou unikÃ¡tnÃ­ webhook URL**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test.jpg" alt="Webhook test" />
</div>
- Open your Twenty app, navigate to `/settings`, and enable the **Advanced** toggle at the bottom left of the screen.
- VytvoÅ™te novÃ½ webhook.
- VloÅ¾te **Svou unikÃ¡tnÃ­ webhook URL** do pole **Endpoint Url** ve Twenty. Nastavte **Filtry** na `Companies` a `Created`.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-settings.jpg" alt="Webhook settings" />
</div>
- PÅ™ejdÄ›te na `/objects/companies` a vytvoÅ™te novÃ½ zÃ¡znam spoleÄnosti.
- Return to [webhook-test.com](https://webhook-test.com/) and check if a new **POST request** has been received.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test-result.jpg" alt="Webhook test result" />
</div>
- Pokud byla pÅ™ijata **POST request**, vÃ¡Å¡ worker bÄ›Å¾Ã­ ÃºspÄ›Å¡nÄ›. V opaÄnÃ©m pÅ™Ã­padÄ› je potÅ™eba zkontrolovat vÃ¡Å¡ worker.

#### Front-end se nedaÅ™Ã­ spustit a vracÃ­ chybu TS5042: MoÅ¾nost 'project' nelze kombinovat se zdrojovÃ½mi soubory na pÅ™Ã­kazovÃ©m Å™Ã¡dku

Comment out checker plugin in `packages/twenty-ui/vite-config.ts` like in example below

```
plugins: [
      react({ jsxImportSource: '@emotion/react' }),
      tsconfigPaths(),
      svgr(),
      dts(dtsConfig),
      // checker(checkersConfig),
      wyw({
        include: [
          '**/OverflowingTextWithTooltip.tsx',
          '**/Chip.tsx',
          '**/Tag.tsx',
          '**/Avatar.tsx',
          '**/AvatarChip.tsx',
        ],
        babelOptions: {
          presets: ['@babel/preset-typescript', '@babel/preset-react'],
        },
      }),
    ],
```

#### AdministraÄnÃ­ panel nenÃ­ pÅ™Ã­stupnÃ½

SpusÅ¥te `UPDATE core."user" SET "canAccessFullAdminPanel" = TRUE WHERE email = 'you@yourdomain.com';` v databÃ¡zovÃ©m kontejneru pro zÃ­skÃ¡nÃ­ pÅ™Ã­stupu k administraÄnÃ­mu panelu.

### 1-click Docker compose

#### Nelze se pÅ™ihlÃ¡sit

Pokud se nemÅ¯Å¾ete pÅ™ihlÃ¡sit po nastavenÃ­:

1. SpusÅ¥te nÃ¡sledujÃ­cÃ­ pÅ™Ã­kazy:
   ```bash
   docker exec -it twenty-server-1 yarn
   docker exec -it twenty-server-1 npx nx database:reset  --configuration=no-seed
   ```
2. Restartujte Docker kontejnery:
   ```bash
   docker compose down
   docker compose up -d
   ```

PoznÃ¡mka: pÅ™Ã­kaz database:reset kompletnÄ› smaÅ¾e vaÅ¡i databÃ¡zi a vytvoÅ™Ã­ ji znovu od zÃ¡kladu.

#### ProblÃ©my s pÅ™ipojenÃ­m za reverznÃ­ proxy

Pokud provozujete Twenty za reverznÃ­ proxy a mÃ¡te problÃ©my s pÅ™ipojenÃ­m:

1. **OvÄ›Å™te SERVER_URL:**

   UjistÄ›te se, Å¾e `SERVER_URL` ve vaÅ¡em `.env` souboru odpovÃ­dÃ¡ vaÅ¡Ã­ externÃ­ pÅ™Ã­stupovÃ© URL, vÄetnÄ› `https`, pokud je SSL povoleno.

2. **Zkontrolujte nastavenÃ­ reverznÃ­ proxy:**

   - PotvrÄte, Å¾e vaÅ¡e reverznÃ­ proxy sprÃ¡vnÄ› smÄ›ruje poÅ¾adavky na server Twenty.
   - UjistÄ›te se, Å¾e zÃ¡hlavÃ­ jako `X-Forwarded-For` a `X-Forwarded-Proto` jsou sprÃ¡vnÄ› nastaveny.

3. **Restartujte sluÅ¾by:**

   Po provedenÃ­ zmÄ›n restartujte jak reverznÃ­ proxy, tak kontejnery Twenty.

#### Error when uploading an image - permission denied

Switching the data folder ownership on the host from root to another user and group resolves this problem.

## ZÃ­skÃ¡nÃ­ pomoci

Pokud se setkÃ¡te s problÃ©my, kterÃ© tento prÅ¯vodce nepokrÃ½vÃ¡:

- Zkontrolujte protokoly:

  View container logs for error messages:

  ```bash
  docker compose logs
  ```

- Podpora komunity:

  ObraÅ¥te se na [komunitu Twenty](https://github.com/twentyhq/twenty/issues) nebo [podpÅ¯rnÃ© kanÃ¡ly](https://discord.gg/cx5n4Jzs57) pro pomoc.