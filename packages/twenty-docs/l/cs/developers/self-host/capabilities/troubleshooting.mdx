---
title: 콎e코en칤 pot칤쮂
---

## 콎e코en칤 pot칤쮂

If you encounter any problem while setting up environment for development, upgrading your instance or self-hosting,
here are some solutions for common problems.

### Vlastn칤 hosting

#### First install results in `password authentication failed for user "postgres"`

游뚿 **D콡LE콯IT칄: Toto 콏e코en칤 je POUZE pro nov칠 instalace** 游뚿
Pokud m치te existuj칤c칤 instanci Twenty s produk캜n칤mi daty, **NEPROV츼D캨JTE** tyto kroky, proto쬰 trvale sma쬺u va코i datab치zi!

P콏i prvn칤 instalaci Twenty m콢쬰te cht칤t zm캩nit v칳choz칤 heslo pro datab치zi.
Heslo, kter칠 nastav칤te b캩hem prvn칤 instalace, se stane trvale ulo쬰n칳m v objemu datab치ze. Pokud se pozd캩ji pokus칤te toto heslo zm캩nit v konfiguraci, ani byste odstranili star칳 objem, dojde k chyb치m autentizace, proto쬰 datab치ze st치le pou쮂셨치 p콢vodn칤 heslo.

丘멆잺 VAROV츼N칈: N치sleduj칤c칤 kroky trvale SMA콯칈 ve코ker치 data z datab치ze! 丘멆잺
Pokra캜ujte pouze v p콏칤pad캩, 쬰 se jedn치 o novou instalaci bez d콢le쬴t칳ch dat.

K aktualizaci `PG_DATABASE_PASSWORD` mus칤te:

```sh
# Aktualizovat PG_DATABASE_PASSWORD ve .env
docker compose down --volumes
docker compose up -d
```

#### CR line breaks found [Windows]

This is due to the line break characters of Windows and the git configuration. Zkuste spustit:

```
git config --global core.autocrlf false
```

Pak sma쬾e 칰lo쬴코t캩 a naklonujte jej znovu.

#### Chyb칤 sch칠ma metadat

B캩hem instalace Twenty mus칤te nastavit svou postgres datab치zi s spr치vn칳mi sch칠maty, roz코칤콏en칤mi a u쬴vateli.
Pokud se v치m poda콏칤 spustit toto nastavov치n칤, m캩li byste m칤t ve sv칠 datab치zi sch칠mata `default` a `metadata`.
Pokud ne, ujist캩te se, 쬰 na va코em po캜칤ta캜i neb캩쮂 v칤ce ne jedna instance postgres.

#### Cannot find module 'twenty-emails' or its corresponding type declarations.

P콏ed spu코t캩n칤m inicializace datab치ze mus칤te sestavit bal칤캜ek `twenty-emails` s `npx nx run twenty-emails:build`

#### Chyb칤 bal칤캜ek twenty-x

Ujist캩te se, 쬰 v ko콏enov칠m adres치콏i spou코t칤te `yarn` a pot칠 spus콘te `npx nx server:dev twenty-server`. Pokud st치le nefunguje, zkuste chyb캩j칤c칤 bal칤캜ek sestavit ru캜n캩.

#### Lint p콏i ukl치d치n칤 nefunguje

Toto by m캩lo fungovat p콏칤mo s nainstalovan칳m roz코칤콏en칤m eslint. If this doesn't work try adding this to your vscode setting (on the dev container scope):

```
"editor.codeActionsOnSave": {

  "source.fixAll.eslint": "explicit"

}
```

#### P콏i spu코t캩n칤 `npx nx start` nebo `npx nx start twenty-front` do코lo k chyb캩 nedostatku pam캩ti

In `packages/twenty-front/.env` uncomment `VITE_DISABLE_TYPESCRIPT_CHECKER=true` and `VITE_DISABLE_ESLINT_CHECKER=true` to disable background checks thus reducing amount of needed RAM.

**If it does not work:**
Run only the services you need, instead of `npx nx start`. Nap콏칤klad pokud pracujete na serveru, spus콘te pouze `npx nx worker twenty-server`

**If it does not work:**
If you tried to run only `npx nx run twenty-server:start` on WSL and it's failing with the below memory error:

`FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory`

Pro obejit칤 prove캞te n칤쬰 uveden칳 p콏칤kaz v termin치lu nebo jej p콏idejte do profilu .bashrc, aby se automatizovalo nastaven칤:

`export NODE_OPTIONS="--max-old-space-size=8192"`

P콏칤znak --max-old-space-size=8192 nastavuje horn칤 limit 8 GB pro hromadu v Node.js; vyu쬴t칤 se 코k치luje s po쬬davkem aplikace.
Odkaz: https://stackoverflow.com/questions/56982005/where-do-i-set-node-options-max-old-space-size-2048

**If it does not work:**
Investigate which processes are taking you most of your machine RAM. V Twenty jsme si v코imli, 쬰 n캩kter치 roz코칤콏en칤 VScode zab칤rala hodn캩 pam캩ti RAM, tak쬰 jsme je do캜asn캩 deaktivovali.

**If it does not work:**
Restart your machine helps to clean up ghost processes.

#### P콏i b캩hu `npx nx start` se v protokolech objevuj칤 podivn칠 [0] a [1]

To je o캜ek치van칠, proto쬰 p콏칤kaz `npx nx start` spou코t칤 v칤ce p콏칤kaz콢 v pozad칤

#### E-maily nejsou odes칤l치ny

V캩t코inou je to proto, 쬰 `worker` neb캩쮂 na pozad칤. Zkuste spustit

```
npx nx worker twenty-server
```

#### Nelze p콏ipojit m콢j 칰캜et Microsoft 365

V캩t코inou je to proto, 쬰 v치코 administr치tor pro v치코 칰캜et nepovolil licenci Microsoft 365. Zkontrolujte [https://admin.microsoft.com/](https://admin.microsoft.com/Adminportal/Home).

Pokud m치te chybov칳 k칩d `AADSTS50020`, pravd캩podobn캩 pou쮂셨치te osobn칤 칰캜et Microsoft. Tento p콏칤stup je코t캩 nen칤 podporov치n. V칤ce informac칤 [zde](https://learn.microsoft.com/fr-fr/troubleshoot/entra/entra-id/app-integration/error-code-aadsts50020-user-account-identity-provider-does-not-exist)

#### P콏i b캩hu `yarn` se v konzoli objevuj칤 varov치n칤

Varov치n칤 informuj칤 o na캜칤t치n칤 dal코칤ch z치vislost칤, kter칠 nejsou explicitn캩 uvedeny v `package.json`, tak쬰 pokud se neobjev칤 쮂멳n치 v치쬹치 chyba, v코e by m캩lo fungovat podle o캜ek치v치n칤.

#### Kdy u쬴vatel p콏istoup칤 na p콏ihla코ovac칤 str치nku, v protokolech se objev칤 chybov치 zpr치va o neautorizovan칠m u쬴vateli, kter칳 se sna쮂 p콏istoupit k pracovn칤mu prostoru

To je o캜ek치van칠, proto쬰 u쬴vatel je neautorizovan칳, kdy je odhl치코en, proto쬰 jeho identita nen칤 ov캩콏ena.

#### Jak zkontrolovat, zda v치코 worker b캩쮂?

* Jd캩te na [webhook-test.com](https://webhook-test.com/) a zkop칤rujte **Svou unik치tn칤 webhook URL**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test.jpg" alt="Test webhooku" />
</div>

* Otev콏ete svou Twenty aplikaci, p콏ejd캩te na `/settings` a na lev칠 doln칤 캜치sti obrazovky aktivujte p콏ep칤na캜 **Pokro캜il칠**.
* Vytvo콏te nov칳 webhook.
* Vlo쬾e **Svou unik치tn칤 webhook URL** do pole **Endpoint Url** ve Twenty. Nastavte **Filtry** na `Companies` a `Created`.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-settings.jpg" alt="Nastaven칤 webhooku" />
</div>

* P콏ejd캩te na `/objects/companies` a vytvo콏te nov칳 z치znam spole캜nosti.
* Vra콘te se na [webhook-test.com](https://webhook-test.com/) a zkontrolujte, zda byla p콏ijata nov치 **POST request**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test-result.jpg" alt="V칳sledek testu webhooku" />
</div>

* Pokud byla p콏ijata **POST request**, v치코 worker b캩쮂 칰sp캩코n캩. V opa캜n칠m p콏칤pad캩 je pot콏eba zkontrolovat v치코 worker.

#### Front-end se neda콏칤 spustit a vrac칤 chybu TS5042: Mo쬹ost 'project' nelze kombinovat se zdrojov칳mi soubory na p콏칤kazov칠m 콏치dku

Comment out checker plugin in `packages/twenty-ui/vite-config.ts` like in example below

```
plugins: [
      react({ jsxImportSource: '@emotion/react' }),
      tsconfigPaths(),
      svgr(),
      dts(dtsConfig),
      // checker(checkersConfig),
      wyw({
        include: [
          '**/OverflowingTextWithTooltip.tsx',
          '**/Chip.tsx',
          '**/Tag.tsx',
          '**/Avatar.tsx',
          '**/AvatarChip.tsx',
        ],
        babelOptions: {
          presets: ['@babel/preset-typescript', '@babel/preset-react'],
        },
      }),
    ],
```

#### Administra캜n칤 panel nen칤 p콏칤stupn칳

Spus콘te `UPDATE core."user" SET "canAccessFullAdminPanel" = TRUE WHERE email = 'you@yourdomain.com';` v datab치zov칠m kontejneru pro z칤sk치n칤 p콏칤stupu k administra캜n칤mu panelu.

### 1-click Docker compose

#### Nelze se p콏ihl치sit

Pokud se nem콢쬰te p콏ihl치sit po nastaven칤:

1. Spus콘te n치sleduj칤c칤 p콏칤kazy:
   ```bash
   docker exec -it twenty-server-1 yarn
   docker exec -it twenty-server-1 npx nx database:reset --configuration=no-seed
   ```
2. Restartujte Docker kontejnery:
   ```bash
   docker compose down
   docker compose up -d
   ```

Pozn치mka: p콏칤kaz database:reset kompletn캩 sma쬰 va코i datab치zi a vytvo콏칤 ji znovu od z치kladu.

#### Probl칠my s p콏ipojen칤m za reverzn칤 proxy

Pokud provozujete Twenty za reverzn칤 proxy a m치te probl칠my s p콏ipojen칤m:

1. **Ov캩콏te SERVER_URL:**

   Ujist캩te se, 쬰 `SERVER_URL` ve va코em `.env` souboru odpov칤d치 va코칤 extern칤 p콏칤stupov칠 URL, v캜etn캩 `https`, pokud je SSL povoleno.

2. **Zkontrolujte nastaven칤 reverzn칤 proxy:**

   * Potvr캞te, 쬰 va코e reverzn칤 proxy spr치vn캩 sm캩ruje po쬬davky na server Twenty.
   * Ujist캩te se, 쬰 z치hlav칤 jako `X-Forwarded-For` a `X-Forwarded-Proto` jsou spr치vn캩 nastaveny.

3. **Restartujte slu쬭y:**

   Po proveden칤 zm캩n restartujte jak reverzn칤 proxy, tak kontejnery Twenty.

#### Error when uploading an image - permission denied

Switching the data folder ownership on the host from root to another user and group resolves this problem.

## Z칤sk치n칤 pomoci

Pokud se setk치te s probl칠my, kter칠 tento pr콢vodce nepokr칳v치:

* Zkontrolujte protokoly:

  View container logs for error messages:

  ```bash
  docker compose logs
  ```

* Podpora komunity:

  Obra콘te se na [komunitu Twenty](https://github.com/twentyhq/twenty/issues) nebo [podp콢rn칠 kan치ly](https://discord.gg/cx5n4Jzs57) pro pomoc.
