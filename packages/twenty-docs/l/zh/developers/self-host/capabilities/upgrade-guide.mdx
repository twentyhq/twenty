---
title: å‡çº§æŒ‡å—
---

## é€šç”¨æŒ‡å—

**åœ¨å¼€å§‹å‡çº§è¿‡ç¨‹ä¹‹å‰ï¼Œè¯·åŠ¡å¿…å¤‡ä»½æ‚¨çš„æ•°æ®åº“**ï¼Œé€šè¿‡è¿è¡Œ `docker exec -it {db_container_name_or_id} pg_dumpall -U {postgres_user} > databases_backup.sql`ã€‚

è¦æ¢å¤å¤‡ä»½ï¼Œè¿è¡Œ `cat databases_backup.sql | docker exec -i {db_container_name_or_id} psql -U {postgres_user}`ã€‚

å¦‚æœæ‚¨ä½¿ç”¨äº† Docker Composeï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. åœ¨ Twenty è¿è¡Œçš„ä¸»æœºä¸Šæ‰“å¼€ç»ˆç«¯ï¼Œå…³é—­ Twentyï¼š`docker compose down`

2. é€šè¿‡æ›´æ”¹ docker-compose é™„è¿‘ .env æ–‡ä»¶ä¸­çš„ `TAG` å€¼æ¥å‡çº§ç‰ˆæœ¬ã€‚ ï¼ˆæˆ‘ä»¬å»ºè®®ä½¿ç”¨ `major.minor` ç‰ˆæœ¬ï¼Œä¾‹å¦‚ `v0.53`ï¼‰

3. ç”¨ `docker compose up -d` é‡æ–°å¯åŠ¨ Twenty

å¦‚æœæ‚¨æƒ³è¦å‡çº§å®ä¾‹å¤šä¸ªç‰ˆæœ¬ï¼Œä¾‹å¦‚ä» v0.33.0 å‡çº§åˆ° v0.35.0ï¼Œæ‚¨éœ€è¦æŒ‰é¡ºåºå‡çº§æ‚¨çš„å®ä¾‹ï¼Œä¾‹å¦‚ä» v0.33.0 å‡çº§åˆ° v0.34.0ï¼Œç„¶åä» v0.34.0 åˆ° v0.35.0ã€‚

**ç¡®ä¿æ¯ä¸ªå‡çº§åçš„ç‰ˆæœ¬éƒ½å…·æœ‰æœªæŸåçš„å¤‡ä»½ã€‚**

## ç‰¹å®šç‰ˆæœ¬çš„å‡çº§æ­¥éª¤

## v1.0

Hello Twenty v1.0! ğŸ‰

## v0.60

### æ€§èƒ½å¢å¼º

ä¸å…ƒæ•°æ® API çš„æ‰€æœ‰äº¤äº’å·²ä¼˜åŒ–ï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œå°¤å…¶æ˜¯å¯¹è±¡å…ƒæ•°æ®æ“ä½œå’Œå·¥ä½œåŒºåˆ›å»ºæ“ä½œã€‚

æˆ‘ä»¬é‡æ„äº†ç¼“å­˜ç­–ç•¥ï¼Œä»¥åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ä¼˜å…ˆäºæ•°æ®åº“æŸ¥è¯¢æ˜¾è‘—æé«˜å…ƒæ•°æ® API æ“ä½œçš„æ€§èƒ½ã€‚

å¦‚æœåœ¨å‡çº§åé‡åˆ°ä»»ä½•è¿è¡Œæ—¶é—®é¢˜ï¼Œå¯èƒ½éœ€è¦æ¸…ç©ºæ‚¨çš„ç¼“å­˜ä»¥ç¡®ä¿å…¶ä¸æœ€æ–°æ›´æ”¹åŒæ­¥ã€‚ åœ¨ twenty-server å®¹å™¨ä¸­è¿è¡Œæ­¤å‘½ä»¤ï¼š

```bash
yarn command:prod cache:flush
```

### v0.55

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.55 æ˜ åƒ

æ‚¨ä¸å†éœ€è¦è¿è¡Œä»»ä½•å‘½ä»¤ï¼Œæ–°æ˜ åƒå°†è‡ªåŠ¨å¤„ç†æ‰€éœ€çš„æ‰€æœ‰è¿ç§»ã€‚

### `User does not have permission` error

å¦‚æœåœ¨å¤§å¤šæ•°è¯·æ±‚ä¸­å‡ºç°æˆæƒé”™è¯¯ï¼Œå‡çº§åå¯èƒ½éœ€è¦æ¸…ç©ºæ‚¨çš„ç¼“å­˜ä»¥é‡æ–°è®¡ç®—æœ€æ–°çš„æƒé™ã€‚

åœ¨ä½ çš„ `twenty-server` å®¹å™¨ä¸­ï¼Œè¿è¡Œï¼š

```bash
yarn command:prod cache:flush
```

æ­¤é—®é¢˜ä»…é€‚ç”¨äºæ­¤ Twenty ç‰ˆæœ¬ï¼Œæœªæ¥çš„å‡çº§ä¸åº”éœ€è¦æ­¤æ“ä½œã€‚

### v0.54

è‡ªç‰ˆæœ¬ `0.53` å¼€å§‹ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œã€‚

#### å…ƒæ•°æ®æ¨¡å¼å¼ƒç”¨

æˆ‘ä»¬å·²å°† `metadata` æ¨¡å¼åˆå¹¶åˆ° `core` æ¨¡å¼ä»¥ç®€åŒ–ä» `TypeORM` æ•°æ®çš„æ£€ç´¢ã€‚
æˆ‘ä»¬åœ¨ `upgrade` å‘½ä»¤ä¸­åˆå¹¶äº† `migrate` å‘½ä»¤æ­¥éª¤ã€‚ æˆ‘ä»¬ä¸å»ºè®®åœ¨ä»»ä½• server/worker å®¹å™¨å†…æ‰‹åŠ¨è¿è¡Œ `migrate`ã€‚

### è‡ª v0.53

ä» `0.53` èµ·ï¼Œå‡çº§åœ¨ `DockerFile` å†…ä»¥ç¼–ç¨‹æ–¹å¼å®Œæˆï¼Œè¿™æ„å‘³ç€ä»ç°åœ¨èµ·ï¼Œæ‚¨ä¸å¿…å†æ‰‹åŠ¨è¿è¡Œä»»ä½•å‘½ä»¤ã€‚

ç¡®ä¿ä¿æŒé¡ºåºå‡çº§æ‚¨çš„å®ä¾‹ï¼Œä¸è¦è·³è¿‡ä»»ä½•å¤§ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œå…è®¸ä» `0.43.3` å‡çº§åˆ° `0.44.0`ï¼Œä½†ä¸èƒ½ä» `0.43.1` å‡çº§åˆ° `0.45.0`ï¼‰ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å·¥ä½œåŒºç‰ˆæœ¬ä¸åŒæ­¥ï¼Œå¯èƒ½å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯å’ŒåŠŸèƒ½ç¼ºå¤±ã€‚

è¦æ£€æŸ¥æ˜¯å¦æ­£ç¡®è¿ç§»äº†å·¥ä½œåŒºï¼Œæ‚¨å¯ä»¥åœ¨æ•°æ®åº“ä¸­æŸ¥çœ‹å…¶ç‰ˆæœ¬åœ¨ `core.workspace` è¡¨ä¸­ã€‚

å®ƒåº”å§‹ç»ˆåœ¨æ‚¨å½“å‰ Twenty å®ä¾‹ `major.minor` ç‰ˆæœ¬çš„èŒƒå›´å†…ï¼Œæ‚¨å¯ä»¥åœ¨ç®¡ç†é¢æ¿ä¸­æŸ¥çœ‹æ‚¨çš„å®ä¾‹ç‰ˆæœ¬ï¼ˆåœ¨ `/settings/admin-panel`ï¼Œå¦‚æœæ‚¨çš„ç”¨æˆ·åœ¨æ•°æ®åº“ä¸­è®¾ç½®äº† `canAccessFullAdminPanel` å±æ€§ä¸ºçœŸåˆ™å¯è®¿é—®ï¼‰æˆ–é€šè¿‡åœ¨ `twenty-server` å®¹å™¨ä¸­è¿è¡Œ `echo $APP_VERSION`ã€‚

è¦ä¿®å¤ä¸åŒæ­¥çš„å·¥ä½œåŒºç‰ˆæœ¬ï¼Œä½ å°†éœ€è¦ä»ç›¸åº”çš„ Twenty ç‰ˆæœ¬æŒ‰ç…§ç›¸å…³çš„å‡çº§æŒ‡å—é¡ºåºå‡çº§ï¼Œç­‰ç­‰ï¼Œç›´åˆ°åˆ°è¾¾æ‰€éœ€çš„ç‰ˆæœ¬ã€‚

#### `auditLog` ç§»é™¤

æˆ‘ä»¬å·²ç§»é™¤äº† auditLog æ ‡å‡†å¯¹è±¡ï¼Œè¿™æ„å‘³ç€åœ¨æ­¤è¿ç§»åï¼Œå¤‡ä»½çš„å¤§å°å¯èƒ½æ˜¾è‘—å‡å°‘ã€‚

### v0.51 to v0.52

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.52 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### æˆ‘çš„å·¥ä½œåŒºè¢«é”å®šåœ¨ `0.52.0` å’Œ `0.52.6` ä¹‹é—´çš„ç‰ˆæœ¬

ä¸å¹¸çš„æ˜¯ï¼Œ`0.52.0` å’Œ `0.52.6` å·²ä» dockerHub å®Œå…¨ç§»é™¤ã€‚
æ‚¨å°†éœ€è¦åœ¨æ•°æ®åº“ä¸­æ‰‹åŠ¨æ›´æ–°å·¥ä½œåŒºç‰ˆæœ¬åˆ° `0.51.0`ï¼Œå¹¶ä½¿ç”¨ Twenty ç‰ˆæœ¬ `0.52.11` è¿›è¡Œå‡çº§ï¼ŒæŒ‰ç…§å…¶ä¸Šæ–¹çš„å‡çº§æŒ‡å—ã€‚

### v0.50 to v0.51

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.51 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.44.0 to v0.50.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.50.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### Docker-compose.yml ä¿®æ”¹

æ­¤ç‰ˆæœ¬åŒ…æ‹¬å¯¹ `docker-compose.yml` çš„ä¿®æ”¹ï¼Œä»¥èµ‹äºˆ `worker` æœåŠ¡å¯¹ `server-local-data` å·çš„è®¿é—®æƒé™ã€‚
è¯·ä½¿ç”¨ [v0.50.0 docker-compose.yml](https://github.com/twentyhq/twenty/blob/v0.50.0/packages/twenty-docker/docker-compose.yml) æ›´æ–°æœ¬åœ°ä¸»æœºä¸Šçš„ `docker-compose.yml`

### v0.43.0 to v0.44.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.44.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.42.0 to v0.43.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.43.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬è¿˜åœ¨ docker-compose.yml ä¸­åˆ‡æ¢åˆ°äº† postgres:16 æ˜ åƒã€‚

#### ï¼ˆé€‰é¡¹ 1ï¼‰æ•°æ®åº“è¿ç§»

ä¿ç•™ç°æœ‰çš„ postgres-spilo å›¾åƒæ˜¯å¯ä»¥çš„ï¼Œä½†æ‚¨éœ€è¦åœ¨ docker-compose.yml ä¸­å°†ç‰ˆæœ¬å†»ç»“ä¸º 0.43.0ã€‚

#### ï¼ˆé€‰é¡¹ 2ï¼‰æ•°æ®åº“è¿ç§»

å¦‚æœæ‚¨æƒ³å°†æ•°æ®åº“è¿ç§»åˆ°æ–°çš„ postgres:16 å›¾åƒï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. ä»æ—§çš„ postgres-spilo å®¹å™¨ä¸­å¯¼å‡ºæ•°æ®åº“

```
docker exec -it twenty-db-1 sh
pg_dump -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} > databases_backup.sql
exit
docker cp twenty-db-1:/home/postgres/databases_backup.sql .
```

ç¡®ä¿æ‚¨çš„è½¬å‚¨æ–‡ä»¶ä¸ä¸ºç©ºã€‚

2. å°†æ‚¨çš„ docker-compose.yml å‡çº§ä¸ºä¸ [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml) æ–‡ä»¶ä¸­çš„ postgres:16 æ˜ åƒç›¸åŒã€‚

3. å°†æ–° postgres:16 å®¹å™¨ä¸­çš„æ•°æ®åº“æ¢å¤

```
docker cp databases_backup.sql twenty-db-1:/databases_backup.sql
docker exec -it twenty-db-1 sh
psql -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} -f databases_backup.sql
exit
```

### v0.41.0 to v0.42.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.42.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade-0.42
```

**ç¯å¢ƒå˜é‡**

* ç§»é™¤ï¼š`FRONT_PORT`ï¼Œ`FRONT_PROTOCOL`ï¼Œ`FRONT_DOMAIN`ï¼Œ`PORT`
* æ–°å¢ï¼š`FRONTEND_URL`ï¼Œ`NODE_PORT`ï¼Œ`MAX_NUMBER_OF_WORKSPACES_DELETED_PER_EXECUTION`ï¼Œ`MESSAGING_PROVIDER_MICROSOFT_ENABLED`ï¼Œ`CALENDAR_PROVIDER_MICROSOFT_ENABLED`ï¼Œ`IS_MICROSOFT_SYNC_ENABLED`

### v0.40.0 to v0.41.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.41.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade-0.41
```

**ç¯å¢ƒå˜é‡**

* ç§»é™¤ï¼š`AUTH_MICROSOFT_TENANT_ID`

### v0.35.0 to v0.40.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.40.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade-0.40
```

**ç¯å¢ƒå˜é‡**

* æ–°å¢ï¼š`IS_EMAIL_VERIFICATION_REQUIRED`ï¼Œ`EMAIL_VERIFICATION_TOKEN_EXPIRES_IN`ï¼Œ`WORKFLOW_EXEC_THROTTLE_LIMIT`ï¼Œ`WORKFLOW_EXEC_THROTTLE_TTL`

### v0.34.0 to v0.35.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.35.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade-0.35
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ç»“æ„ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•°æ®æ¨¡å¼ï¼‰
`yarn command:prod upgrade-0.35` è´Ÿè´£æ‰€æœ‰å·¥ä½œåŒºçš„æ•°æ®è¿ç§»ã€‚

**ç¯å¢ƒå˜é‡**

* æˆ‘ä»¬å°† `ENABLE_DB_MIGRATIONS` æ›¿æ¢ä¸º `DISABLE_DB_MIGRATIONS`ï¼ˆé»˜è®¤å€¼ç°åœ¨ä¸º `false`ï¼Œæ‚¨å¯èƒ½ä¸å¿…è®¾ç½®ä»»ä½•ä¸œè¥¿ï¼‰

### v0.33.0 to v0.34.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.34.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade-0.34
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ç»“æ„ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•°æ®æ¨¡å¼ï¼‰
`yarn command:prod upgrade-0.34` è´Ÿè´£æ‰€æœ‰å·¥ä½œåŒºçš„æ•°æ®è¿ç§»ã€‚

**ç¯å¢ƒå˜é‡**

* ç§»é™¤ï¼š`FRONT_BASE_URL`
* æ–°å¢ï¼š`FRONT_DOMAIN`ï¼Œ`FRONT_PROTOCOL`ï¼Œ`FRONT_PORT`

æˆ‘ä»¬æ›´æ–°äº†å‰ç«¯ URL çš„å¤„ç†æ–¹å¼ã€‚
æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ `FRONT_DOMAIN`ï¼Œ`FRONT_PROTOCOL` å’Œ `FRONT_PORT` å˜é‡è®¾ç½®å‰ç«¯ URLã€‚
å¦‚æœæœªè®¾ç½® FRONT_DOMAINï¼Œå‰ç«¯ URL å°†å›é€€åˆ° `SERVER_URL`ã€‚

### v0.32.0 to v0.33.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.33.0 æ˜ åƒ

```
yarn command:prod cache:flush
yarn database:migrate:prod
yarn command:prod upgrade-0.33
```

`yarn command:prod cache:flush` å‘½ä»¤å°†æ¸…ç©º Redis ç¼“å­˜ã€‚
`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ç»“æ„ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•°æ®æ¨¡å¼ï¼‰
`yarn command:prod upgrade-0.33` è´Ÿè´£æ‰€æœ‰å·¥ä½œåŒºçš„æ•°æ®è¿ç§»ã€‚

ä»è¯¥ç‰ˆæœ¬å¼€å§‹ï¼Œç”¨äº DB çš„ twenty-postgres å›¾åƒå·²ç»å¼ƒç”¨ï¼Œå¹¶æ”¹ç”¨ twenty-postgres-spiloã€‚
å¦‚æœè¦ç»§ç»­ä½¿ç”¨ twenty-postgres æ˜ åƒï¼Œåªéœ€åœ¨ docker-compose.yml ä¸­å°† `twentycrm/twenty-postgres:${TAG}` æ›¿æ¢ä¸º `twentycrm/twenty-postgres` å³å¯ã€‚

### v0.31.0 to v0.32.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.32.0 æ˜ åƒ

**æ¨¡å¼å’Œæ•°æ®è¿ç§»**

```
yarn database:migrate:prod
yarn command:prod upgrade-0.32
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ç»“æ„ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•°æ®æ¨¡å¼ï¼‰
`yarn command:prod upgrade-0.32` è´Ÿè´£æ‰€æœ‰å·¥ä½œåŒºçš„æ•°æ®è¿ç§»ã€‚

**ç¯å¢ƒå˜é‡**

æˆ‘ä»¬æ›´æ–°äº† Redis è¿æ¥çš„å¤„ç†æ–¹å¼ã€‚

* ç§»é™¤ï¼š`REDIS_HOST`ï¼Œ`REDIS_PORT`ï¼Œ`REDIS_USERNAME`ï¼Œ`REDIS_PASSWORD`
* æ–°å¢ï¼š`REDIS_URL`

æ›´æ–°æ‚¨çš„ `.env` æ–‡ä»¶ä»¥ä½¿ç”¨æ–° `REDIS_URL` å˜é‡ï¼Œè€Œä¸æ˜¯å„ä¸ª Redis è¿æ¥å‚æ•°ã€‚

æˆ‘ä»¬ä¹Ÿç®€åŒ–äº†æˆ‘ä»¬å¤„ç† JWT ä»¤ç‰Œçš„æ–¹å¼ã€‚

* ç§»é™¤ï¼š`ACCESS_TOKEN_SECRET`ï¼Œ`LOGIN_TOKEN_SECRET`ï¼Œ`REFRESH_TOKEN_SECRET`ï¼Œ`FILE_TOKEN_SECRET`
* æ–°å¢ï¼š`APP_SECRET`

æ›´æ–°æ‚¨çš„ `.env` æ–‡ä»¶ä»¥ä½¿ç”¨æ–° `APP_SECRET` å˜é‡ï¼Œè€Œä¸æ˜¯å„ä¸ªä»¤ç‰Œå¯†é’¥ï¼ˆæ‚¨å¯ä»¥ä½¿ç”¨ä»¥å‰çš„ç›¸åŒå¯†é’¥æˆ–ç”Ÿæˆä¸€ä¸ªæ–°çš„éšæœºå­—ç¬¦ä¸²ï¼‰

**è¿æ¥è´¦æˆ·**

å¦‚æœæ‚¨ä½¿ç”¨å·²è¿æ¥çš„å¸æˆ·æ¥åŒæ­¥æ‚¨çš„è°·æ­Œç”µå­é‚®ä»¶å’Œæ—¥å†ï¼Œæ‚¨éœ€è¦åœ¨è°·æ­Œç®¡ç†å‘˜æ§åˆ¶å°ä¸­æ¿€æ´» [People API](https://developers.google.com/people)ã€‚

### v0.30.0 to v0.31.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.31.0 æ˜ åƒ

**æ¨¡å¼å’Œæ•°æ®è¿ç§»**ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.31
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ç»“æ„ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•°æ®æ¨¡å¼ï¼‰
`yarn command:prod upgrade-0.31` è´Ÿè´£æ‰€æœ‰å·¥ä½œåŒºçš„æ•°æ®è¿ç§»ã€‚

### v0.24.0 to v0.30.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.30.0 æ˜ åƒ

**é‡å¤§æ›´æ”¹**ï¼š
ä¸ºäº†æé«˜æ€§èƒ½ï¼ŒTwenty ç°åœ¨è¦æ±‚é…ç½® Redis ç¼“å­˜ã€‚ æˆ‘ä»¬æ›´æ–°äº†æˆ‘ä»¬çš„ [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml) æ¥åæ˜ è¿™ä¸€ç‚¹ã€‚
ç¡®ä¿æ›´æ–°æ‚¨çš„é…ç½®å¹¶ç›¸åº”åœ°æ›´æ–°æ‚¨çš„ç¯å¢ƒå˜é‡ï¼š

```
REDIS_HOST={your-redis-host}
REDIS_PORT={your-redis-port}
CACHE_STORAGE_TYPE=redis
```

**æ¨¡å¼å’Œæ•°æ®è¿ç§»**ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.30
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ç»“æ„ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•°æ®æ¨¡å¼ï¼‰
`yarn command:prod upgrade-0.30` è´Ÿè´£æ‰€æœ‰å·¥ä½œåŒºçš„æ•°æ®è¿ç§»ã€‚

### v0.23.0 to v0.24.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.24.0 æ˜ åƒ

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.24
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ç»“æ„ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•°æ®æ¨¡å¼ï¼‰
`yarn command:prod upgrade-0.24` è´Ÿè´£æ‰€æœ‰å·¥ä½œåŒºçš„æ•°æ®è¿ç§»ã€‚

### v0.22.0 to v0.23.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.23.0 æ˜ åƒ

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.23
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ã€‚
`yarn command:prod upgrade-0.23` è´Ÿè´£æ•°æ®è¿ç§»ï¼ŒåŒ…æ‹¬å°†æ´»åŠ¨è½¬ç§»åˆ°ä»»åŠ¡/ç¬”è®°ã€‚

### v0.21.0 to v0.22.0

å‡çº§æ‚¨çš„ Twenty å®ä¾‹ä»¥ä½¿ç”¨ v0.22.0 æ˜ åƒ

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
yarn database:migrate:prod
yarn command:prod workspace:sync-metadata -f
yarn command:prod upgrade-0.22
```

`yarn database:migrate:prod` å‘½ä»¤å°†è¿ç§»åº”ç”¨äºæ•°æ®åº“ã€‚
è¯¥ `yarn command:prod workspace:sync-metadata -f` å‘½ä»¤å°†æŠŠæ ‡å‡†å¯¹è±¡çš„å®šä¹‰åŒæ­¥åˆ°å…ƒæ•°æ®è¡¨ï¼Œå¹¶å°†æ‰€éœ€çš„è¿ç§»åº”ç”¨åˆ°ç°æœ‰å·¥ä½œåŒºã€‚
è¯¥ `yarn command:prod upgrade-0.22` å‘½ä»¤å°†åº”ç”¨ç‰¹å®šçš„æ•°æ®è½¬æ¢ï¼Œä»¥é€‚é…æ–°çš„å¯¹è±¡ defaultRequestInstrumentationOptionsã€‚
