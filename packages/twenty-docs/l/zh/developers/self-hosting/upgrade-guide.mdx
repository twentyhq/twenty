---
title: å‡ç´šæŒ‡å—
image: /images/user-guide/notes/notes_header.png
---

<Frame>
  <img src="/images/user-guide/notes/notes_header.png" alt="Header" />
</Frame>

## ä¸€èˆ¬æŒ‡å—

**Always make sure to back up your database before starting the upgrade process** by running `docker exec -it {db_container_name_or_id} pg_dumpall -U {postgres_user} > databases_backup.sql`.

To restore backup, run `cat databases_backup.sql | docker exec -i {db_container_name_or_id} psql -U {postgres_user}`.

å¦‚æœæ‚¨ä½¿ç”¨äº† Docker Composeï¼Œè«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1. åœ¨ Twenty é‹è¡Œçš„ä¸»æ©Ÿä¸­ï¼Œé—œé–‰ Twentyï¼š`docker compose down`

2. æ›´æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `TAG` å€¼ä¾†å‡ç´šç‰ˆæœ¬ã€‚ ï¼ˆæˆ‘å€‘å»ºè­°ä½¿ç”¨ `major.minor` ç‰ˆæœ¬ï¼Œä¾‹å¦‚ `v0.53` ï¼‰ ï¼ˆæˆ‘å€‘å»ºè­°ä½¿ç”¨ `major.minor` ç‰ˆæœ¬ï¼Œä¾‹å¦‚ `v0.53` ï¼‰

3. ä½¿ç”¨å‘½ä»¤ `docker compose up -d` è®“ Twenty ä¸Šç·š

å¦‚æœå¸Œæœ›å°‡å¯¦ä¾‹å‡ç´šå¹¾å€‹ç‰ˆæœ¬ï¼Œä¾‹å¦‚å¾ v0.33.0 åˆ° v0.35.0ï¼Œæ‚¨éœ€è¦åˆ†æ­¥å‡ç´šï¼Œä¾‹å¦‚å¾ v0.33.0 å‡ç´šåˆ° v0.34.0ï¼Œç„¶å¾Œå¾ v0.34.0 å‡ç´šåˆ° v0.35.0ã€‚

**ç¢ºä¿æ¯æ¬¡å‡ç´šå¾Œï¼Œå‚™ä»½æ˜¯æœªæå£çš„ã€‚**

## ç‰ˆæœ¬ç‰¹å®šå‡ç´šæ­¥é©Ÿ

## v1.0

Hello Twenty v1.0! ğŸ‰

## v0.60

### æ€§èƒ½å¢å¼·

æ‰€æœ‰èˆ‡å…ƒæ•¸æ“š API çš„äº¤äº’å‡å·²å„ªåŒ–ä»¥æé«˜æ€§èƒ½ï¼Œç‰¹åˆ¥æ˜¯å°è±¡å…ƒæ•¸æ“šæ“ä½œå’Œå·¥ä½œç©ºé–“å‰µå»ºæ“ä½œã€‚

æˆ‘å€‘é‡æ§‹äº†ç·©å­˜ç­–ç•¥ï¼Œå„˜é‡å„ªå…ˆè™•ç†ç·©å­˜å‘½ä¸­è€Œéè³‡æ–™åº«æŸ¥è©¢ï¼Œé¡¯è‘—æé«˜å…ƒæ•¸æ“š API æ“ä½œçš„æ€§èƒ½ã€‚

å¦‚æœåœ¨å‡ç´šå¾Œé‡åˆ°é‹è¡Œæ™‚å•é¡Œï¼Œæ‚¨å¯èƒ½éœ€è¦åˆ·æ–°ç·©å­˜ä»¥ç¢ºä¿èˆ‡æœ€æ–°æ›´æ”¹åŒæ­¥ã€‚ åœ¨æ‚¨çš„ twenty-server å®¹å™¨ä¸­é‹è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
yarn command:prod cache:flush
```

### v0.55

å‡ç´šæ‚¨çš„ Twenty å¯¦ä¾‹ä»¥ä½¿ç”¨ v0.55 æ˜ åƒ

æ‚¨ä¸éœ€è¦å†é‹è¡Œä»»ä½•å‘½ä»¤ï¼Œæ–°æ˜ åƒæœƒè‡ªå‹•åŸ·è¡Œæ‰€æœ‰æ‰€éœ€çš„é·ç§»ã€‚

### `User does not have permission` error

If you encounter authorization errors on most requests after upgrading, you may need to flush your cache to recompute the latest permissions.

åœ¨æ‚¨çš„ `twenty-server` å®¹å™¨ä¸­ï¼Œé‹è¡Œï¼š

```bash
yarn command:prod cache:flush
```

æ­¤å•é¡Œåƒ…é™æ–¼æ­¤ Twenty ç‰ˆæœ¬ï¼Œä¸æ‡‰åœ¨å°‡ä¾†çš„å‡ç´šä¸­è¦æ±‚ã€‚

### v0.54

è‡ªç‰ˆæœ¬ `0.53`ï¼Œç„¡éœ€æ‰‹å‹•æ“ä½œã€‚

#### å…ƒæ•¸æ“šæ¶æ§‹æ£„ç”¨

æˆ‘å€‘å·²ç¶“å°‡ `metadata` æ¶æ§‹åˆä½µåˆ°äº† `core`ï¼Œä»¥ç°¡åŒ–å¾ `TypeORM` æª¢ç´¢æ•¸æ“šã€‚
æˆ‘å€‘å·²å°‡ `migrate` å‘½ä»¤æ­¥é©Ÿåˆä½µåˆ° `upgrade` å‘½ä»¤ä¸­ã€‚ æˆ‘å€‘ä¸å»ºè­°åœ¨ä»»ä½• Server/Worker å®¹å™¨ä¸­æ‰‹å‹•é‹è¡Œ `migrate`ã€‚
æˆ‘å€‘å·²å°‡ `migrate` å‘½ä»¤æ­¥é©Ÿåˆä½µåˆ° `upgrade` å‘½ä»¤ä¸­ã€‚ æˆ‘å€‘ä¸å»ºè­°åœ¨ä»»ä½• Server/Worker å®¹å™¨ä¸­æ‰‹å‹•é‹è¡Œ `migrate`ã€‚

### è‡ª v0.53

å¾ `0.53` é–‹å§‹ï¼Œå‡ç´šæ˜¯åœ¨ `DockerFile` ä¸­ç¨‹åºåŒ–å®Œæˆçš„ï¼Œé€™æ„å‘³è‘—å¾ç¾åœ¨é–‹å§‹ï¼Œæ‚¨ä¸å¿…å†æ‰‹å‹•é‹è¡Œä»»ä½•å‘½ä»¤ã€‚

ç¢ºä¿æŒ‰é †åºå‡ç´šå¯¦ä¾‹ï¼Œä¸èƒ½è·³éä»»ä½•ä¸»è¦ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œå…è¨±å¾ `0.43.3` å‡ç´šåˆ° `0.44.0`ï¼Œä½†ä¸èƒ½å¾ `0.43.1` è·³éåˆ° `0.45.0`ï¼‰ï¼Œå¦å‰‡å¯èƒ½å°è‡´å·¥ä½œç©ºé–“ç‰ˆæœ¬ä¸åŒæ­¥ï¼Œå°è‡´é‹è¡Œæƒ…æ³éŒ¯èª¤å’ŒåŠŸèƒ½ç¼ºå¤±ã€‚

è‹¥è¦æª¢æŸ¥å·¥ä½œç©ºé–“æ˜¯å¦å·²æ­£ç¢ºé·ç§»ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹è³‡æ–™åº«ä¸­çš„ `core.workspace` è¡¨ä¸­çš„ç‰ˆæœ¬ã€‚

å®ƒæ‡‰å§‹çµ‚åœ¨ç•¶å‰ Twenty å¯¦ä¾‹çš„ `major.minor` ç‰ˆæœ¬ç¯„åœå…§ï¼Œæ‚¨å¯ä»¥åœ¨ç®¡ç†é¢æ¿ä¸­æŸ¥çœ‹å¯¦ä¾‹ç‰ˆæœ¬ï¼ˆåœ¨ `/settings/admin-panel`ï¼Œè‹¥ç”¨æˆ¶åœ¨æ•¸æ“šåº«ä¸­æ“æœ‰ `canAccessFullAdminPanel` å±¬æ€§ç‚º trueï¼Œå³å¯è¨ªå•ï¼‰æˆ–é€šéåœ¨ `twenty-server` å®¹å™¨ä¸­é‹è¡Œ `echo $APP_VERSION`ã€‚

è¦ä¿®å¾©æœªåŒæ­¥çš„å·¥ä½œç©ºé–“ç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦å¾ç›¸æ‡‰ç‰ˆæœ¬é–‹å§‹ï¼Œä¸€æ­¥ä¸€æ­¥å‡ç´š Twenty ä¸¦éµå¾ªç›¸é—œå‡ç´šæŒ‡å—ï¼Œç›´åˆ°é”åˆ°æœŸæœ›ç‰ˆæœ¬ã€‚

#### `auditLog` ç§»é™¤

æˆ‘å€‘å·²åˆªé™¤ auditLog æ¨™æº–å°è±¡ï¼Œé€™æ„å‘³è‘—æ­¤é·ç§»å¾Œæ‚¨çš„å‚™ä»½å¤§å°å¯èƒ½æœƒé¡¯è‘—æ¸›å°‘ã€‚

### v0.51åˆ°v0.52

å‡ç´šæ‚¨çš„ Twenty å¯¦ä¾‹ä»¥ä½¿ç”¨ v0.52 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### æˆ‘æœ‰ä¸€å€‹å·¥ä½œå€è¢«é–å®šåœ¨ç‰ˆæœ¬ä¹‹é–“ `0.52.0` å’Œ `0.52.6`

å¾ˆä¸å¹¸ï¼Œ`0.52.0` å’Œ `0.52.6` å·²å¾ dockerHub å®Œå…¨ç§»é™¤ã€‚
æ‚¨å°‡éœ€è¦æ‰‹å‹•å°‡å·¥ä½œå€ç‰ˆæœ¬æ›´æ–°åˆ° `0.51.0` åœ¨æ•¸æ“šåº«ä¸­ï¼Œç„¶å¾Œå‡ç´šä½¿ç”¨ Twenty ç‰ˆæœ¬ `0.52.11` ä¸¦éµå¾ªå…¶ä¸Šæ–¹çš„å‡ç´šæŒ‡å—ã€‚
æ‚¨å°‡éœ€è¦æ‰‹å‹•å°‡å·¥ä½œå€ç‰ˆæœ¬æ›´æ–°åˆ° `0.51.0` åœ¨æ•¸æ“šåº«ä¸­ï¼Œç„¶å¾Œå‡ç´šä½¿ç”¨ Twenty ç‰ˆæœ¬ `0.52.11` ä¸¦éµå¾ªå…¶ä¸Šæ–¹çš„å‡ç´šæŒ‡å—ã€‚

### v0.50åˆ°v0.51

å‡ç´šæ‚¨çš„ Twenty å¯¦ä¾‹ä»¥ä½¿ç”¨ v0.51 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.44.0åˆ°v0.50.0

å‡ç´šæ‚¨çš„ Twenty å¯¦ä¾‹ä»¥ä½¿ç”¨ v0.50.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

#### docker-compose.yml è®Šæ›´

æ­¤ç‰ˆæœ¬åŒ…æ‹¬ `docker-compose.yml` è®Šæ›´ä»¥å…è¨± `worker` æœå‹™è¨ªå• `server-local-data` å·ã€‚
è«‹æ›´æ–°æ‚¨çš„æœ¬åœ° `docker-compose.yml` ä»¥ä½¿ç”¨ [v0.50.0 docker-compose.yml](https://github.com/twentyhq/twenty/blob/v0.50.0/packages/twenty-docker/docker-compose.yml)ã€‚
è«‹æ›´æ–°æ‚¨çš„æœ¬åœ° `docker-compose.yml` ä»¥ä½¿ç”¨ [v0.50.0 docker-compose.yml](https://github.com/twentyhq/twenty/blob/v0.50.0/packages/twenty-docker/docker-compose.yml)ã€‚

### v0.43.0åˆ°v0.44.0

å‡ç´šæ‚¨çš„ Twenty å¯¦ä¾‹ä»¥ä½¿ç”¨ v0.44.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

### v0.42.0åˆ°v0.43.0

å‡ç´šæ‚¨çš„ Twenty å¯¦ä¾‹ä»¥ä½¿ç”¨ v0.43.0 æ˜ åƒ

```
yarn database:migrate:prod
yarn command:prod upgrade
```

åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œæˆ‘å€‘é‚„åˆ‡æ›åˆ°äº† docker-compose.yml ä¸­çš„ postgres:16 æ˜ åƒã€‚

#### (é¸é … 1) è³‡æ–™åº«é·ç§»

ä¿ç•™ç¾æœ‰çš„ postgres-spilo æ˜ åƒæª”æ˜¯å¯ä»¥çš„ï¼Œä½†ä½ éœ€è¦åœ¨ä½ çš„ docker-compose.yml ä¸­å‡çµç‰ˆæœ¬ç‚º 0.43.0ã€‚

#### (é¸é … 2) è³‡æ–™åº«é·ç§»

å¦‚æœæ‚¨æƒ³æŠŠè³‡æ–™åº«é·ç§»åˆ°æ–°çš„ postgres:16 æ˜ åƒæª”ï¼Œè«‹æŒ‰ä»¥ä¸‹æ­¥é©Ÿæ“ä½œï¼š

1. å¾èˆŠçš„ postgres-spilo å®¹å™¨ä¸­è½‰å­˜ä½ çš„è³‡æ–™åº«

```
docker exec -it twenty-db-1 sh
pg_dump -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} > databases_backup.sql
exit
docker cp twenty-db-1:/home/postgres/databases_backup.sql .
```

ç¢ºä¿ä½ çš„è³‡æ–™è½‰å­˜æª”ä¸æ˜¯ç©ºçš„ã€‚

2. å‡ç´šä½ çš„ docker-compose.yml ä»¥ä½¿ç”¨ postgres:16 æ˜ åƒæª”ï¼Œå¦‚ [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml) æª”æ¡ˆä¸­ä¸€æ¨£ã€‚

3. å°‡è³‡æ–™åº«æ¢å¾©åˆ°æ–°çš„ postgres:16 å®¹å™¨ä¸­

```
docker cp databases_backup.sql twenty-db-1:/databases_backup.sql
docker exec -it twenty-db-1 sh
psql -U {YOUR_POSTGRES_USER} -d {YOUR_POSTGRES_DB} -f databases_backup.sql
exit
```

### v0.41.0 åˆ° v0.42.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.42.0 çš„æ˜ åƒæª”

```
yarn database:migrate:prod
yarn command:prod upgrade-0.42
```

**ç’°å¢ƒè®Šé‡**

- ç§»é™¤ï¼š`FRONT_PORT`, `FRONT_PROTOCOL`, `FRONT_DOMAIN`, `PORT`
- æ–°å¢ï¼š`FRONTEND_URL`, `NODE_PORT`, `MAX_NUMBER_OF_WORKSPACES_DELETED_PER_EXECUTION`, `MESSAGING_PROVIDER_MICROSOFT_ENABLED`, `CALENDAR_PROVIDER_MICROSOFT_ENABLED`, `IS_MICROSOFT_SYNC_ENABLED`

### v0.40.0 åˆ° v0.41.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.41.0 çš„æ˜ åƒæª”

```
yarn database:migrate:prod
yarn command:prod upgrade-0.41
```

**ç’°å¢ƒè®Šé‡**

- ç§»é™¤ï¼š`AUTH_MICROSOFT_TENANT_ID`

### v0.35.0 åˆ° v0.40.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.40.0 çš„æ˜ åƒæª”

```
yarn database:migrate:prod
yarn command:prod upgrade-0.40
```

**ç’°å¢ƒè®Šé‡**

- æ–°å¢ï¼š`IS_EMAIL_VERIFICATION_REQUIRED`, `EMAIL_VERIFICATION_TOKEN_EXPIRES_IN`, `WORKFLOW_EXEC_THROTTLE_LIMIT`, `WORKFLOW_EXEC_THROTTLE_TTL`

### v0.34.0 åˆ° v0.35.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.35.0 çš„æ˜ åƒæª”

```
yarn database:migrate:prod
yarn command:prod upgrade-0.35
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æœƒæ‡‰ç”¨åˆ°è³‡æ–™åº«çµæ§‹çš„é·ç§»ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•¸æ“šæ¶æ§‹ï¼‰
`yarn command:prod upgrade-0.35` ç”¨æ–¼æ‰€æœ‰å·¥ä½œå€çš„æ•¸æ“šé·ç§»ã€‚

**ç’°å¢ƒè®Šé‡**

- æˆ‘å€‘å°‡ `ENABLE_DB_MIGRATIONS` æ›¿æ›ç‚º `DISABLE_DB_MIGRATIONS` ï¼ˆé»˜èªå€¼ç¾åœ¨ç‚º `false`ï¼Œä½ å¯èƒ½ä¸éœ€è¦è¨­å®šä»»ä½•æ±è¥¿ï¼‰

### v0.33.0 åˆ° v0.34.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.34.0 çš„æ˜ åƒæª”

```
yarn database:migrate:prod
yarn command:prod upgrade-0.34
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æ‡‰ç”¨åˆ°è³‡æ–™åº«çµæ§‹çš„é·ç§»ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•¸æ“šæ¶æ§‹ï¼‰
`yarn command:prod upgrade-0.34` ç”¨æ–¼æ‰€æœ‰å·¥ä½œå€çš„æ•¸æ“šé·ç§»ã€‚

**ç’°å¢ƒè®Šé‡**

- ç§»é™¤ï¼š`FRONT_BASE_URL`
- æ–°å¢ï¼š`FRONT_DOMAIN`, `FRONT_PROTOCOL`, `FRONT_PORT`

æˆ‘å€‘å·²ç¶“æ›´æ–°äº†è™•ç†å‰ç«¯ URL çš„æ–¹å¼ã€‚
æˆ‘å€‘å·²ç¶“æ›´æ–°äº†è™•ç†å‰ç«¯ URL çš„æ–¹å¼ã€‚
æ‚¨ç¾åœ¨å¯ä»¥ä½¿ç”¨ `FRONT_DOMAIN`, `FRONT_PROTOCOL` å’Œ `FRONT_PORT` è®Šé‡ä¾†è¨­ç½®å‰ç«¯ URLã€‚
å¦‚æœæ²’æœ‰è¨­å®š FRONT_DOMAINï¼Œå‰ç«¯ URL å°‡å›é€€åˆ° `SERVER_URL`ã€‚
å¦‚æœæ²’æœ‰è¨­å®š FRONT_DOMAINï¼Œå‰ç«¯ URL å°‡å›é€€åˆ° `SERVER_URL`ã€‚

### v0.32.0 åˆ° v0.33.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.33.0 çš„æ˜ åƒæª”

```
yarn command:prod cache:flush
yarn database:migrate:prod
yarn command:prod upgrade-0.33
```

`yarn command:prod cache:flush` å‘½ä»¤å°‡åˆ·æ–° Redis å¿«å–ã€‚
`yarn database:migrate:prod` å‘½ä»¤å°‡æ‡‰ç”¨åˆ°è³‡æ–™åº«çµæ§‹çš„é·ç§»ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•¸æ“šæ¶æ§‹ï¼‰
`yarn command:prod upgrade-0.33` è² è²¬æ‰€æœ‰å·¥ä½œå€çš„æ•¸æ“šé·ç§»ã€‚
`yarn database:migrate:prod` å‘½ä»¤æœƒå°‡é·ç§»æ‡‰ç”¨åˆ°è³‡æ–™åº«ã€‚
`yarn command:prod workspace:sync-metadata -f` å‘½ä»¤æœƒå°‡æ¨™æº–å°è±¡çš„å®šç¾©åŒæ­¥åˆ°ä¸­ç¹¼è³‡æ–™è¡¨ï¼Œä¸¦å°‡æ‰€éœ€çš„é·ç§»æ‡‰ç”¨åˆ°ç¾æœ‰å·¥ä½œå€ã€‚
`yarn command:prod upgrade-0.22` å‘½ä»¤æœƒæ‡‰ç”¨ç‰¹å®šçš„æ•¸æ“šè½‰æ›ä»¥é©æ‡‰æ–°çš„å°è±¡ defaultRequestInstrumentationOptionsã€‚

å¾æ­¤ç‰ˆæœ¬é–‹å§‹ï¼Œtwenty-postgres æ˜ åƒæª”è¢«æ£„ç”¨ï¼Œæ”¹ç”¨ twenty-postgres-spiloã€‚
å¾æ­¤ç‰ˆæœ¬é–‹å§‹ï¼Œtwenty-postgres æ˜ åƒæª”è¢«æ£„ç”¨ï¼Œæ”¹ç”¨ twenty-postgres-spiloã€‚
å¦‚æœä½ æƒ³ç¹¼çºŒä½¿ç”¨ twenty-postgres æ˜ åƒæª”ï¼Œåªéœ€åœ¨ docker-compose.yml ä¸­å°‡ `twentycrm/twenty-postgres:${TAG}` æ›¿æ›ç‚º `twentycrm/twenty-postgres`ã€‚

### v0.31.0 åˆ° v0.32.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.32.0 çš„æ˜ åƒæª”

**æ¶æ§‹å’Œæ•¸æ“šé·ç§»**

```
yarn database:migrate:prod
yarn command:prod upgrade-0.32
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æ‡‰ç”¨åˆ°è³‡æ–™åº«çµæ§‹çš„é·ç§»ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•¸æ“šæ¶æ§‹ï¼‰
`yarn command:prod upgrade-0.32` è² è²¬æ‰€æœ‰å·¥ä½œå€çš„æ•¸æ“šé·ç§»ã€‚

**ç’°å¢ƒè®Šé‡**

æˆ‘å€‘å·²ç¶“æ›´æ–°äº†è™•ç† Redis é€£æ¥çš„æ–¹å¼ã€‚

- ç§»é™¤ï¼š`REDIS_HOST`, `REDIS_PORT`, `REDIS_USERNAME`, `REDIS_PASSWORD`
- æ–°å¢ï¼š`REDIS_URL`

æ›´æ–°ä½ çš„ `.env` æ–‡ä»¶ä»¥ä½¿ç”¨æ–°çš„ `REDIS_URL` è®Šæ•¸ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å–®å€‹ Redis é€£æ¥åƒæ•¸ã€‚

We have also simplified the way we handle the JWT tokens.

- ç§»é™¤ï¼š`ACCESS_TOKEN_SECRET`, `LOGIN_TOKEN_SECRET`, `REFRESH_TOKEN_SECRET`, `FILE_TOKEN_SECRET`
- æ–°å¢ï¼š`APP_SECRET`

Update your `.env` file to use the new `APP_SECRET` variable instead of the individual tokens secrets (you can use the same secret as before or generate a new random string)

**é€£æ¥å¸³æˆ¶**

å¦‚æœæ‚¨ä½¿ç”¨é€£æ¥å¸³è™ŸåŒæ­¥ Google é›»éƒµå’Œæ—¥æ›†ï¼Œå‰‡éœ€è¦åœ¨ Google ç®¡ç†å“¡æ§åˆ¶å°ä¸Šå•Ÿç”¨ [People API](https://developers.google.com/people)ã€‚

### v0.30.0 åˆ° v0.31.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.31.0 çš„æ˜ åƒæª”

**æ¶æ§‹å’Œæ•¸æ“šé·ç§»**ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.31
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æ‡‰ç”¨åˆ°è³‡æ–™åº«çµæ§‹çš„é·ç§»ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•¸æ“šæ¶æ§‹ï¼‰
`yarn command:prod upgrade-0.31` è² è²¬æ‰€æœ‰å·¥ä½œå€çš„æ•¸æ“šé·ç§»ã€‚

### v0.24.0 åˆ° v0.30.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.30.0 çš„æ˜ åƒæª”

**Breaking change**:
To enhance performances, Twenty now requires redis cache to be configured. æˆ‘å€‘å·²æ›´æ–° [docker-compose.yml](https://raw.githubusercontent.com/twentyhq/twenty/main/packages/twenty-docker/docker-compose.yml) ä»¥åæ˜ é€™ä¸€é»ã€‚
ç¢ºä¿æ›´æ–°æ‚¨çš„é…ç½®ä¸¦ç›¸æ‡‰åœ°æ›´æ–°ç’°å¢ƒè®Šæ•¸ï¼š
ç¢ºä¿æ›´æ–°æ‚¨çš„é…ç½®ä¸¦ç›¸æ‡‰åœ°æ›´æ–°ç’°å¢ƒè®Šæ•¸ï¼š

```
REDIS_HOST={your-redis-host}
REDIS_PORT={your-redis-port}
CACHE_STORAGE_TYPE=redis
```

**æ¶æ§‹å’Œæ•¸æ“šé·ç§»**ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.30
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æ‡‰ç”¨åˆ°è³‡æ–™åº«çµæ§‹çš„é·ç§»ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•¸æ“šæ¶æ§‹ï¼‰
`yarn command:prod upgrade-0.30` è² è²¬æ‰€æœ‰å·¥ä½œå€çš„æ•¸æ“šé·ç§»ã€‚

### v0.23.0 åˆ° v0.24.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.24.0 çš„æ˜ åƒæª”

é‹è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.24
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æœƒæ‡‰ç”¨åˆ°è³‡æ–™åº«çµæ§‹çš„é·ç§»ï¼ˆæ ¸å¿ƒå’Œå…ƒæ•¸æ“šæ¶æ§‹ï¼‰
`yarn command:prod upgrade-0.24` è² è²¬æ‰€æœ‰å·¥ä½œå€çš„æ•¸æ“šé·ç§»ã€‚

### v0.22.0 åˆ° v0.23.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.23.0 çš„æ˜ åƒæª”

é‹è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
yarn database:migrate:prod
yarn command:prod upgrade-0.23
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æ‡‰ç”¨åˆ°è³‡æ–™åº«çš„é·ç§»ã€‚
`yarn command:prod upgrade-0.23` è² è²¬æ•¸æ“šé·ç§»ï¼ŒåŒ…æ‹¬å°‡æ´»å‹•è½‰åˆ°ä»»å‹™/ç­†è¨˜ã€‚

### v0.21.0 åˆ° v0.22.0

å°‡ä½ çš„ Twenty å¯¦ä¾‹å‡ç´šåˆ°ä½¿ç”¨ v0.22.0 çš„æ˜ åƒæª”

é‹è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
yarn database:migrate:prod
yarn command:prod workspace:sync-metadata -f
yarn command:prod upgrade-0.22
```

`yarn database:migrate:prod` å‘½ä»¤å°‡æ‡‰ç”¨åˆ°è³‡æ–™åº«çš„é·ç§»ã€‚
`yarn command:prod upgrade-0.23` è² è²¬æ•¸æ“šé·ç§»ï¼ŒåŒ…æ‹¬å°‡æ´»å‹•è½‰åˆ°ä»»å‹™/ç­†è¨˜ã€‚
`yarn command:prod workspace:sync-metadata -f` å‘½ä»¤æœƒå°‡æ¨™æº–å°è±¡çš„å®šç¾©åŒæ­¥åˆ°ä¸­ç¹¼è³‡æ–™è¡¨ï¼Œä¸¦å°‡æ‰€éœ€çš„é·ç§»æ‡‰ç”¨åˆ°ç¾æœ‰å·¥ä½œå€ã€‚
`yarn command:prod upgrade-0.22` å‘½ä»¤æœƒæ‡‰ç”¨ç‰¹å®šçš„æ•¸æ“šè½‰æ›ä»¥é©æ‡‰æ–°çš„å°è±¡ defaultRequestInstrumentationOptionsã€‚




