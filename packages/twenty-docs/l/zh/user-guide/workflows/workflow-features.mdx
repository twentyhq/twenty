---
title: 工作流程功能
info: 所有可用的工作流程觸發器、操作和管理功能的完整參考。
image: /images/user-guide/workflows/robot.png
sectionInfo: 自動化流程並與外部工具集成
---

<Frame>
  <img src="/images/user-guide/workflows/robot.png" alt="Header" />
</Frame>

## 工作流程觸發器

工作流程總是從單一的觸發器開始以定義自動化應該何時運行。

### 記錄被創建

當在選定的對象（人員、公司、機會或自定義對象）中創建新記錄時啟動工作流程。

**配置**：選擇要監控的新記錄對象類型。

### 記錄被更新

當對現有記錄進行更改時啟動工作流程。

**配置**：

- 選擇對象類型
- 可選地指定要監控更改的字段

### 記錄被更新或創建

當在選定對象中創建或更新記錄時啟動工作流程。

**為什麼這很重要**：此觸發器尤其有幫助，因為通過不同方法創建的記錄行為有所不同：

- **API/CSV導入**：記錄將立即以所有字段填充
- **手動創建**：記錄首先創建，然後在後續更新中添加字段

**配置**：

- 選擇要監控的對象類型
- 可選地指定要監控更改的字段
- 工作流程將在初次創建和任何後續更新時觸發

### 記錄被刪除

當對象中的記錄被刪除時啟動工作流程。

**配置**：選擇要監控刪除的對象類型。

### 手動啟動

當由用戶操作觸發時啟動工作流程。 此觸發器可以通過Cmd+K菜單或頂部導航欄中的自定按鈕訪問。

**可用性配置**：
選擇工作流程如何處理記錄選擇：

- **Global**: No record is required to trigger this workflow. 該工作流程從任何位置（任何對象）觸發，不使用記錄作為輸入。

- **Single**: The selected record(s) will be passed to your workflow. 這是針對給定對象進行配置的。 在觸發工作流程之前，可以選擇多個記錄。 工作流程將根據選擇的記錄數目運行多次。

  <Warning>
  You cannot run more than 100 workflows in parallel at any given time.
  </Warning>

- **Bulk**: The selected record(s) will be passed to your workflow. 這是為給定對象配置的。 在觸發工作流程之前，可以選擇多條記錄。 工作流程將僅運行一次，將整個記錄列表作為輸入。 這意味着工作流程需要包含一個迭代器操作。 這對於想要優化或限制工作流程運行次數的人來說是最好的選擇。

**附加配置**：

- 選擇目標對象（適用於單一和批量可用性）
- 為工作流程觸發器選擇命令圖標
- 設置導航欄的位置（釘住或未釘住）

**訪問方法**：

- 使用 Cmd+K 菜單查找並啟動手動工作流程
- 在頂部導航欄中添加自定義按鈕（如已配置）

### 按排程執行

根據您定義的方式定期啟動工作流程。

**配置**：

- 選擇時間單位（分鐘、小時、天數）
- 輸入值或使用自定義 cron 表達式進行高級排程

### Webhook

當從外部服務接收到 GET 或 POST 請求時啟動工作流程。

**配置**：

- 接收一個唯一的 webhook URL
- 對於 POST 請求，定義預期的主體結構
- 如有需要，配置身份驗證

## 工作流程動作

動作定義了觸發發生後的操作。 您可以將多個動作串接在一起。

### 創建記錄

將新記錄添加到選定的對象中。

**配置**：

- 選擇目標對象
- 填寫必填和可選字段
- 使用上一步中的數據填充字段

**輸出**：新創建的記錄數據可供在後續步驟中使用。

### 更新記錄

修改選定對象中的現有記錄。

**配置**：

- 選擇目標對象
- 選擇要更新的具體記錄
- 選擇要修改的字段並輸入新值

**輸出**：更新的記錄數據可供在後續步驟中使用。

### 刪除記錄

從選定的對象中移除記錄。

**配置**：

- 選擇目標對象
- 選擇要刪除的具體記錄

**輸出**：已刪除的記錄數據仍可供在後續步驟中使用。

### 搜索記錄

使用篩選條件在選定對象中查找記錄。

**配置**：

- 選擇要搜尋的對象
- 設置篩選標準以縮小結果範圍
- 配置排序和限制

**輸出**：返回匹配的記錄，可以在後續步驟中使用。

**最佳实践**: 在搜索記錄後使用分支處理“找到”或“未找到”的情況。

### 迭代器

遍歷從前一步返回的記錄數組，允許您對每個記錄執行操作。

**配置**：

- 選擇來自前一步的記錄數组（例如，搜索記錄結果）
- 定義在循環中對每個記錄執行的動作
- 配置變數名稱以引用迭代中的每個記錄

**例子**：搜索記錄返回 5 個人，然後使用迭代器發送電子郵件給每個人或個別更新每個記錄。

**注意**：迭代器目前處於測試階段。 在 設置 → 版本 → 實驗室下激活。

### 篩選

根據指定條件篩選記錄數組，只允許符合條件的記錄通過。

**配置**：

- Select the array of records to filter
- Define filter conditions and criteria
- 配置哪些記錄應該傳遞到後續步驟

**輸出**：只返回符合指定篩選條件的記錄。

### 發送電子郵件

從您的工作流程發送電子郵件。

**先決條件**：在 設置 > 帳戶中添加電子郵件帳戶

**配置**：

- 輸入收件人的電子郵件地址
- Set subject line
- 撰寫郵件正文
- 引用來自上一步的變量以個性化

**注意**：電子郵件附件將於 2026 年第一季度提供。

### 代碼

在您的工作流程中運行自定義 JavaScript。

**配置**：

- 在編輯器中編寫 JavaScript 代碼
- 訪問來自前一步的變量
- 返回變量以供後續步驟使用
- 在步驟中直接測試代碼

**Access**: Manage API keys in Settings → API & Webhooks

### 表單

在工作流程執行期間提示表單以收集用戶輸入。

**配置**：

- Define input fields with types, labels, and placeholders
- 配置驗證規則
- Set form title and description

**輸出**：表單回應可用於後續步驟。

<Warning>
表單目前僅設計用於手動觸發。 對於具有其他觸發器的工作流程（記錄創建、更新等），表單僅可通過工作流程運行介面訪問，這不是預期的用戶體驗。 通知中心將於 2026 年發布，以正確支持自動化工作流程中的表單。
</Warning>

### HTTP請求

作為工作流程的一部分向外部 API 發送請求。

**配置**：

- 輸入 API 端點 URL
- 選擇 HTTP 方法（GET、POST、PUT、PATCH、DELETE）
- 添加必需的標頭和值
- 為 POST/PUT/PATCH 請求包含請求正文
- Provide sample response for structure preview

## Workflow Management

### 創建工作流程

1. Click "+ Add a Workflow" to begin
2. 點擊"未命名"為您的工作流程命名
3. 選擇並配置工作流程觸發器
4. Add actions to your workflow
5. 測試並迭代
6. 完成編輯後，啟用您的工作流程（目前處於草稿模式）

如果您看不到工作流程部分，這是由於權限問題。 聯繫您的工作區管理員以授予您訪問工作流程的權限。

### 工作流程狀態

- **草稿**：正在編輯，尚未發布
- **活動**：實時版本響應觸發
- **停用**：以前活動但手動停止
- **歸檔**：保留的過去版本

### 激活工作流程

點擊 **激活** 以將草稿發布為新版本。 這使工作流程具備在被觸發時運行的資格，但不會立即執行。

### 測試工作流程

激活前使用以下方法測試工作流程：

- 手動觸發（無記錄選擇時）
- 個別動作測試（特別是代碼動作）
- 草稿模式測試，不會激活工作流程

### Workflow 運行

A **Run** is a record of workflow execution containing:

- 狀態（成功、失敗、運行中）
- 每個步驟的輸出數據
- 作者和時間軸
- 如適用，錯誤信息

**查看運行**：

- 在工作流程編輯器中檢查 **運行** 面板
- 打開 **工作流程運行** 視圖以監控所有工作流程

**性能提示**：隱藏“所有工作流程”頁面及其他工作流程頁面中的工作流程運行，以提高加載性能，因為大量運行可能會導致頁面加載變慢。

### 版本歷史

- 在 **版本** 旁檢視所有版本
- 點擊任意版本查看詳細信息
- 使用 **用作草稿** 恢復以前的版本
- 處理草稿衝突的覆蓋選項或返回選項

## 最佳實踐

### 工作流程的組織

- **描述性名稱**：使用清晰、具體的工作流程名稱
- **步驟命名**：重命名步驟以描述其功能
- **文件**：在代碼操作中添加註釋
- **分類**：邏輯地將相關工作流程分組
- **自定義字段**：在數據模型中的工作流程對象中添加字段（類似於其他對象）以用自定義屬性組織和分類工作流程

### 性能優化

- **最小化 API 調用**：如果可能，進行批量操作
- **有效搜尋**：使用特定的篩選標準
- **錯誤處理**：規劃失敗場景
- **速率限制**：尊重外部 API 的限制

### 數據流管理

- **分支邏輯**：在搜索記錄後使用分支
- **變量使用**：活用上一步中的數據
- **數據驗證**：在代碼操作中驗證輸入
- **字段映射**：仔細規劃數據轉換

### 監控和維護

- **Regular Monitoring**: Check workflow runs for errors
- **性能評審**：分析執行時間和成功率
- **更新管理**：在草稿中測試更改，然後再激活
- **團隊協調**：為團隊成員記錄工作流程

查看我們的[內部自動化](/l/zh/user-guide/workflows/internal-automations)以及[外部工具集成](/l/zh/user-guide/workflows/external-tool-integration)指南中的這些功能的實例。
