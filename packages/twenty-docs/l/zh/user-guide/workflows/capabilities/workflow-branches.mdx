---
title: 工作流分支
description: 在你的工作流中创建并行路径和条件逻辑。
---

分支可以将你的工作流拆分为多个路径，这些路径可根据你的数据同时运行或按条件运行。

<img src="/images/user-guide/workflows/branches.png" style={{width:'100%'}} />

## 分支的工作原理

当你从单个节点创建多个连接时，每条路径都会成为一个分支。 默认情况下，**所有分支都会并行执行**——它们不会相互等待。

## 创建分支

### 添加新分支

1. **在主画布上右键单击**（在工作流中，不要在现有节点上）
2. 点击**添加节点**
3. 为你的新分支选择节点类型
4. 将箭头从上一步的底部拖到此新操作的顶部
5. 重复以上操作，从同一节点添加更多分支。

<Note>
  每个分支都是独立的。 添加分支不会影响该节点的其他现有路径。
</Note>

### 可视化布局

在工作流编辑器中，分支显示为并行路径。 你可以拖动节点来重新排列可视化布局，而不会影响执行。

## 条件分支

由于默认情况下所有分支都会运行，请使用**筛选**节点来控制哪些路径实际执行：

| 分支 | 筛选条件      | 操作     |
| -- | --------- | ------ |
| A  | 阶段 = "赢单" | 发送祝贺邮件 |
| B  | 阶段 = "丢单" | 创建跟进任务 |
| C  | 阶段 = "谈判" | 通知经理   |

1. 从你的触发器或操作创建分支
2. 在每个分支的第一步添加一个**筛选**节点
3. 为每个筛选节点配置互斥条件
4. 在每个筛选之后添加你的操作

只有满足筛选条件的分支才会继续执行。

## 合并分支

**分支不会自动合并。** 每个分支都会独立运行直至结束。 对此你有充分的灵活性：

* **选项 1：保持分支独立**
  每个分支独立处理其后续操作。 当分支不需要汇合时，这是最简单的方法。

* **选项 2：手动合并分支**
  在创建工作流时，你可以手动将多个分支连接到同一个下游操作。 只需将每个分支末端的箭头拖到同一个节点。

<Note>
  虽然你可以使用[延迟](/l/zh/user-guide/workflows/capabilities/workflow-actions#delay)节点来暂停执行，但目前无法配置为等待"直到另一个分支结束"。
</Note>

## 相关

* [如何在工作流中使用分支](/l/zh/user-guide/workflows/capabilities/use-branches-in-workflows) - 分步指南
* [工作流操作](/l/zh/user-guide/workflows/capabilities/workflow-actions) - 可用操作（包括筛选）
