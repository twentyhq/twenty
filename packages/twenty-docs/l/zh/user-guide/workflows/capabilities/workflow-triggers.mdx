---
title: 工作流程触发器
description: 了解可启动你的工作流的不同触发器。
---

## 关于触发器

工作流程总是从一个单一触发器开始，定义自动化运行的条件。

<img src="/images/user-guide/workflows/workflow_triggers.png" style={{width:'100%'}} />

<Tip>
  **支持高级对象！** 除了标准 CRM 对象（人员、公司、商机）之外，你还可以基于以下对象触发工作流并执行操作：

  * 工作区成员
  * 日历事件
  * 消息（电子邮件）
  * 任务、备注以及许多其他系统对象

  这将带来强大的自动化能力，例如在创建日历事件时通知团队成员，或自动处理收到的电子邮件。
</Tip>

## 记录已创建

当在选定的对象(人员、公司、机会或任何自定义对象)中创建新记录时，启动工作流程。

**配置**:选择要监控新记录的对象类型。

<Note>
  * 此触发器非常适合由 CSV、邮箱和日历同步、API 创建的记录。
  * **不建议用于手动创建的记录**：使用此触发器，记录一创建就会启动工作流。 由于 Twenty UI 提供即时自动保存（没有先进入编辑模式再验证保存记录的流程），因此在用户输入完所有字段之前，工作流就会被触发。
    若要在手动创建的记录上触发此工作流，建议改用触发器 `Record is created or updated`。
</Note>

## 记录已更新

当对现有记录进行更改时，启动工作流程。

**配置**：

* 选择对象类型
* 可以选择指定要监控更改的字段

## 记录已更新或创建

当在选定的对象中创建或更新记录时，启动工作流程。

**重要性**:此触发器尤其有用，因为通过不同方法创建的记录行为不同：

* **API/CSV导入**:记录立即以填充所有字段的方式创建
* **手动创建**:首先创建记录，然后在随后的更新中添加字段

**配置**：

* 选择要监控的对象类型
* 可以选择指定要监控更改的字段
* 工作流程将在初始创建和后续更新时触发

## 记录已删除

当从对象中移除记录时，启动工作流程。

**配置**:选择要监控删除的对象类型。

## 手动触发器

当由用户操作触发时启动工作流程。 此触发器可以通过 `Cmd+K` 菜单访问，或在选择记录后通过顶部导航栏中显示的自定义按钮进行访问。

<img src="/images/user-guide/workflows/add_to_newsletter_button.png" style={{width:'100%'}} />

**可用性配置**:
选择工作流程如何处理记录选择：

* **全局**:无需记录即可触发此工作流程。 工作流可在任意位置（从任何对象）通过命令菜单 `Cmd + K` 触发，且不使用记录作为输入。

* **单个**:选定的记录将传送至您的工作流程。 已为特定对象配置。 可以在触发工作流程之前选择多个记录。 工作流将从头到尾运行，与所选记录的数量相同的次数。

  <Note>
    **软限制：100 次/分钟**。 超过该限制后，工作流将保持在 "Not Started" 状态，并会逐步处理—由后台作业处理，或在另一个工作流进入队列时处理。 这意味着你可以通过一次触发选择超过 100 条记录；只是执行会更慢。
  </Note>

* **批量**：所选记录将传递给您的工作流程。 已为特定对象配置。 可以在触发工作流程之前选择多个记录。 工作流程将运行一次，并将整个记录列表作为输入。 这意味着工作流需要包含一个[迭代器操作](/l/zh/user-guide/workflows/capabilities/workflow-actions#iterator)。

<Note>
  这更为高级，最适合希望优化工作流运行次数的人。
</Note>

<img src="/images/user-guide/workflows/manual_trigger.png" style={{width:'100%'}} />

**附加配置**：

* 选择目标对象（用于单个和批量可用性）
* 为工作流程触发器选择一个命令图标
* 配置导航栏位置（已固定或未固定）

**访问方法**：

* 使用 `Cmd+K` 菜单查找并启动手动工作流
* 导航栏顶部的自定义按钮（如果已配置）

## 基于时间的触发器：按计划

在您定义的重复基础上启动工作流程。

**配置**：

* 选择时间单位（分钟、小时、天）
* 输入值或使用自定义 Cron 表达式进行高级调度

<Note>
  **时区**：计划的工作流在 **UTC** 下运行。 为每日计划设置时间时，请将本地时间换算为 UTC。
</Note>

## 外部触发器：Webhook

当接收到外部服务的 GET 或 POST 请求时启动工作流程。

<img src="/images/user-guide/workflows/webhook_trigger.png" style={{width:'100%'}} />

**配置**：

* 该工作流会提供唯一的 webhook URL—复制它并将其添加到你的外部系统，作为调用的端点。
* 对于 POST 请求，定义预期的正文结构，以便 Twenty 知道将接收哪些数据。 在此添加你将接收的字段，这些字段将在下方的工作流中使用。
* 配置认证（即将推出）。

## 选择合适的触发器

| 用例        | 推荐的触发器       |
| --------- | ------------ |
| 新线索需要处理   | 记录已创建        |
| 数据变更需要同步  | 记录已更新        |
| 导入/手动数据处理 | 记录已更新或创建     |
| 删除后的清理    | 记录已删除        |
| 用户发起的操作   | 手动启动         |
| 定期报告      | 计划           |
| 外部集成      | Webhook 或按计划 |
