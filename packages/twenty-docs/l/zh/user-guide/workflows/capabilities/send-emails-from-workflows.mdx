---
title: 通过工作流发送电子邮件
description: 使用工作流操作自动发送个性化电子邮件。
image: /images/user-guide/workflows/workflow.png
---

当您的 CRM 中发生特定事件时自动发送电子邮件——欢迎新联系人、跟进机会，或通知团队成员。

## 先决条件

在您可以通过工作流发送电子邮件之前：

1. 在 **Settings → Accounts** 下连接电子邮件帐户
2. 确保该帐户已启用发送权限

## 基础电子邮件工作流

### 示例：新联系人的欢迎电子邮件

**目标**：当 CRM 中添加新联系人时，发送一封欢迎电子邮件。

**设置**：

1. **创建工作流**：转到 **Settings → Workflows** 并点击 **+ New Workflow**

2. **添加触发器**：选择 **Record is Created** → **People**

3. **添加 Send Email 操作**：
   * 点击 **+** 以添加一个操作
   * 选择 **Send Email**
   * 配置电子邮件：

| 字段      | 值                                      |
| ------- | -------------------------------------- |
| **收件人** | `{{trigger.object.email}}`             |
| **主题**  | `欢迎来到 {{Your Company Name}}`           |
| **正文**  | `Hi {{trigger.object.firstName}}, ...` |

4. **测试并激活**：使用示例记录进行测试，然后激活

## 在电子邮件中使用变量

使用 `{{variable}}` 语法引用前面步骤中的数据：

```text
Hi {{trigger.object.firstName}},

感谢与我们建立联系！

贵公司 {{trigger.object.company.name}} 现已加入我们的系统。

此致敬礼，
团队
```

### 触发器中的可用变量

| 触发类型          | 常用变量                                   |
| ------------- | -------------------------------------- |
| **记录已创建/已更新** | `{{trigger.object.fieldName}}`         |
| **手动**        | `{{trigger.selectedRecord.fieldName}}` |
| **Webhook**   | `{{trigger.body.fieldName}}`           |

## 高级：条件邮件

### 示例：基于线索来源发送不同邮件

**目标**：根据线索来源发送不同的欢迎邮件。

**设置**：

1. **触发器**：Record is Created（People）

2. **添加 Filter 操作**：
   * 条件：`{{trigger.object.source}}` 等于 "Website"
   * 如果为真 → 继续发送网站渠道的欢迎邮件

3. **其他来源的分支**：
   * 为不同来源创建并行分支
   * 每个分支都有其自己的 Send Email 操作

## 向多个收件人发送电子邮件

### 示例：交易达成时通知团队

**目标**：当机会赢单时，向销售代表及其经理发送电子邮件。

**设置**：

1. **触发器**：记录已更新（Opportunities，Stage = "Closed Won"）

2. **搜索记录**：查找机会所有者的经理

3. **发送邮件 #1**：发送给机会所有者
   * 收件人：`{{trigger.object.owner.email}}`
   * 主题：`Congratulations on closing {{trigger.object.name}}!`

4. **发送邮件 #2**：发送给经理
   * 收件人：`{{searchRecords.manager.email}}`
   * 主题：`Deal Won: {{trigger.object.name}}`

## 定时跟进邮件

### 示例：会议后 3 天进行跟进

**目标**：在会议被记录后 3 天发送一封跟进邮件。

**设置**：

1. **触发器**：记录创建（Activities，Type = "Meeting"）

2. **延迟操作**：等待 3 天

3. **发送邮件**：
   * 收件人：会议参与者
   * 主题：就我们的交流进行跟进
   * 正文：参考触发器中的会议详细信息

## 电子邮件附件

您可以将文件附加到由工作流发送的电子邮件中。 该附件是在配置工作流时上传的静态文件。

### 如何添加附件

1. 在 **Send Email** 操作中，点击 **Attachments** 按钮
2. 点击以从您的计算机上传文件
3. 该文件将附加到此操作发送的所有电子邮件中

### 常见使用案例

| 用例       | 示例文件        |
| -------- | ----------- |
| **欢迎邮件** | 公司宣传册 (PDF) |
| **入门序列** | 入门指南        |
| **销售跟进** | 产品目录或价目表    |
| **活动确认** | 活动详情或议程     |

<Note>
  附件是静态的——将向所有收件人发送相同的文件。 For dynamic documents (like personalized quotes), generate and attach files using a [Logic Function](/l/zh/user-guide/workflows/how-tos/connect-to-other-tools/generate-pdf-from-twenty).
</Note>

## 最佳实践

### 电子邮件内容

* 保持主题行简洁且相关
* 使用收件人姓名进行个性化
* 包含明确的行动号召
* 在激活之前测试邮件

### 送达率

* 不要在短时间内发送过多电子邮件
* 使用专业的电子邮件签名
* 避免使用垃圾邮件触发词
* 确保营销邮件提供退订选项

### 故障排除

* 确认电子邮件帐户已连接且处于活动状态
* 检查收件人的电子邮件地址是否有效
* 查看工作流运行中的错误消息
* 先使用您自己的电子邮件地址进行测试

## 相关内容

* [工作流触发器](/l/zh/user-guide/workflows/capabilities/workflow-triggers)
* [工作流操作](/l/zh/user-guide/workflows/capabilities/workflow-actions)
