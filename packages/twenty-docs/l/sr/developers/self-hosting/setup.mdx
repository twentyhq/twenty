---
title: Подешавање
image: /images/user-guide/table-views/table.png
---

<Frame>
  <img src="/images/user-guide/table-views/table.png" alt="Header" />
</Frame>

import OptionTable from '@site/src/theme/OptionTable'

# Управљање конфигурацијом

<Warning>
**First time installing?** Follow the [Docker Compose installation guide](https://docs.twenty.com/l/sr/developers/self-hosting/docker-compose) to get Twenty running, then return here for configuration.
</Warning>

Twenty offers **two configuration modes** to suit different deployment needs:

**Приступ администраторском панелу:** Само корисници са администраторским привилегијама (`canAccessFullAdminPanel: true`) могу приступити интерфејсу конфигурације.

## 1. Конфигурација Администраторског Панела (Подразумевано)

```bash
IS_CONFIG_VARIABLES_IN_DB_ENABLED=true  # default
```

**Most configuration happens through the UI** after installation:

1. Приступите својој Twenty инстанци (обично `http://localhost:3000`)
2. Идите на **Подешавања / Администраторски Панел / Променљиве Конфигурације**
3. Конфигуришите интеграције, имејл, складиштење и више
4. Changes take effect immediately (within 15 seconds for multi-container deployments)

<Warning>
**Multi-Container Deployments:** When using database configuration (`IS_CONFIG_VARIABLES_IN_DB_ENABLED=true`), both server and worker containers read from the same database. Промене на администраторском панелу утичу на оба аутоматски, без потребе за дуплирањем променљивих окружења између контејнера (осим за инфраструктурне променљиве).
</Warning>

**Шта можете конфигурисати преко администраторског панела:**

- **Аутентикација** - Google/Microsoft OAuth, подешавања лозинке
- **Email** - SMTP settings, templates, verification
- **Складиштење** - S3 конфигурација, локални путеви складиштења
- **Интеграције** - Gmail, Google Календар, Microsoft услуге
- **Workflow & Rate Limiting** - Execution limits, API throttling
- **И још много тога...**

![Admin Panel Configuration Variables](/images/user-guide/setup/admin-panel-config-variables.png)

<Warning>
Свака променљива је документована са описима на вашем админ панелу у **Подешавања → Админ Панел → Променљиве Конфигурације**.
Неке поставке инфраструктуре као што су везе са базом података (`PG_DATABASE_URL`), URL-ови сервера (`SERVER_URL`), и тајне апликације (`APP_SECRET`) могу се конфигурисати само преко `.env` датотеке.

[Complete technical reference →](https://github.com/twentyhq/twenty/blob/main/packages/twenty-server/src/engine/core-modules/twenty-config/config-variables.ts) </Warning>

## 2. Конфигурација искључиво окружењем

```bash
IS_CONFIG_VARIABLES_IN_DB_ENABLED=false
```

**Сва конфигурација управљена преко `.env` датотека:**

1. Подесите `IS_CONFIG_VARIABLES_IN_DB_ENABLED=false` у вашој `.env` датотеци
2. Додајте све променљиве конфигурације у вашу `.env` датотеку
3. Поново покрените контејнере да би промене ступиле на снагу
4. Админ панел ће приказати тренутне вредности али их неће моћи изменити

## Интеграција са Gmail & Google Календар

### Креирајте пројекат Google Cloud

1. Идите на [Google Cloud Console](https://console.cloud.google.com/)
2. Направите нови пројекат или изаберите постојећи
3. Активирајте ове API-e:

- [Gmail API](https://console.cloud.google.com/apis/library/gmail.googleapis.com)
- [Google Calendar API](https://console.cloud.google.com/apis/library/calendar-json.googleapis.com)
- [People API](https://console.cloud.google.com/apis/library/people.googleapis.com)

### Конфигуришите OAuth

1. Идите на [Credentials](https://console.cloud.google.com/apis/credentials)
2. Направите OAuth 2.0 Клијент ID
3. Додајте ове URI-је за преусмеравање:
   - `https://{your-domain}/auth/google/redirect` (for SSO)
   - `https://{your-domain}/auth/google-apis/get-access-token` (for integrations)

### Конфигуришите у Twenty

1. Идите на **Подешавања → Администраторски Панел → Променљиве Конфигурације**
2. Пронађите одељак за **Google Auth**
3. Подесите ове променљиве:
   - `MESSAGING_PROVIDER_GMAIL_ENABLED=true`
   - `CALENDAR_PROVIDER_GOOGLE_ENABLED=true`
   - `AUTH_GOOGLE_CLIENT_ID={client-id}`
   - `AUTH_GOOGLE_CLIENT_SECRET={client-secret}`
   - `AUTH_GOOGLE_CALLBACK_URL=https://{your-domain}/auth/google/redirect`
   - `AUTH_GOOGLE_APIS_CALLBACK_URL=https://{your-domain}/auth/google-apis/get-access-token`

<Warning>
**Environment-only mode:** If you set `IS_CONFIG_VARIABLES_IN_DB_ENABLED=false`, add these variables to your `.env` file instead.
</Warning>

**Потребни обим** (аутоматски конфигурисан):
[Погледајте релевантан изворни код](https://github.com/twentyhq/twenty/blob/main/packages/twenty-server/src/engine/core-modules/auth/utils/get-google-apis-oauth-scopes.ts#L4-L10)

- `https://www.googleapis.com/auth/calendar.events`
- `https://www.googleapis.com/auth/gmail.readonly`
- `https://www.googleapis.com/auth/profile.emails.read`

### Ако је ваша апликација у тест режиму

Ако је ваша апликација у тест режиму, биће потребно да додате тест кориснике у свој пројекат.

Испод [OAuth consent screen](https://console.cloud.google.com/apis/credentials/consent), додајте своје тест кориснике у одељак "Тест корисници".

## Интеграција са Microsoft 365

<Warning>
Корисници морају имати [Microsoft 365 лиценцу](https://admin.microsoft.com/Adminportal/Home) да би могли користити календар и API за слање порука. Неће моћи синхронизовати свој налог на Twenty без тога.
</Warning>

### Креирајте пројекат у Microsoft Azure

Биће потребно да креирате пројекат у [Microsoft Azure](https://portal.azure.com/#view/Microsoft_AAD_IAM/AppGalleryBladeV2) и добијете акредитиве.

### Активирајте API-е

На Microsoft Azure Console активирајте следеће API-е у "Дозволе":

- Microsoft Graph: Mail.ReadWrite
- Microsoft Graph: Mail.Send
- Microsoft Graph: Calendars.Read
- Microsoft Graph: User.Read
- Microsoft Graph: openid
- Microsoft Graph: email
- Microsoft Graph: profile
- Microsoft Graph: offline_access

Напомена: "Mail.ReadWrite" и "Mail.Send" су неопходни само ако желите да шаљете имејлове користећи наше акције урадном процесу. Уместо тога можете користити "Mail.Read" ако желите само да примате имејлове.

### Ауторизовани URI-ји за преусмеравање

Потребно је да додате следеће URI-је за преусмеравање у ваш пројекат:

- `https://{your-domain}/auth/microsoft/redirect` if you want to use Microsoft SSO
- `https://{your-domain}/auth/microsoft-apis/get-access-token`

### Конфигуришите у Twenty

1. Идите на **Подешавања → Администраторски Панел → Променљиве Конфигурације**
2. Пронађите одељак за **Microsoft Auth**
3. Подесите ове променљиве:
   - `MESSAGING_PROVIDER_MICROSOFT_ENABLED=true`
   - `CALENDAR_PROVIDER_MICROSOFT_ENABLED=true`
   - `AUTH_MICROSOFT_ENABLED=true`
   - `AUTH_MICROSOFT_CLIENT_ID={client-id}`
   - `AUTH_MICROSOFT_CLIENT_SECRET={client-secret}`
   - `AUTH_MICROSOFT_CALLBACK_URL=https://{your-domain}/auth/microsoft/redirect`
   - `AUTH_MICROSOFT_APIS_CALLBACK_URL=https://{your-domain}/auth/microsoft-apis/get-access-token`

<Warning>
**Environment-only mode:** If you set `IS_CONFIG_VARIABLES_IN_DB_ENABLED=false`, add these variables to your `.env` file instead.
</Warning>

### Configure scopes

[Погледајте релевантан изворни код](https://github.com/twentyhq/twenty/blob/main/packages/twenty-server/src/engine/core-modules/auth/utils/get-microsoft-apis-oauth-scopes.ts#L2-L9)

- 'openid'
- 'имејл'
- 'профил'
- 'offline_access'
- 'Mail.ReadWrite'
- 'Mail.Send'
- 'Calendars.Read'

### Ако је ваша апликација у тест режиму

Ако је ваша апликација у тест режиму, биће потребно да додате тест кориснике у свој пројекат.

Додајте своје тест кориснике у одељак "Корисници и групе".

## Позадински послови за Календар & Размену Порука

Након конфигурисања Gmail, Google Calendar или Microsoft 365 интеграција, треба да покренете позадинске послове који синхронизују податке.

Register the following recurring jobs in your worker container:

```bash
# from your worker container
yarn command:prod cron:messaging:messages-import
yarn command:prod cron:messaging:message-list-fetch
yarn command:prod cron:calendar:calendar-event-list-fetch
yarn command:prod cron:calendar:calendar-events-import
yarn command:prod cron:messaging:ongoing-stale
yarn command:prod cron:calendar:ongoing-stale
yarn command:prod cron:workflow:automated-cron-trigger
```

## Конфигурација имејла

1. Идите на **Подешавања → Администраторски Панел → Променљиве Конфигурације**
2. Пронађите одељак за **Имејл**
3. Конфигуришите своје SMTP поставке:

<ArticleTabs label1="Gmail" label2="Office365" label3="Smtp4dev">

  <ArticleTab>

Биће потребно да обезбедите [Апликациону лозинку](https://support.google.com/accounts/answer/185833).

- EMAIL_DRIVER=smtp
- EMAIL_SMTP_HOST=smtp.gmail.com
- EMAIL_SMTP_PORT=465
- EMAIL_SMTP_USER=gmail_email_address
- EMAIL_SMTP_PASSWORD='gmail_app_password'

  </ArticleTab>

  <ArticleTab>

**smtp4dev** је лажни SMTP сервер за развој и тестирање.

- EMAIL_DRIVER=smtp
- EMAIL_SMTP_HOST=smtp.office365.com
- EMAIL_SMTP_PORT=587
- EMAIL_SMTP_USER=office365_email_address
- EMAIL_SMTP_PASSWORD='office365_password'

  </ArticleTab>

  <ArticleTab>

**smtp4dev** је лажни SMTP сервер за развој и тестирање.

- Покрените smtp4dev слику: `docker run --rm -it -p 8090:80 -p 2525:25 rnwood/smtp4dev`
- Приступите ui smtp4dev овде: [http://localhost:8090](http://localhost:8090)
- Подесите следеће променљиве:
  - EMAIL_DRIVER=smtp
  - EMAIL_SMTP_HOST=localhost
  - EMAIL_SMTP_PORT=2525

  </ArticleTab>

</ArticleTabs>

<Warning>
**Environment-only mode:** If you set `IS_CONFIG_VARIABLES_IN_DB_ENABLED=false`, add these variables to your `.env` file instead.
</Warning>