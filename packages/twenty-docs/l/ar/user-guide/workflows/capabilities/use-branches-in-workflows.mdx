---
title: استخدام الفروع في سير العمل
description: افهم كيف تعمل الفروع وكيف تتحكم في المسار الذي يتم تنفيذه.
---

## كيف تعمل الفروع

في محرر سير العمل، يمكنك إنشاء مسارات متعددة (فروع) تنطلق من عقدة واحدة. يُمكّنك هذا من إنشاء أتمتة معقدة بنتائج مختلفة.

**مهم**: عند تشغيل سير العمل، **تُنفَّذ جميع الفروع بالتوازي افتراضيًا**. لا توجد بنية منطقية مدمجة "if/else" لاختيار فرع على آخر — كل مسار سيعمل في الوقت نفسه.

## التحكم في الفرع الذي يعمل

لتنفيذ فرع واحد فقط بناءً على شروط محددة، **أضِف عقدة Filter في بداية كل فرع**.

### مثال على الإعداد

1. أنشئ سير العمل الخاص بك بفروع متعددة من عقدة واحدة
2. أضِف عقدة **Filter** كأول خطوة في كل فرع
3. عيِّن شروطًا على كل Filter لتحديد متى يجب أن يواصل ذلك الفرع
4. سيتابع فقط الفرع أو الفروع التي تستوفي شروط Filter

<img src="/images/user-guide/workflows/branches-with-filters.png" style={{width:'100%'}} />

### كيف تعمل عُقد Filter

* إذا كان شرط Filter **متحققًا**: يتابع الفرع التنفيذ
* إذا كان شرط Filter **غير متحقق**: يتوقف الفرع عند عقدة Filter

يُنشئ هذا عمليًا منطقًا شرطيًا بحيث لا يعمل إلا الفرع المناسب بناءً على بياناتك.

## مثال: التوجيه حسب حجم الصفقة

**السيناريو**: عند إغلاق صفقة، أرسِل إشعارات مختلفة حسب حجم الصفقة.

1. **المشغّل**: تم تحديث الفرصة (المرحلة = Closed Won)
2. **الفرع 1**: شرط Filter للمبلغ > $10,000 → إرسال رسالة Slack إلى #big-deals
3. **الفرع 2**: شرط Filter للمبلغ ≤ $10,000 → إرسال بريد إلكتروني إلى مدير المبيعات

يبدأ الفرعان، لكن الفرع الذي يطابق مبلغ الصفقة فقط سيستمر بعد عقدة Filter.

## إنشاء الفروع

<Note>
  لإنشاء فرع جديد من خطوة موجودة، انقر زر **+** على الخطوة وأضِف الإجراء الخاص بك. يمكنك إضافة عدة فروع بالنقر على **+** عدة مرات.
</Note>

1. في محرر سير العمل، حدِّد الخطوة التي تريد التفريع منها
2. انقر **+** لإضافة إجراء
3. سيؤدي هذا إلى إنشاء فرع واحد
4. انقر **+** مرة أخرى على نفس الخطوة لإنشاء فروع إضافية
5. يمكن لكل فرع أن يكون له تسلسل إجراءات خاص به

## دمج الفروع معًا مرة أخرى

بعد أن تُكمل الفروع المتوازية عملها، يمكنك دمجها مرة أخرى في مسار واحد:

1. أكمل إجراءات الفروع
2. أضِف خطوة جديدة ينبغي أن تعمل بعد جميع الفروع
3. اسحب اتصالًا من الخطوة الأخيرة لكل فرع إلى هذه الخطوة الجديدة
4. تنتظر الخطوة المدمجة اكتمال جميع الفروع المتصلة قبل التنفيذ

### مثال: المعالجة ثم الإشعار

```
Trigger
   │
   ├── Branch A: Update Customer Record
   │
   └── Branch B: Create Support Ticket

       ↘  ↙

   Merged Step: Send Confirmation Email
```

لا يتم إرسال رسالة التأكيد عبر البريد الإلكتروني إلا بعد اكتمال تحديث العميل وإنشاء التذكرة.

## أفضل الممارسات

* استخدم دائمًا **عُقد Filter** في بداية الفروع عندما تريد تنفيذًا شرطيًا
* اجعل شروط الفروع **متبادلة الإقصاء** لتجنّب الإجراءات المكررة
* اختبر سير العمل لديك ببيانات مختلفة للتأكد من تشغيل الفروع الصحيحة
* **أعد تسمية خطوات الفروع** بطريقة وصفية ليكون واضحًا ما يفعله كل مسار
* **ادمج الفروع** عندما تحتاج إلى إجراء نهائي بعد المعالجة المتوازية

## ذات صلة

* [الأسئلة الشائعة حول سير العمل](/l/ar/user-guide/workflows/how-tos/need-more-help/workflows-faq) — إجابات حول التنفيذ المتوازي
* [إجراءات سير العمل](/l/ar/user-guide/workflows/capabilities/workflow-actions) — الإجراءات المتاحة للفروع
