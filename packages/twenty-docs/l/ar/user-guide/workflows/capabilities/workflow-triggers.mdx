---
title: محفزات سير العمل
description: تعرّف على المحفزات المختلفة التي تُشغِّل سير العمل لديك.
---

## حول المحفزات

تبدأ سير العمل دائمًا بمحفز واحد يحدد متى ينبغي تشغيل الأتمتة.

<img src="/images/user-guide/workflows/workflow_triggers.png" style={{width:'100%'}} />

<Tip>
  **الكائنات المتقدمة مدعومة!** إلى جانب كائنات CRM القياسية (الأشخاص، الشركات، الفرص)، يمكنك أيضًا تشغيل سير العمل وتنفيذ إجراءات على:

  * أعضاء مساحة العمل
  * أحداث التقويم
  * الرسائل (رسائل البريد الإلكتروني)
  * المهام، والملاحظات، والعديد من كائنات النظام الأخرى

  يفتح هذا المجال لأتمتة قوية مثل إشعار أعضاء الفريق عند إنشاء أحداث التقويم، أو معالجة رسائل البريد الإلكتروني الواردة تلقائيًا.
</Tip>

## إنشاء سجل

يبدأ سير العمل عندما يتم إنشاء سجل جديد في كائن محدد (أشخاص أو شركات أو فرص أو أي كائن مخصص).

**التكوين**: حدد نوع الكائن لمراقبة السجلات الجديدة.

<Note>
  * هذا المحفز رائع للسجلات التي يتم إنشاؤها عبر CSV، ومزامنة صندوق البريد والتقويم، وواجهة برمجة التطبيقات (API).
  * **لا يُنصح به للسجلات التي تُنشأ يدويًا**: مع هذا المحفز، تبدأ عمليات سير العمل فور إنشاء السجل. نظرًا لأن Twenty UI تتيح الحفظ التلقائي أثناء العمل (لا توجد وضعية تحرير ثم تحقق لحفظ السجلات)، فسيتم تشغيل سير العمل قبل أن يُدخل المستخدم جميع الحقول.
    لتشغيل سير العمل هذا على السجلات التي تم إنشاؤها يدويًا، يُوصى باستخدام المحفز `Record is created or updated` بدلًا من ذلك.
</Note>

## تحديث السجل

يبدأ سير العمل عندما يتم إجراء تغييرات على سجل موجود.

**التكوين**:

* اختر نوع الكائن
* اختر الحقول التي تريد مراقبتها للتغييرات بشكل اختياري

## تحديث أو إنشاء سجل

يبدأ سير العمل عندما يتم إنشاء أو تحديث سجل في كائن محدد.

**أهمية الموضوع**: هذا المحفز مهم بشكل خاص لأن السجلات التي تنشأ بطرق مختلفة تتصرف بشكل مختلف:

* **استيراد API/CSV**: يتم إنشاء السجلات مع ملء جميع الحقول فورًا
* **الإنشاء اليدوي**: يتم إنشاء السجلات أولاً، ثم يتم إضافة الحقول في التحديثات اللاحقة

**التكوين**:

* اختر نوع الكائن لمراقبته
* اختر الحقول التي تريد مراقبتها للتغييرات بشكل اختياري
* سيتم تشغيل سير العمل في كل من الإنشاء الأولي وأي تحديثات لاحقة

## حذف السجل

يبدأ سير العمل عندما يتم إزالة سجل من كائن.

**التكوين**: حدد نوع الكائن لمراقبة عمليات الحذف.

## المحفز اليدوي

يبدأ سير العمل عندما يتم تشغيله بواسطة إجراء المستخدم. يمكن الوصول إلى هذا المحفز من خلال قائمة `Cmd+K` أو عبر زر مخصص سيُعرض في شريط التنقل العلوي بعد تحديد سجل/سجلات.

<img src="/images/user-guide/workflows/add_to_newsletter_button.png" style={{width:'100%'}} />

**إعداد التوفر**:
اختر كيفية التعامل مع تحديد السجل في سير العمل:

* **العالمي**: لا يتطلب أي سجل لتشغيل سير العمل هذا. يتم تشغيل سير العمل من قائمة الأوامر `Cmd + K` من أي مكان (من أي كائن) ولا يستخدم سجل/سجلات كمدخل.

* **مفرد**: سيتم تمرير السجل (السجلات) المحددة إلى سير العمل الخاص بك. تم تكوين هذا لكائن معين. يمكن اختيار عدة سجلات قبل إطلاق سير العمل. سوف يعمل سير العمل من البداية إلى النهاية بعدد مرات يساوي عدد السجلات المحددة.

  <Note>
    **حد مرن: 100 عملية تشغيل/دقيقة**. بعد ذلك، تظل عمليات سير العمل في حالة "Not Started" ويتم معالجتها تدريجيًا—إما بواسطة مهمة خلفية أو عندما يدخل سير عمل آخر قائمة الانتظار. هذا يعني أنه يمكنك تحديد أكثر من 100 سجل باستخدام محفز واحد؛ ستكون عملية التنفيذ أبطأ فقط.
  </Note>

* **الاختيار الشامل**: سيتم تمرير السجل/السجلات المحددة إلى سير العمل الخاص بك. تم تكوين هذا لكائن معين. يمكن اختيار عدة سجلات قبل إطلاق سير العمل. سيتم تشغيل سير العمل مرة واحدة، مما يوفر القائمة الكاملة للسجلات كمدخلات. هذا يعني أن سير العمل يحتاج إلى احتواء [إجراء المُكرِّر](/l/ar/user-guide/workflows/capabilities/workflow-actions#iterator).

<Note>
  هذا أكثر تقدمًا، وهو الأفضل لمن يرغبون في تحسين عدد مرات تشغيل سير العمل.
</Note>

<img src="/images/user-guide/workflows/manual_trigger.png" style={{width:'100%'}} />

**تكوين إضافي**:

* حدد الكائن المستهدف (للتوفر الفردي والشامل)
* اختر رمز الأمر لتفعيل سير العمل
* قم بتكوين موضع شريط التنقل (مثبت أو غير مثبت)

**طرق الوصول**:

* قائمة `Cmd+K` للعثور على وتشغيل عمليات سير العمل اليدوية
* زر مخصص في شريط التنقل العلوي (إذا تم تكوينه)

## محفز قائم على الوقت: وفق جدول زمني

يبدأ سير العمل على أساس دوري تحدده.

**التكوين**:

* اختر وحدة الوقت (الدقائق، الساعات، الأيام)
* أدخل قيمة أو استخدم تعبيرات كرون مخصصة للجدولة المتقدمة

<Note>
  **المنطقة الزمنية**: تعمل عمليات سير العمل المجدولة وفق **UTC**. عند تعيين الساعات للجداول اليومية، حوّل وقتك المحلي إلى UTC.
</Note>

## محفز خارجي: ويب هوك

يبدأ سير العمل عندما يتم استقبال طلب GET أو POST من خدمة خارجية.

<img src="/images/user-guide/workflows/webhook_trigger.png" style={{width:'100%'}} />

**التكوين**:

* يوفر سير العمل عنوان URL فريدًا لويب هوك—انسخه وأضفه إلى نظامك الخارجي كنقطة نهاية للاستدعاء.
* بالنسبة لطلبات POST، حدِّد البنية المتوقعة لمحتوى الطلب حتى يعرف Twenty ما البيانات المتوقع تلقيها. أضف هنا الحقول التي ستستلمها والتي ستكون مطلوبة أدناه في سير العمل لديك.
* قم بتكوين المصادقة (قريبًا).

## اختيار المحفز المناسب

| حالة الاستخدام                             | المحفز الموصى به         |
| ------------------------------------------ | ------------------------ |
| العملاء المحتملون الجدد يحتاجون إلى معالجة | إنشاء سجل                |
| تغييرات البيانات تحتاج إلى مزامنة          | تحديث السجل              |
| استيراد/معالجة البيانات يدويًا             | تحديث أو إنشاء سجل       |
| التنظيف بعد الحذف                          | حذف السجل                |
| إجراء يبدأه المستخدم                       | التشغيل يدويًا           |
| تقارير متكررة                              | بجدول زمني               |
| تكامل خارجي                                | ويب هوك أو وفق جدول زمني |
