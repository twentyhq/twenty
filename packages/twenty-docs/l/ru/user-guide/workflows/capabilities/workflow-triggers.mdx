---
title: Триггеры рабочего процесса
description: Узнайте о различных триггерах, которые запускают ваши рабочие процессы.
---

## О триггерах

Рабочие процессы всегда начинаются с единственного триггера, который определяет, когда должна выполняться автоматизация.

<img src="/images/user-guide/workflows/workflow_triggers.png" style={{width:'100%'}} />

<Tip>
  **Поддерживаются расширенные объекты!** Помимо стандартных объектов CRM (люди, компании, сделки), вы также можете запускать рабочие процессы и выполнять действия с:

  * Участники рабочего пространства
  * События календаря
  * Сообщения (электронные письма)
  * Задачи, заметки и многие другие системные объекты

  Это открывает возможности мощной автоматизации, например уведомление участников команды при создании событий календаря или автоматическую обработку входящих писем.
</Tip>

## Запись создана

Запускает рабочий процесс, когда новая запись создается в выбранном объекте (Люди, Компании, Возможности или любой пользовательский объект).

**Настройка**: Выберите тип объекта для отслеживания новых записей.

<Note>
  * Этот триггер отлично подходит для записей, созданных через CSV, синхронизацию почтового ящика и календаря, а также через API.
  * **Не рекомендуется для записей, создаваемых вручную**: с этим триггером рабочие процессы запускаются сразу после создания записи. Поскольку интерфейс Twenty предлагает автосохранение на лету (нет режима редактирования и последующего подтверждения для сохранения записей), рабочий процесс будет запущен до того, как пользователь введет все поля.
    Чтобы запускать этот рабочий процесс для записей, создаваемых вручную, рекомендуется вместо этого использовать триггер `Record is created or updated`.
</Note>

## Запись обновлена

Запускает рабочий процесс, когда в существующую запись вносятся изменения.

**Настройка**:

* Выберите тип объекта
* При необходимости укажите, какие поля отслеживать на предмет изменений

## Запись обновлена или создана

Запускает рабочий процесс, когда запись либо создается, либо обновляется в выбранном объекте.

**Почему это важно**: Этот триггер особенно полезен, потому что записи, созданные разными методами, ведут себя по-разному:

* **Импорт через API/CSV**: Записи создаются сразу со всеми заполненными полями
* **Ручное создание**: Записи создаются сначала, затем поля добавляются в последующих обновлениях

**Настройка**:

* Выберите тип объекта для отслеживания
* При необходимости укажите, какие поля отслеживать на предмет изменений
* Рабочий процесс будет запускаться как при первоначальном создании, так и при последующих обновлениях

## Запись удалена

Запускает рабочий процесс при удалении записи из объекта.

**Настройка**: Выберите тип объекта для отслеживания удалений.

## Ручной триггер

Запускает рабочий процесс, когда он инициируется пользователем. Доступ к этому триггеру можно получить через меню `Cmd+K` или с помощью настраиваемой кнопки, которая будет отображаться на верхней панели навигации после выбора записей.

<img src="/images/user-guide/workflows/add_to_newsletter_button.png" style={{width:'100%'}} />

**Настройка доступности**: Выберите, как рабочий процесс должен обрабатывать выбор записи:

* **Глобально**: Для запуска этого рабочего процесса запись не требуется. Рабочий процесс запускается из командного меню `Cmd + K` в любом месте (с любого объекта) и не использует записи в качестве входных данных.

* **Одиночная**: Выбранные записи будут переданы в ваш рабочий процесс. Это настроено для заданного объекта. Несколько записей могут быть выбраны до запуска рабочего процесса. Рабочий процесс будет выполняться от начала до конца столько раз, сколько выбрано записей.

  <Note>
    **Мягкий лимит: 100 запусков в минуту**. При превышении этого значения рабочие процессы остаются в статусе "Not Started" и обрабатываются постепенно — либо фоновой задачей, либо когда другой рабочий процесс попадает в очередь. Это означает, что вы можете выбрать более 100 записей с помощью одного триггера; выполнение просто будет медленнее.
  </Note>

* **Групповая обработка**: Выбранные записи будут переданы в ваш рабочий процесс. Это настроено для заданного объекта. Несколько записей могут быть выбраны до запуска рабочего процесса. Рабочий процесс будет выполнен один раз, предоставляя весь список записей в качестве входных данных. Это означает, что рабочий процесс должен содержать [действие Iterator](/l/ru/user-guide/workflows/capabilities/workflow-actions#iterator).

<Note>
  Это более продвинутый вариант и лучше всего подходит для тех, кто хочет оптимизировать количество запусков рабочего процесса.
</Note>

<img src="/images/user-guide/workflows/manual_trigger.png" style={{width:'100%'}} />

**Дополнительная настройка**:

* Выберите целевой объект (для одиночной и групповой доступности)
* Выберите значок команды для запуска рабочего процесса
* Настройте размещение в навигационной панели (Закреплено или Не закреплено)

**Методы доступа**:

* Меню `Cmd+K` для поиска и запуска ручных рабочих процессов
* Пользовательская кнопка в верхней навигационной панели (если настроено)

## Триггер по времени: по расписанию

Запускает рабочий процесс на регулярной основе, которую вы определяете.

**Настройка**:

* Выберите единицу времени (минуты, часы, дни)
* Введите значение или используйте пользовательские cron-выражения для сложного планирования

<Note>
  **Часовой пояс**: Запланированные рабочие процессы выполняются в **UTC**. При указании часов для ежедневных расписаний переводите ваше местное время в UTC.
</Note>

## Внешний триггер: вебхук

Запускает рабочий процесс при получении GET или POST-запроса от внешнего сервиса.

<img src="/images/user-guide/workflows/webhook_trigger.png" style={{width:'100%'}} />

**Настройка**:

* Рабочий процесс предоставляет уникальный URL вебхука — скопируйте его и добавьте в вашу внешнюю систему в качестве вызываемой конечной точки.
* Для запросов POST определите ожидаемую структуру тела, чтобы система Twenty понимала, какие данные ожидать. Добавьте здесь поля, которые вы получите и которые понадобятся ниже в вашем рабочем процессе.
* Настройте аутентификацию (скоро будет).

## Выбор подходящего триггера

| Сценарий использования                 | Рекомендуемый триггер        |
| -------------------------------------- | ---------------------------- |
| Новые лиды требуют обработки           | Запись создана               |
| Изменения данных требуют синхронизации | Запись обновлена             |
| Импорт/ручная обработка данных         | Запись обновлена или создана |
| Очистка после удаления                 | Запись удалена               |
| Действие, инициированное пользователем | Запуск вручную               |
| Регулярные отчеты                      | По расписанию                |
| Внешняя интеграция                     | Вебхук или по расписанию     |
