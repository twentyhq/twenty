---
title: Fejlfinding
image: /images/user-guide/what-is-twenty/20.png
---

<Frame>
  <img src="/images/user-guide/what-is-twenty/20.png" alt="Header" />
</Frame>

## Fejlfinding

If you encounter any problem while setting up environment for development, upgrading your instance or self-hosting,
here are some solutions for common problems.

### Selv-hosting

#### F칮rste installation resulterer i `password authentication failed for user "postgres"`

游뚿 **VIGTIGT: Denne l칮sning er KUN for nye installationer** 游뚿
Hvis du har en eksisterende Twenty-instans med produktionsdata, **F칒LG IKKE** disse trin, da de permanent vil slette din database!

Mens du installerer Twenty for f칮rste gang, kan du skifte standarddatabaseadgangskoden.
Adgangskoden, du s칝tter under den f칮rste installation, bliver permanent gemt i databasevolumen. Hvis du senere pr칮ver at 칝ndre denne adgangskode i din konfiguration uden at fjerne det gamle volumen, vil du f친 godkendelsesfejl, fordi databasen stadig bruger den oprindelige adgangskode.

丘멆잺 ADVARSEL: F칮lgende trin vil PERMANENT slette alle databasedata! 丘멆잺
Forts칝t kun, hvis dette er en ny installation uden vigtige data.

For at opdatere `PG_DATABASE_PASSWORD` skal du:

```sh
# Update the PG_DATABASE_PASSWORD in .env
docker compose down --volumes
docker compose up -d
```

#### CR-linjeskift fundet [Windows]

Dette skyldes linje-skifttegnene for Windows og git-konfigurationen. Pr칮v at k칮re:

```
git config --global core.autocrlf false
```

Slet derefter repositariet og klon det igen.

#### Manglende metadata-schema

Under Twenty-installationen skal du forsyne din postgres-database med de korrekte skemaer, udvidelser og brugere.
Hvis du lykkes med at k칮re denne provisioning, skal du have `default` og `metadata` skemaer i din database.
Hvis du ikke har det, skal du s칮rge for, at du ikke har mere end en postgres-instans, der k칮rer p친 din computer.

#### Kan ikke finde modul 'twenty-emails' eller dets tilsvarende typedeklarationer.

Du skal bygge pakken `twenty-emails` f칮r du k칮rer initialiseringen af databasen med `npx nx run twenty-emails:build`

#### Mangler twenty-x pakke

S칮rg for at k칮re yarn i rodmappen og derefter k칮re `npx nx server:dev twenty-server`. Hvis dette stadig ikke virker, pr칮v at bygge den manglende pakke manuelt.

#### Lint ved gem ikke virker

Dette skulle virke automatisk med den installerede eslint-udvidelse. Hvis dette ikke virker, pr칮v at tilf칮je dette til dine vscode-indstillinger (p친 dev-kontainerscopen):

```
"editor.codeActionsOnSave": {

  "source.fixAll.eslint": "explicit"

}
```

#### Mens du k칮rer `npx nx start` eller `npx nx start twenty-front`, kastes der en 'Out of memory' fejl

I `packages/twenty-front/.env` fjern kommenteringen af `VITE_DISABLE_TYPESCRIPT_CHECKER=true` og `VITE_DISABLE_ESLINT_CHECKER=true` for at deaktivere baggrundskontroller, hvilket reducerer behovet for RAM.

**Hvis det ikke virker:**  
K칮r kun de tjenester, du har brug for, i stedet for `npx nx start`. For eksempel, hvis du arbejder p친 serveren, k칮r bare `npx nx worker twenty-server`

**Hvis det ikke virker:**  
Hvis du fors칮gte at k칮re kun `npx nx run twenty-server:start` p친 WSL, og det fejler med nedenst친ende hukommelsesfejl:

`FATAL ERROR: Ineffektive mark-kompaktier n칝r heap-gr칝nse Tildeling mislykkedes - JavaScript heap ude af hukommelse`

En midlertidig l칮sning er at udf칮re nedenst친ende kommando i terminalen eller tilf칮je den i .bashrc-profilen for at f친 ops칝tningen automatisk:

`export NODE_OPTIONS="--max-old-space-size=8192"`

Flaget --max-old-space-size=8192 s칝tter en 칮vre gr칝nse p친 8GB for Node.js heap; brugen stiger med applikationsbehov.
Referencer: https://stackoverflow.com/questions/56982005/where-do-i-set-node-options-max-old-space-size-2048

**Hvis det ikke virker:**  
Unders칮g hvilke processer, der tager mest af din maskins RAM. Hos Twenty bem칝rkede vi, at nogle VScode-udvidelser tog meget RAM, s친 vi deaktiverede dem midlertidigt.

**Hvis det ikke virker:**  
Genstart af din maskine hj칝lper med at rydde sp칮gelsesprocesser.

#### Mens du k칮rer `npx nx start`, er der underlige [0] og [1] i loggene

Det er forventet, da kommandoen `npx nx start` k칮rer flere kommandoer i baggrunden.

#### Ingen e-mails bliver sendt

Det skyldes oftest, at `worker` ikke k칮rer i baggrunden. Pr칮v at k칮re

```
npx nx worker twenty-server
```

#### Kan ikke tilslutte min Microsoft 365-konto

Det skyldes oftest, at din administrator ikke har aktiveret Microsoft 365-licensen for din konto. Tjek [https://admin.microsoft.com/](https://admin.microsoft.com/Adminportal/Home).

Hvis du har en fejlmeddelelse `AADSTS50020`, betyder det sandsynligvis, at du bruger en personlig Microsoft-konto. Det er ikke underst칮ttet endnu. Mere info [her](https://learn.microsoft.com/fr-fr/troubleshoot/entra/entra-id/app-integration/error-code-aadsts50020-user-account-identity-provider-does-not-exist)

#### Mens du k칮rer `yarn`, dukker der advarsler op i konsollen

Advarsler informerer om tilf칮jelse af ekstra afh칝ngigheder, der ikke er eksplicit angivet i `package.json`, s친 l칝nge der ikke vises nogen gennemg친ende fejl, skulle alt fungere som forventet.

#### N친r brugeren f친r adgang til login-siden, vises en fejl om uautoriseret bruger, der fors칮ger at f친 adgang til arbejdsomr친de i loggene

Det er forventet, da brugeren er uautoriseret, n친r den er logget ud, da dens identitet ikke er verificeret.

#### Hvordan tjekker du, om din worker k칮rer?

- G친 til [webhook-test.com](https://webhook-test.com/) og kopier **Din Unikke Webhook-URL**.

<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test.jpg" alt="Webhook test" />
</div>
- 칀bn din Twenty-app, naviger til `/settings`, og aktiver **Avanceret** skiftet nederst til venstre p친 sk칝rmen.
- Opret en ny webhook.
- Inds칝t **Din Unikke Webhook-URL** i **Endpoint Url**-feltet i Twenty. S칝t **Filtre** til `Companies` og `Created`.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-settings.jpg" alt="Webhook settings" />
</div>
- G친 til `/objects/companies` og opret en ny virksomhedsoptegnelse.
- Vend tilbage til [webhook-test.com](https://webhook-test.com/) og kontroller, om en ny **POST-anmodning** er modtaget.
<div style={{textAlign: 'center'}}>
  <img src="/images/docs/developers/self-hosting/webhook-test-result.jpg" alt="Webhook test result" />
</div>
- Hvis der modtages en **POST-anmodning**, k칮rer din worker korrekt. Ellers skal du fejls칮ge din worker.

#### Front-end kan ikke starte og returnerer fejlen TS5042: Option 'project' kan ikke blandes med kildefiler p친 kommandolinjen

Comment out checker plugin in `packages/twenty-ui/vite-config.ts` like in example below

```
plugins: [
      react({ jsxImportSource: '@emotion/react' }),
      tsconfigPaths(),
      svgr(),
      dts(dtsConfig),
      // checker(checkersConfig),
      wyw({
        include: [
          '**/OverflowingTextWithTooltip.tsx',
          '**/Chip.tsx',
          '**/Tag.tsx',
          '**/Avatar.tsx',
          '**/AvatarChip.tsx',
        ],
        babelOptions: {
          presets: ['@babel/preset-typescript', '@babel/preset-react'],
        },
      }),
    ],
```

#### Admin panel ikke tilg칝ngeligt

K칮r `UPDATE core."user" SET "canAccessFullAdminPanel" = TRUE WHERE email = 'you@yourdomain.com';` i database containeren for at f친 adgang til admin-panelet.

### 1-klik Docker compose

#### Kan ikke logge ind

Hvis du ikke kan logge ind efter ops칝tning:

1. K칮r f칮lgende kommandoer:
   ```bash
   docker exec -it twenty-server-1 yarn
   docker exec -it twenty-server-1 npx nx database:reset  --configuration=no-seed
   ```
2. Restart the Docker containers:
   ```bash
   docker compose down
   docker compose up -d
   ```

Bem칝rk, at kommandoen database:reset vil fuldst칝ndigt slette din database og oprette den fra bunden.

#### Forbindelsesproblemer bag en reverse proxy

Hvis du k칮rer Twenty bag en reverse proxy og oplever forbindelsesproblemer:

1. **Verificer SERVER_URL:**

   S칮rg for, at `SERVER_URL` i din `.env` fil matcher din eksterne adgangs-URL, inklusive `https` hvis SSL er aktiveret.

2. **Tjek indstillinger for reverse proxy:**

   - Bekr칝ft, at din reverse proxy korrekt videresender foresp칮rgsler til Twenty-serveren.
   - S칮rg for at overskrifter som `X-Forwarded-For` og `X-Forwarded-Proto` er korrekt indstillet.

3. **Genstart tjenester:**

   Efter at have foretaget 칝ndringer skal du genstarte b친de reverse proxy og Twenty containere.

#### Fejl ved upload af et billede - tilladelse n칝gtet

칁ndring af ejerskab af datamappen p친 v칝rten fra root til en anden bruger og gruppe l칮ser dette problem.

## At f친 hj칝lp

Hvis du st칮der p친 problemer, der ikke er d칝kket i denne vejledning:

- Tjek Logfiler:

  Se containerlogfiler for fejlmeddelelser:

  ```bash
  docker compose logs
  ```

- F칝llesskabsst칮tte:

  Kontakt [Twenty-f칝llesskabet](https://github.com/twentyhq/twenty/issues) eller [supportkanaler](https://discord.gg/cx5n4Jzs57) for hj칝lp.