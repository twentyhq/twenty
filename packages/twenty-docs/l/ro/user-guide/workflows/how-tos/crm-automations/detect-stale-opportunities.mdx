---
title: DetectaÈ›i oportunitÄƒÈ›ile stagnante
description: NotificaÈ›i automat managerii cÃ¢nd oportunitÄƒÈ›ile nu au fost actualizate.
---

MenÈ›ineÈ›i pipeline-ul sÄƒnÄƒtos alertÃ¢nd managerii cÃ¢nd oportunitÄƒÈ›ile devin stagnante. Acest flux de lucru verificÄƒ oportunitÄƒÈ›ile care nu au fost actualizate Ã®ntr-un numÄƒr specificat de zile.

## Problema

OportunitÄƒÈ›ile lÄƒsate fÄƒrÄƒ actualizÄƒri duc la:

* TranzacÈ›ii care se rÄƒcesc
* Previziuni nesigure
* Venituri pierdute

## SoluÈ›ia

CreaÈ›i un flux de lucru programat care gÄƒseÈ™te oportunitÄƒÈ›i stagnante È™i le trimite prin e-mail managerilor lor.

## Configurare pas cu pas

### Pasul 1: CreaÈ›i fluxul de lucru

1. AccesaÈ›i **SetÄƒri â†’ Fluxuri de lucru**
2. FaceÈ›i clic pe **+ Flux de lucru nou**
3. DenumiÈ›i-l "AlertÄƒ pentru oportunitÄƒÈ›i stagnante"

### Pasul 2: ConfiguraÈ›i declanÈ™atorul

1. SelectaÈ›i **On a Schedule**
2. SetaÈ›i sÄƒ ruleze zilnic (de exemplu, Ã®n fiecare zi la 8 AM)

### Pasul 3: CÄƒutaÈ›i oportunitÄƒÈ›i stagnante

1. AdÄƒugaÈ›i acÈ›iunea **Search Records**
2. ConfiguraÈ›i:

| CÃ¢mp       | Valoare                                             |
| ---------- | --------------------------------------------------- |
| **Obiect** | OportunitÄƒÈ›i                                        |
| **Filtru** | Updated At este Ã®nainte de (astÄƒzi - 7 zile)        |
| **Filtru** | Stage nu este "Closed Won" È˜I nu este "Closed Lost" |
| **LimitÄƒ** | 100                                                 |

### Pasul 4: VerificaÈ›i dacÄƒ s-au gÄƒsit rezultate

1. AdÄƒugaÈ›i acÈ›iunea **Filter**
2. CondiÈ›ie: `{{searchRecords.length}}` este mai mare decÃ¢t 0
3. DacÄƒ nu existÄƒ oportunitÄƒÈ›i stagnante, fluxul de lucru se opreÈ™te aici

### Pasul 5: FormataÈ›i alerta (acÈ›iune Code)

AdÄƒugaÈ›i o acÈ›iune **Code** pentru a formata e-mailul:

```javascript
export const main = async (params) => {
  const opportunities = params.opportunities;

  // Group opportunities by owner
  const byOwner = {};
  opportunities.forEach(opp => {
    const ownerEmail = opp.owner?.email || 'unassigned';
    if (!byOwner[ownerEmail]) {
      byOwner[ownerEmail] = [];
    }
    byOwner[ownerEmail].push({
      name: opp.name,
      amount: opp.amount,
      lastUpdated: opp.updatedAt,
      stage: opp.stage
    });
  });

  // Format summary for manager
  let summary = "Stale Opportunities Report\n\n";
  Object.entries(byOwner).forEach(([owner, opps]) => {
    summary += `${owner}: ${opps.length} stale opportunities\n`;
    opps.forEach(opp => {
      summary += `  - ${opp.name} (${opp.stage})\n`;
    });
    summary += "\n";
  });

  return {
    summary,
    totalCount: opportunities.length
  };
};
```

### Pasul 6: TrimiteÈ›i e-mailul de alertÄƒ

AdÄƒugaÈ›i acÈ›iunea **Send Email**:

| CÃ¢mp        | Valoare                                                          |
| ----------- | ---------------------------------------------------------------- |
| **CÄƒtre**   | sales-manager@yourcompany.com                                    |
| **Subiect** | `ğŸš¨ {{code.totalCount}} oportunitÄƒÈ›i stagnante necesitÄƒ atenÈ›ie` |
| **Corp**    | `{{code.summary}}`                                               |

### Pasul 7: TestaÈ›i È™i activaÈ›i

1. FaceÈ›i clic pe **Test** pentru a rula fluxul de lucru
2. VerificaÈ›i cÄƒ e-mailul conÈ›ine datele corecte
3. ActivaÈ›i cÃ¢nd sunteÈ›i gata

## OpÈ›iuni de personalizare

### ModificaÈ›i pragul de stagnare

ModificaÈ›i filtrul Search Records pentru a schimba de la 7 zile la perioada preferatÄƒ:

* 3 zile pentru vÃ¢nzÄƒri cu ritm ridicat
* 14 zile pentru tranzacÈ›ii enterprise
* 30 de zile pentru cicluri de vÃ¢nzÄƒri lungi

### Alerte pentru reprezentanÈ›i individuali

Ãn loc de un singur e-mail cÄƒtre manager, folosiÈ›i **Iterator** pentru a trimite e-mailuri personalizate fiecÄƒrui reprezentant despre tranzacÈ›iile lor stagnante.

### AdÄƒugaÈ›i escaladare

CreaÈ›i mai multe fluxuri de lucru cu severitate Ã®n creÈ™tere:

1. Ziua 7: E-mail cÄƒtre reprezentant
2. Ziua 14: E-mail cÄƒtre reprezentant + manager
3. Ziua 21: CreaÈ›i o sarcinÄƒ pentru ca managerul sÄƒ intervinÄƒ

### IncludeÈ›i Ã®n Slack

UtilizaÈ›i **HTTP Request** pentru a posta cÄƒtre un webhook Slack Ã®n locul sau pe lÃ¢ngÄƒ e-mail.

## Conexe

* [AcÈ›iuni ale fluxurilor de lucru](/l/ro/user-guide/workflows/capabilities/workflow-actions)
* [TrimiteÈ›i e-mailuri din fluxuri de lucru](/l/ro/user-guide/workflows/capabilities/send-emails-from-workflows)
